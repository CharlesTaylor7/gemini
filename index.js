(()=>{var Nk=function(t){return function(r){return function(e){return function(n){return function(u){return n<u?t:n===u?r:e}}}}};var g_=Nk;var S_=function(t){return function(r){return t===r}},$_=S_,h_=S_;var dt=function(){function t(){}return t.value=new t,t}();var zr=function(t){return t.reflectSymbol};var Je=function(t){return function(r){return r[t]}};var nu={eq:h_};var Jf={eq:$_};var j=function(t){return t.eq},qk=j(Jf);var Xa=function(t){var r=j(t);return function(e){return function(n){return qk(r(e)(n))(!1)}}};var K=function(){function t(){}return t.value=new t,t}(),Q=function(){function t(){}return t.value=new t,t}(),ft=function(){function t(){}return t.value=new t,t}();var uu={eq:function(t){return function(r){return t instanceof K&&r instanceof K||t instanceof Q&&r instanceof Q||t instanceof ft&&r instanceof ft}}};var C_=function(t){return function(r){return t-r|0}};var F_=function(t){return function(r){return t+r|0}},T_=function(t){return function(r){return t*r|0}},x_=function(t){return function(r){return t+r}},M_=function(t){return function(r){return t*r}};var ja={add:x_,zero:0,mul:M_,one:1},au={add:F_,zero:0,mul:T_,one:1};var pe=function(t){return t.mul};var yr=function(t){return t.add};var yn=function(t){return t.sub};var ao={sub:C_,Semiring0:function(){return au}};var Xt=function(){return{compare:g_(K.value)(ft.value)(Q.value),Eq0:function(){return nu}}}();var ut=function(t){return t.compare};var iu=function(t){var r=ut(t);return function(e){return function(n){return function(u){return r(e(n))(e(u))}}}};var E_=function(t){var r=ut(t);return function(e){return function(n){var u=r(e)(n);return!(u instanceof K)}}},Qf=function(t){var r=ut(t);return function(e){return function(n){var u=r(e)(n);return u instanceof K}}};var Yf=function(t){var r=ut(t);return function(e){return function(n){var u=r(e)(n);return!(u instanceof Q)}}};var w_=t=>{for(var r=0,e=t.length;r<e;r++)t[r]()},oo=(t,r)=>{for(var e=0,n=t.length;e<n;e++)r(t[e])},Zf=(t,r)=>{for(let e in t)r(t[e])},tc=()=>({}),rc=(t,r,e)=>{e[t]=r},ec=(t,r)=>{delete r[t]};var I_=function(t){return function(r){for(var e=r.length,n=new Array(e),u=0;u<e;u++)n[u]=t(r[u]);return n}};var ou={compose:function(t){return function(r){return function(e){return t(r(e))}}}},ju=function(t){return t.compose};var Dt=function(t){return t.identity},At={identity:function(t){return t},Semigroupoid0:function(){return ou}};var pr=!0;var Ht=function(t){return function(r){return function(e){return t(e)(r)}}},$=function(t){return function(r){return t}};var Ja=function(t){return function(r){return r(t)}};var S=function(t){return t.map},Yt=function(t){var r=S(t);return function(e){return function(n){return r(n)(e)}}},Ot=function(t){return S(t)($(void 0))},I=function(t){var r=S(t);return function(e){return function(n){return r($(n))(e)}}};var Zr={map:ju(ou)},Zt={map:I_};var P_=function(t){return function(r){return t+r}},L_=function(t){return function(r){return t.length===0?r:r.length===0?t:t.concat(r)}};var R_={append:function(t){return function(r){return void 0}}},fo={append:P_};var Tr={append:L_};var B=function(t){return t.append},N_=function(t){var r=B(t);return{append:function(e){return function(n){return function(u){return r(e(u))(n(u))}}}}};var jt=function(t){return t.alt};var nd=Dt(At);var St=function(t){return t.apply};var gn=function(t){var r=St(t),e=S(t.Functor0());return function(n){return function(u){return r(e($(nd))(n))(u)}}},mr=function(t){var r=St(t),e=S(t.Functor0());return function(n){return function(u){return function(a){return r(e(n)(u))(a)}}}};var L=function(t){return t.pure};var Ze=function(t){var r=L(t);return function(e){return function(n){if(e)return n;if(!e)return r(void 0);throw new Error("Failed pattern match at Control.Applicative (line 63, column 1 - line 63, column 63): "+[e.constructor.name,n.constructor.name])}}},Ka=function(t){var r=St(t.Apply0()),e=L(t);return function(n){return function(u){return r(e(n))(u)}}};var N=function(t){return t};var cu=N;var H_=function(t){return function(r){return function(){return t(r())}}},q_=function(t){return function(){return t}},G_=function(t){return function(r){return function(){return r(t())()}}};function Sr(t){return function(){return{value:t}}}var _r=function(t){return function(){return t.value}},z_=function(t){return function(r){return function(){var e=t(r.value);return r.value=e.state,e.value}}},te=function(t){return function(r){return function(){return r.value=t}}};var od=Dt(At),le=function(t){return t.discard};var vt=function(t){return t.bind},tn=function(t){return Ht(vt(t))};var V_=function(t){var r=vt(t);return function(e){return function(n){return function(u){return r(e(u))(n)}}}};var _e={discard:function(t){return vt(t)}};var Ju=function(t){var r=vt(t);return function(e){return r(e)(od)}};var ae=function(t){var r=vt(t.Bind1()),e=L(t.Applicative0());return function(n){return function(u){return r(n)(function(a){return r(u)(function(p){return e(a(p))})})}}};var fd=String.fromCharCode(65535),cd=String.fromCharCode(0),pd=Number.POSITIVE_INFINITY,ld=Number.NEGATIVE_INFINITY;var ve=function(t){return t.top};var pu={top:2147483647,bottom:-2147483648,Ord0:function(){return Xt}};var Se=function(t){return t.bottom};var J_=function(t){return t.toString()},K_=function(t){var r=t.toString();return isNaN(r+".0")?r:r+".0"};var ic={show:K_},se={show:J_};var ct=function(t){return t.show};var Or=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Mt=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}();var rn=function(){function t(){}return t.value=new t,t}();var oc=function(t){return t.from};var dd=Dt(At),g=function(){function t(){}return t.value=new t,t}(),d=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}();var Jt=function(t){return function(r){return function(e){if(e instanceof g)return t;if(e instanceof d)return r(e.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,r.constructor.name,e.constructor.name])}}},Qu=Jt(!0)($(!1)),Qa=Jt(!1)($(!0));var tr={map:function(t){return function(r){return r instanceof d?new d(t(r.value0)):g.value}}},yd=S(tr);var xr=function(t){return Jt(t)(dd)},Mr=function(){return function(t){if(t instanceof d)return t.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[t.constructor.name])}};var _u={apply:function(t){return function(r){if(t instanceof d)return yd(t.value0)(r);if(t instanceof g)return g.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[t.constructor.name,r.constructor.name])}},Functor0:function(){return tr}};var re={bind:function(t){return function(r){if(t instanceof d)return r(t.value0);if(t instanceof g)return g.value;throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): "+[t.constructor.name,r.constructor.name])}},Apply0:function(){return _u}};var en=function(){return{pure:d.create,Apply0:function(){return _u}}}();var fc={alt:function(t){return function(r){return t instanceof g?r:t}},Functor0:function(){return tr}},gd=function(){return{empty:g.value,Alt0:function(){return fc}}}(),Yu={Applicative0:function(){return en},Plus1:function(){return gd}};var Ut=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Rt=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}();var vu=function(t){return function(r){return function(e){if(e instanceof Ut)return t(e.value0);if(e instanceof Rt)return r(e.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[t.constructor.name,r.constructor.name,e.constructor.name])}}},cc=function(){return vu($(g.value))(d.create)}();var Sn=function(t){return t};var su={map:function(t){return function(r){return t(r)}}};var Y_={apply:function(t){return function(r){return t(r)}},Functor0:function(){return su}},Sd={bind:function(t){return function(r){return r(t)}},Apply0:function(){return Y_}},$d={pure:Sn,Apply0:function(){return Y_}},Ya={Applicative0:function(){return $d},Bind1:function(){return Sd}};var Z_=function(t){return Math.min(Math.abs(t),2147483647)},tv=function(t){return function(r){return r===0?0:r>0?Math.floor(t/r):-Math.floor(t/-r)}},rv=function(t){return function(r){if(r===0)return 0;var e=Math.abs(r);return(t%e+e)%e}};var ev={Ring0:function(){return ao}};var he=function(t){return t.mod};var be={degree:Z_,div:tv,mod:rv,CommutativeRing0:function(){return ev}},$n=function(t){return t.div};var Cn={mempty:void 0,Semigroup0:function(){return R_}};var J=function(t){return t.mempty},Gn=function(t){var r=J(t),e=N_(t.Semigroup0());return{mempty:function(n){return r},Semigroup0:function(){return e}}};var pc=function(t){return function(){return t}},nv=function(t){return function(r){return function(){return r(t())()}}};var uv=function(t,r,e){var n=0,u;return function(a){if(n===2)return u;if(n===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+r+", line "+a+")",r,a);return n=1,u=e(),n=2,u}},Zu={Applicative0:function(){return Rr},Bind1:function(){return ta}},ta={bind:nv,Apply0:function(){return lc(0)}},Rr={pure:pc,Apply0:function(){return lc(0)}},av=uv("functorEffect","Effect",function(){return{map:Ka(Rr)}}),lc=uv("applyEffect","Effect",function(){return{apply:ae(Zu),Functor0:function(){return av(0)}}}),h=av(20),Za=lc(23),Md=mr(Za),_c=function(t){return{append:Md(B(t))}},Fn=function(t){var r=_c(t.Semigroup0());return{mempty:pc(J(t)),Semigroup0:function(){return r}}};var iv=function(t){return function(){return{value:t}}};var $r=function(t){return function(){return t.value}},ov=function(t){return function(r){return function(){var e=t(r.value);return r.value=e.state,e.value}}},Vr=function(t){return function(r){return function(){r.value=t}}};var wd=Ot(h),Xr=iv,Id=ov,co=function(t){return Id(function(r){var e=t(r);return{state:e,value:e}})},ti=function(t){return function(r){return wd(co(t)(r))}};var Ud=function(t,r,e){var n=0,u;return function(a){if(n===2)return u;if(n===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+r+", line "+a+")",r,a);return n=1,u=e(),n=2,u}},Wd=z_,We=function(t){return Wd(function(r){var e=t(r);return{state:e,value:e}})},Er={map:H_};var bc={Applicative0:function(){return Dr},Bind1:function(){return ri}},ri={bind:G_,Apply0:function(){return mc(0)}},Dr={pure:q_,Apply0:function(){return mc(0)}},mc=Ud("applyST","Control.Monad.ST.Internal",function(){return{apply:ae(bc),Functor0:function(){return Er}}}),po=mc(47),Bd=mr(po);var Hd=L(Dr),Dc=function(t){return{append:Bd(B(t))}};var cv=function(t){var r=Dc(t.Semigroup0());return{mempty:Hd(J(t)),Semigroup0:function(){return r}}};var bu={liftST:cu,Monad0:function(){return Zu}},mu=function(t){return t.liftST};var qd=function(t,r){if(t<1)return[];var e=new Array(t);return e.fill(r)},Gd=function(t,r){for(var e=[],n=0,u=0;u<t;u++)e[n++]=r;return e},zd=typeof Array.prototype.fill=="function"?qd:Gd,Vd=function(){function t(u,a){this.head=u,this.tail=a}var r={};function e(u){return function(a){return new t(u,a)}}function n(u){for(var a=[],p=0,l=u;l!==r;)a[p++]=l.head,l=l.tail;return a}return function(u,a){return n(u(e)(r)(a))}}(),Be=function(t){return t.length},pv=function(t,r,e){return e.length===0?t({}):r(e[0])(e.slice(1))},lv=function(t,r,e,n){return n<0||n>=e.length?r:t(e[n])};var _v=function(t,r,e,n){for(var u=0,a=n.length;u<a;u++)if(e(n[u]))return t(u);return r};var vv=function(t,r,e,n){if(e<0||e>=n.length)return r;var u=n.slice();return u.splice(e,1),t(u)};var sv=function(){function t(r,e,n,u,a,p){var l,_,y,w,T,x,O;for(l=a+(p-a>>1),l-a>1&&t(r,e,u,n,a,l),p-l>1&&t(r,e,u,n,l,p),_=a,y=l,w=a;_<l&&y<p;)T=u[_],x=u[y],O=e(r(T)(x)),O>0?(n[w++]=x,++y):(n[w++]=T,++_);for(;_<l;)n[w++]=u[_++];for(;y<p;)n[w++]=u[y++]}return function(r,e,n){var u;return n.length<2?n:(u=n.slice(0),t(r,e,u,n.slice(0),0,n.length),u)}}();var bv=function(t,r){return t[r]};function Tn(){return[]}var mv=function(t,r,e,n){return e>=0&&e<n.length?t(n[e]):r},Dv=function(t,r,e){var n=t>=0&&t<e.length;return n&&(e[t]=r),n};var Av=function(t,r){return r.push.apply(r,t)};var kv=function(t,r,e,n){return n.splice.apply(n,[t,r].concat(e))};function jd(t){return t}var dv=jd;function yv(t){return t.slice()}var gv=yv,Sv=yv,Jd=function(){function t(r,e,n,u,a,p){var l,_,y,w,T,x,O;for(l=a+(p-a>>1),l-a>1&&t(r,e,u,n,a,l),p-l>1&&t(r,e,u,n,l,p),_=a,y=l,w=a;_<l&&y<p;)T=u[_],x=u[y],O=e(r(T)(x)),O>0?(n[w++]=x,++y):(n[w++]=T,++_);for(;_<l;)n[w++]=u[_++];for(;y<p;)n[w++]=u[y++]}return function(r,e,n){return n.length<2||t(r,e,n,n.slice(0),0,n.length),n}}();var ei=function(r){return function(e){return function(){return r(e)}}},Ac=function(r){return function(e){return function(n){return function(){return r(e,n)}}}},kc=function(r){return function(e){return function(n){return function(u){return function(){return r(e,n,u)}}}}},vo=function(r){return function(e){return function(n){return function(u){return function(a){return function(){return r(e,n,u,a)}}}}}};var zn=ei(dv);var $v=ei(Sv);var dc=vo(kv);var He=function(t){return Ac(Av)([t])};var hv=kc(Dv),yc=function(){return vo(mv)(d.create)(g.value)}(),gc=function(t){return function(r){return function(e){return function(){var u=yc(t)(e)();if(u instanceof d)return hv(t)(r(u.value0))(e)();if(u instanceof g)return!1;throw new Error("Failed pattern match at Data.Array.ST (line 222, column 3 - line 224, column 26): "+[u.constructor.name])}}}};var so=ei(gv);var Cv=function(t){return function(r){return t&&r}},Fv=function(t){return function(r){return t||r}},Tv=function(t){return!t};var ra=function(t){return t.tt};var Au=function(t){return t.not};var ea=function(t){return t.disj},xn={ff:!1,tt:!0,implies:function(t){return function(r){return ea(xn)(Au(xn)(t))(r)}},conj:Cv,disj:Fv,not:Tv};var na=function(t){return t.conj};var $c=S(Er),xv=Au(xn),Sc=Ot(Er),Zd=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}(),ty=function(t){return function(){var e=_r(t.value1)();return t.value0(e)}},Mv=function(t){return function(){var e=_r(t.value1)();return We(function(n){return n+1|0})(t.value1)(),t.value0(e)}},Ev=function(t){return function(r){return function(e){return function(){for(var u=Sr(!1)();$c(xv)(_r(u))();)(function(){var p=ty(r)();return p instanceof d&&t(p.value0)?(He(p.value0)(e)(),Sc(Mv(r))()):Sc(te(!0)(u))()})();return{}}}}};var hc=function(t){return $c(Zd.create(t))(Sr(0))},Cc=function(t){return function(r){return function(){for(var n=Sr(!1)();$c(xv)(_r(n))();)(function(){var a=Mv(t)();if(a instanceof d)return r(a.value0)();if(a instanceof g)return Sc(te(!0)(n))();throw new Error("Failed pattern match at Data.Array.ST.Iterator (line 42, column 5 - line 44, column 47): "+[a.constructor.name])})();return{}}}};var Iv=function(t){return function(r){return function(e){for(var n=r,u=e.length,a=u-1;a>=0;a--)n=t(e[a])(n);return n}}},Pv=function(t){return function(r){return function(e){for(var n=r,u=e.length,a=0;a<u;a++)n=t(n)(e[a]);return n}}};var v=function(t){return t.empty};var M=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}(),Fc=function(t){return function(r){return t(r.value0)(r.value1)}};var Ur=function(t){return t.value1};var ku={map:function(t){return function(r){return new M(r.value0,t(r.value1))}}};var Fe=function(t){return t.value0};var ua=function(t){return function(r){return function(e){return t(new M(r,e))}}};var ai=function(t){return t};var sy=function(t){var r=na(t);return{append:function(e){return function(n){return r(e)(n)}}}};var Mc=function(t){var r=sy(t);return{mempty:ra(t),Semigroup0:function(){return r}}};var Ar=function(){return N};var Uv=Ar();var jr=function(){return Uv};var Ao=function(){return function(){return function(){return function(){return function(t){return Uv}}}}};var Ay=Ao()()()(),dr=function(t){return t.foldr};var oa=function(t){var r=gn(t.Apply0()),e=L(t);return function(n){var u=dr(n);return function(a){return u(function(p){return r(a(p))})(e(void 0))}}},on=function(t){var r=oa(t);return function(e){return Ht(r(e))}};var er=function(t){return t.foldl};var Vn={foldr:function(t){return function(r){return function(e){if(e instanceof g)return r;if(e instanceof d)return t(e.value0)(r);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,r.constructor.name,e.constructor.name])}}},foldl:function(t){return function(r){return function(e){if(e instanceof g)return r;if(e instanceof d)return t(r)(e.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,r.constructor.name,e.constructor.name])}}},foldMap:function(t){var r=J(t);return function(e){return function(n){if(n instanceof g)return r;if(n instanceof d)return e(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[e.constructor.name,n.constructor.name])}}}};var Bv=function(t){var r=dr(t);return function(e){var n=B(e.Semigroup0()),u=J(e);return function(a){return r(function(p){return function(l){return n(a(p))(l)}})(u)}}},Nt={foldr:Iv,foldl:Pv,foldMap:function(t){return Bv(Nt)(t)}};var kr=function(t){return t.foldMap};var ci=function(t){var r=kr(t);return function(e){return Ay(ai)(r(Mc(e)))}};var Xn=function(t){return function(r){return function(e){return t(r,e)}}},ko=function(t){return function(r){return function(e){return function(n){return t(r,e,n)}}}},fa=function(t){return function(r){return function(e){return function(n){return function(u){return t(r,e,n,u)}}}}};var Hv=function(t){return function(r){for(var e=r.length,n=Array(e),u=0;u<e;u++)n[u]=t(u)(r[u]);return n}};var fn=function(t){return t.mapWithIndex};var Mn={mapWithIndex:Hv,Functor0:function(){return Zt}};var Vv=function(){function t(u){return[u]}function r(u){return function(a){return[u,a]}}function e(u){return function(a){return function(p){return[u,a,p]}}}function n(u){return function(a){return u.concat(a)}}return function(u){return function(a){return function(p){return function(l){return function(_){function y(w,T){switch(T-w){case 0:return p([]);case 1:return a(t)(l(_[w]));case 2:return u(a(r)(l(_[w])))(l(_[w+1]));case 3:return u(u(a(e)(l(_[w])))(l(_[w+1])))(l(_[w+2]));default:var x=w+Math.floor((T-w)/4)*2;return u(a(n)(y(w,x)))(y(x,T))}}return y(0,_.length)}}}}}}();var Zy=Dt(At),xe=function(t){return t.traverse};var us=function(t){var r=xe(t);return function(e){return r(e)(Zy)}},jn={traverse:function(t){var r=t.Apply0();return Vv(St(r))(S(r.Functor0()))(L(t))},sequence:function(t){return us(jn)(t)},Functor0:function(){return Zt},Foldable1:function(){return Nt}},wn=function(t){return t.sequence};var as=function(t){return function(r){return function(e){return function(n){return function(u){return function(a){for(var p=[],l=a;;){var _=u(l);if(t(_))return p;var y=r(_);p.push(e(y)),l=n(y)}}}}}}};var is=function(t){return function(r){return function(e){return function(n){return function(u){return function(a){for(var p=[],l=a;;){var _=u(l);p.push(e(_));var y=n(_);if(t(y))return p;l=r(y)}}}}}}};var ag=j(uu);var _i=function(t){return t.foldl1},os=function(t){var r=_i(t);return function(e){return r(function(n){return function(u){var a=ag(e(n)(u))(Q.value);return a?n:u}})}};var fs=function(t){var r=_i(t);return function(e){var n=S(e);return function(u){var a=B(u);return function(p){var l=r(a),_=n(p);return function(y){return l(_(y))}}}}};var pg=Mr(),pa=function(t){return t.unfoldr1};var la={unfoldr1:is(Qu)(pg)(Fe)(Ur)},cs=function(t){var r=pa(t);return function(e){return function(n){var u=function(a){if(a<=0)return new M(n,g.value);if(pr)return new M(n,new d(a-1|0));throw new Error("Failed pattern match at Data.Unfoldable1 (line 68, column 5 - line 68, column 39): "+[a.constructor.name])};return r(u)(e-1|0)}}};var Bc=function(t){return cs(t)(1)};var lg=Mr(),cn=function(t){return t.unfoldr};var Jn={unfoldr:as(Qu)(lg)(Fe)(Ur),Unfoldable10:function(){return la}},_g=function(t){var r=cn(t);return function(e){return function(n){var u=function(a){var p=a<=0;return p?g.value:new d(new M(n,a-1|0))};return r(u)(e)}}},ps=function(t){return function(r){var e=_g(r);return function(n){var u=wn(n)(t);return function(a){return function(p){return u(e(a)(p))}}}}};var Dg=Ot(Er);var Ag=S(tr);var kg=Mr();var dg=j(uu);var Hc=function(){return Xn(bv)},yg=Hc(),qc=function(){return ko(pv)($(g.value))(function(t){return function(r){return new d({head:t,tail:r})}})}();var $o=function(t){return ko(sv)(t)(function(r){if(r instanceof Q)return 1;if(r instanceof ft)return 0;if(r instanceof K)return-1;throw new Error("Failed pattern match at Data.Array (line 897, column 38 - line 900, column 11): "+[r.constructor.name])})};var Gc=fn(Mn);var Me=function(){return fa(lv)(d.create)(g.value)}(),zc=function(t){return Me(t)(Be(t)-1|0)};var Vc=function(t){return Me(t)(0)};var ls=function(t){return function(r){return function(){var n=Tn(),u=hc(function(a){return Me(r)(a)})();return Cc(u)(function(a){return Dg(function(){var l=Tn();He(a)(l)(),Ev(t(a))(u)(l)();var _=zn(l)();return He(_)(n)()})})(),zn(n)()}()}},ho=function(t){var r=ls(function(n){return function(u){return dg(t(n)(u))(ft.value)}}),e=$o(t);return function(n){return r(e(n))}};var Xc=function(){return fa(_v)(d.create)(g.value)}(),si=function(t){return function(r){return Ag(yg(r))(Xc(t)(r))}};var _s=function(){return fa(vv)(d.create)(g.value)}(),jc=function(t){return function(r){return function(e){return e.length===0?[]:Jt(e)(function(n){return kg(_s(n)(e))})(Xc(t(r))(e))}}};var yu=function(t){return t.foldrWithIndex},gg=function(t){var r=gn(t.Apply0()),e=L(t);return function(n){var u=yu(n);return function(a){return u(function(p){var l=a(p);return function(_){return r(l(_))}})(e(void 0))}}},Jc=function(t){var r=gg(t);return function(e){return Ht(r(e))}};var $g=S(ku),hg=S(tr),gu=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}(),ms=function(t){var r=cn(t);return{unfoldr1:function(e){return function(n){return Fc(gu.create)($g(r(hg(e)))(e(n)))}}}};var Gt=function(){function t(){}return t.value=new t,t}(),ur=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}();var qe={foldr:function(t){return function(r){var e=function(){var u=function(a){return function(p){var l=a,_=!1,y;function w(T,x){if(x instanceof Gt)return _=!0,T;if(x instanceof ur){l=new ur(x.value0,T),p=x.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[T.constructor.name,x.constructor.name])}for(;!_;)y=w(l,p);return y}};return u(Gt.value)}(),n=er(qe)(Ht(t))(r);return function(u){return n(e(u))}}},foldl:function(t){var r=function(e){return function(n){var u=e,a=!1,p;function l(_,y){if(y instanceof Gt)return a=!0,_;if(y instanceof ur){u=t(_)(y.value0),n=y.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[y.constructor.name])}for(;!a;)p=l(u,n);return p}};return r},foldMap:function(t){var r=B(t.Semigroup0()),e=J(t);return function(n){return er(qe)(function(u){var a=r(u);return function(p){return a(n(p))}})(e)}}},As=er(qe);var Tg={unfoldr1:function(t){return function(r){var e=function(n){return function(u){var a=n,p=!1,l;function _(y,w){var T=t(y);if(T.value1 instanceof d){a=T.value1.value0,u=new ur(T.value0,w);return}if(T.value1 instanceof g)return p=!0,As(Ht(ur.create))(Gt.value)(new ur(T.value0,w));throw new Error("Failed pattern match at Data.List.Types (line 135, column 22 - line 137, column 61): "+[T.constructor.name])}for(;!p;)l=_(a,u);return l}};return e(r)(Gt.value)}}},Kc={unfoldr:function(t){return function(r){var e=function(n){return function(u){var a=n,p=!1,l;function _(y,w){var T=t(y);if(T instanceof g)return p=!0,As(Ht(ur.create))(Gt.value)(w);if(T instanceof d){a=T.value0.value1,u=new ur(T.value0.value0,w);return}throw new Error("Failed pattern match at Data.List.Types (line 142, column 22 - line 144, column 52): "+[T.constructor.name])}for(;!p;)l=_(a,u);return l}};return e(r)(Gt.value)}},Unfoldable10:function(){return Tg}},ks=ms(Kc);var Qc=function(t){if(t instanceof Gt)return g.value;if(t instanceof ur)return new d({head:t.value0,tail:t.value1});throw new Error("Failed pattern match at Data.List (line 259, column 1 - line 259, column 66): "+[t.constructor.name])};var Yc=function(){var t=function(r){return function(e){var n=r,u=!1,a;function p(l,_){if(_ instanceof Gt)return u=!0,l;if(_ instanceof ur){n=new ur(_.value0,l),e=_.value1;return}throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[l.constructor.name,_.constructor.name])}for(;!u;)a=p(n,e);return a}};return t(Gt.value)}();var $u=function(t,r,e){var n=0,u;return function(a){if(n===2)return u;if(n===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+r+", line "+a+")",r,a);return n=1,u=e(),n=2,u}};var zt=function(){function t(){}return t.value=new t,t}(),qt=function(){function t(r,e,n,u,a,p){this.value0=r,this.value1=e,this.value2=n,this.value3=u,this.value4=a,this.value5=p}return t.create=function(r){return function(e){return function(n){return function(u){return function(a){return function(p){return new t(r,e,n,u,a,p)}}}}}},t}();var Co=function(){function t(r,e,n){this.value0=r,this.value1=e,this.value2=n}return t.create=function(r){return function(e){return function(n){return new t(r,e,n)}}},t}(),ds=function(){function t(r,e,n){this.value0=r,this.value1=e,this.value2=n}return t.create=function(r){return function(e){return function(n){return new t(r,e,n)}}},t}(),we=function(t,r,e,n){if(e instanceof zt){if(n instanceof zt)return new qt(1,1,t,r,e,n);if(n instanceof qt)return new qt(1+n.value0|0,1+n.value1|0,t,r,e,n);throw new Error("Failed pattern match at Data.Map.Internal (line 680, column 5 - line 684, column 39): "+[n.constructor.name])}if(e instanceof qt){if(n instanceof zt)return new qt(1+e.value0|0,1+e.value1|0,t,r,e,n);if(n instanceof qt)return new qt(1+function(){var u=e.value0>n.value0;return u?e.value0:n.value0}()|0,(1+e.value1|0)+n.value1|0,t,r,e,n);throw new Error("Failed pattern match at Data.Map.Internal (line 686, column 5 - line 690, column 68): "+[n.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 678, column 32 - line 690, column 68): "+[e.constructor.name])};var Fo=function(t){return function(r){return new qt(1,1,t,r,zt.value,zt.value)}},De=function(){var t=function(n){if(n instanceof zt)return 0;if(n instanceof qt)return n.value0;throw new Error("Failed pattern match at Data.Map.Internal (line 735, column 12 - line 737, column 26): "+[n.constructor.name])},r=function(n,u,a,p,l,_,y){return _ instanceof qt&&_.value0>t(y)?we(_.value2,_.value3,we(n,u,a,_.value4),we(p,l,_.value5,y)):we(p,l,we(n,u,a,_),y)},e=function(n,u,a,p,l,_,y){return _ instanceof qt&&t(l)<=_.value0?we(_.value2,_.value3,we(a,p,l,_.value4),we(n,u,_.value5,y)):we(a,p,l,we(n,u,_,y))};return function(n,u,a,p){if(a instanceof zt)return p instanceof zt?Fo(n)(u):p instanceof qt&&p.value0>1?r(n,u,a,p.value2,p.value3,p.value4,p.value5):we(n,u,a,p);if(a instanceof qt){if(p instanceof qt){if(p.value0>(a.value0+1|0))return r(n,u,a,p.value2,p.value3,p.value4,p.value5);if(a.value0>(p.value0+1|0))return e(n,u,a.value2,a.value3,a.value4,a.value5,p)}return p instanceof zt&&a.value0>1?e(n,u,a.value2,a.value3,a.value4,a.value5,p):we(n,u,a,p)}throw new Error("Failed pattern match at Data.Map.Internal (line 695, column 40 - line 716, column 34): "+[a.constructor.name])}}(),Zc=$u("unsafeSplit","Data.Map.Internal",function(){return function(t,r,e){if(e instanceof zt)return new Co(g.value,zt.value,zt.value);if(e instanceof qt){var n=t(r)(e.value2);if(n instanceof K){var u=Zc(771)(t,r,e.value4);return new Co(u.value0,u.value1,De(e.value2,e.value3,u.value2,e.value5))}if(n instanceof Q){var u=Zc(774)(t,r,e.value5);return new Co(u.value0,De(e.value2,e.value3,e.value4,u.value1),u.value2)}if(n instanceof ft)return new Co(new d(e.value3),e.value4,e.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 769, column 5 - line 777, column 30): "+[n.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 765, column 34 - line 777, column 30): "+[e.constructor.name])}}),ys=Zc(764),gs=$u("unsafeSplitLast","Data.Map.Internal",function(){return function(t,r,e,n){if(n instanceof zt)return new ds(t,r,e);if(n instanceof qt){var u=gs(757)(n.value2,n.value3,n.value4,n.value5);return new ds(u.value0,u.value1,De(t,r,e,u.value2))}throw new Error("Failed pattern match at Data.Map.Internal (line 754, column 37 - line 758, column 57): "+[n.constructor.name])}}),Ng=gs(753),rp=function(t,r){if(t instanceof zt)return r;if(t instanceof qt){var e=Ng(t.value2,t.value3,t.value4,t.value5);return De(e.value0,e.value1,e.value2,r)}throw new Error("Failed pattern match at Data.Map.Internal (line 742, column 25 - line 746, column 38): "+[t.constructor.name,r.constructor.name])};var tp=$u("unsafeUnionWith","Data.Map.Internal",function(){return function(t,r,e,n){if(e instanceof zt)return n;if(n instanceof zt)return e;if(n instanceof qt){var u=ys(t,n.value2,e),a=tp(787)(t,r,u.value1,n.value4),p=tp(788)(t,r,u.value2,n.value5);if(u.value0 instanceof d)return De(n.value2,r(u.value0.value0)(n.value3),a,p);if(u.value0 instanceof g)return De(n.value2,n.value3,a,p);throw new Error("Failed pattern match at Data.Map.Internal (line 789, column 5 - line 793, column 46): "+[u.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 782, column 42 - line 793, column 46): "+[e.constructor.name,n.constructor.name])}}),Ug=tp(781),Wg=function(t){var r=ut(t);return function(e){return function(n){return function(u){return Ug(r,e,n,u)}}}},To=function(t){return Wg(t)($)},Ss=function(t){var r=ut(t);return function(e){return function(n){var u=function(a){if(a instanceof zt)return zt.value;if(a instanceof qt){var p=r(n)(a.value2);if(p instanceof K)return De(a.value2,a.value3,u(a.value4),a.value5);if(p instanceof Q)return De(a.value2,a.value3,a.value4,u(a.value5));if(p instanceof ft){var l=e(a.value3);if(l instanceof g)return rp(a.value4,a.value5);if(l instanceof d)return new qt(a.value0,a.value1,a.value2,l.value0,a.value4,a.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 529, column 11 - line 533, column 38): "+[l.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 525, column 7 - line 533, column 38): "+[p.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 522, column 8 - line 533, column 38): "+[a.constructor.name])};return u}}};var $s=function(t){var r=ut(t);return function(e){var n=function(u){var a=!1,p;function l(_){if(_ instanceof zt)return a=!0,!1;if(_ instanceof qt){var y=r(e)(_.value2);if(y instanceof K){u=_.value4;return}if(y instanceof Q){u=_.value5;return}if(y instanceof ft)return a=!0,!0;throw new Error("Failed pattern match at Data.Map.Internal (line 457, column 7 - line 460, column 19): "+[y.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 454, column 8 - line 460, column 19): "+[_.constructor.name])}for(;!a;)p=l(u);return p};return n}};var Di=function(t){var r=ut(t);return function(e){var n=function(u){var a=!1,p;function l(_){if(_ instanceof zt)return a=!0,g.value;if(_ instanceof qt){var y=r(e)(_.value2);if(y instanceof K){u=_.value4;return}if(y instanceof Q){u=_.value5;return}if(y instanceof ft)return a=!0,new d(_.value3);throw new Error("Failed pattern match at Data.Map.Internal (line 281, column 7 - line 284, column 22): "+[y.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 278, column 8 - line 284, column 22): "+[_.constructor.name])}for(;!a;)p=l(u);return p};return n}};var Ai=function(t){var r=ut(t);return function(e){return function(n){var u=function(a){if(a instanceof zt)return Fo(e)(n);if(a instanceof qt){var p=r(e)(a.value2);if(p instanceof K)return De(a.value2,a.value3,u(a.value4),a.value5);if(p instanceof Q)return De(a.value2,a.value3,a.value4,u(a.value5));if(p instanceof ft)return new qt(a.value0,a.value1,e,n,a.value4,a.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 469, column 7 - line 472, column 35): "+[p.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 466, column 8 - line 472, column 35): "+[a.constructor.name])};return u}}};var hs={foldr:function(t){return function(r){var e=$u("go","Data.Map.Internal",function(){return function(u,a){if(u instanceof zt)return a;if(u instanceof qt)return e(170)(u.value4,t(u.value3)(e(170)(u.value5,a)));throw new Error("Failed pattern match at Data.Map.Internal (line 167, column 26 - line 170, column 43): "+[u.constructor.name])}}),n=e(167);return function(u){return n(u,r)}}},foldl:function(t){return function(r){var e=$u("go","Data.Map.Internal",function(){return function(u,a){if(a instanceof zt)return u;if(a instanceof qt)return e(176)(t(e(176)(u,a.value4))(a.value3),a.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 173, column 26 - line 176, column 43): "+[a.constructor.name])}}),n=e(173);return function(u){return n(r,u)}}},foldMap:function(t){var r=J(t),e=B(t.Semigroup0());return function(n){var u=function(a){if(a instanceof zt)return r;if(a instanceof qt)return e(u(a.value4))(e(n(a.value3))(u(a.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 179, column 10 - line 182, column 28): "+[a.constructor.name])};return u}}},ki={foldrWithIndex:function(t){return function(r){var e=$u("go","Data.Map.Internal",function(){return function(u,a){if(u instanceof zt)return a;if(u instanceof qt)return e(190)(u.value4,t(u.value2)(u.value3)(e(190)(u.value5,a)));throw new Error("Failed pattern match at Data.Map.Internal (line 187, column 26 - line 190, column 45): "+[u.constructor.name])}}),n=e(187);return function(u){return n(u,r)}}},foldlWithIndex:function(t){return function(r){var e=$u("go","Data.Map.Internal",function(){return function(u,a){if(a instanceof zt)return u;if(a instanceof qt)return e(196)(t(a.value2)(e(196)(u,a.value4))(a.value3),a.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 193, column 26 - line 196, column 45): "+[a.constructor.name])}}),n=e(193);return function(u){return n(r,u)}}},foldMapWithIndex:function(t){var r=J(t),e=B(t.Semigroup0());return function(n){var u=function(a){if(a instanceof zt)return r;if(a instanceof qt)return e(u(a.value4))(e(n(a.value2)(a.value3))(u(a.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 199, column 10 - line 202, column 30): "+[a.constructor.name])};return u}},Foldable0:function(){return hs}},Cs=function(){return yu(ki)(function(t){return function(r){return function(e){return new ur(t,e)}}})(Gt.value)}();var pn=function(){return zt.value}(),ep=function(t){var r=Ai(t);return function(e){return er(e)(function(n){return function(u){return r(u.value0)(u.value1)(n)}})(pn)}};var xo=function(t){var r=ut(t);return function(e){var n=function(u){if(u instanceof zt)return zt.value;if(u instanceof qt){var a=r(e)(u.value2);if(a instanceof K)return De(u.value2,u.value3,n(u.value4),u.value5);if(a instanceof Q)return De(u.value2,u.value3,u.value4,n(u.value5));if(a instanceof ft)return rp(u.value4,u.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 496, column 7 - line 499, column 43): "+[a.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 493, column 8 - line 499, column 43): "+[u.constructor.name])};return n}};var sa=function(t){var r=ut(t);return function(e){return function(n){return function(u){var a=ys(r,n,u),p=e(a.value0);if(p instanceof g)return rp(a.value1,a.value2);if(p instanceof d)return De(n,p.value0,a.value1,a.value2);throw new Error("Failed pattern match at Data.Map.Internal (line 512, column 3 - line 516, column 41): "+[p.constructor.name])}}}};var Cu=function(t){return t.filterMap};var ip=Ar(),Zg=kr(qe),tS=er(qe),rS=dr(qe);var eS=function(t){return ip(To(t))};var ap=function(t){return Cs(t)};var Ts=function(t){return Fo(t)(void 0)};var op=function(t){return{append:eS(t)}},xs=function(t){return ip($s(t))};var nS=function(t){var r=Ai(t);return function(e){return function(n){return r(e)(void 0)(n)}}};var Ms={foldMap:function(t){var r=Zg(t);return function(e){var n=r(e);return function(u){return n(ap(u))}}},foldl:function(t){return function(r){var e=tS(t)(r);return function(n){return e(ap(n))}}},foldr:function(t){return function(r){var e=rS(t)(r);return function(n){return e(ap(n))}}}};var Es=pn,ws=function(t){var r=er(t);return function(e){var n=nS(e);return r(function(u){return function(a){return n(a)(u)}})(Es)}};var Is=function(t){var r=op(t);return{mempty:Es,Semigroup0:function(){return r}}};var Ps=function(t){return ip(xo(t))};function Os(t){return function(r){return function(){return setTimeout(r,t)}}}function Rs(t){return function(){clearTimeout(t)}}var aS=ut(Xt);var Ns=Os;var iS={eq:function(t){return function(r){return t===r}}},Mo={compare:function(t){return function(r){return aS(t)(r)}},Eq0:function(){return iS}};var Us=Rs;var ln=function(r){return function(e){return r(e)()}};var yi=function(r){return function(e){return function(){return r(e)}}};var CS=function(t){var r=B(_c(t));return{append:function(e){return function(n){return ln(function(u){return r(yi(e)(u))(yi(n)(u))})}}}};var Bs=function(t){var r=J(Fn(t)),e=CS(t.Semigroup0());return{mempty:ln(function(n){return r}),Semigroup0:function(){return e}}};var Fu=function(t){return t.keepLatest};function cp(t){return function(r){return t===r}}var Hs=cp;var zs=function(t,r,e){var n=0,u;return function(a){if(n===2)return u;if(n===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+r+", line "+a+")",r,a);return n=1,u=e(),n=2,u}},Vs=on(Rr),Io=Vs(Vn),Tu=L(Rr),Ge=mu(bu),xS=Fn(Cn),Si=Ot(h),MS=B(Tr),Xs=J(Bs(Cn)),ES=J(Is(Mo)),wS=Ps(Mo),IS=B(op(Mo)),PS=Vs(Ms),LS=St(Za),OS=S(h);var RS=function(t){return function(r){return function(e,n){var u=Xr(g.value)(),a=t(e,function(l){return Vr(new d(l))(u)()}),p=r(e,function(l){var _=$r(u)();return Io(_)(function(y){return function(){return n(l(y))}})()});return function(){return a(),p()}}}},NS=function(t){return function(r){return function(e,n){var u=Xr(g.value)(),a=t(e,function(l){var _=$r(u)();return Io(_)(function(y){return function(){return n(y(l))}})()}),p=r(e,function(l){return Vr(new d(l))(u)()});return function(){return a(),p()}}}},xu=function(t){var r=kr(t)(xS);return function(e){return function(n,u){var a=Ge(Tn)();return r(function(p){return function(){var _=p(n,u);return Si(Ge(He(_)(a)))()}})(e)(),function(){var l=Ge(so(a))();return w_(l)}}}},qs=function(t){var r=sa(t),e=Di(t);return function(){var u=Xr(pn)();return{event:function(a){return function(p,l){return Si(co(r(function(_){if(_ instanceof g)return new d([l]);if(_ instanceof d)return new d(MS(_.value0)([l]));throw new Error("Failed pattern match at FRP.Event (line 568, column 17 - line 570, column 51): "+[_.constructor.name])})(a))(u))(),Si(co(r(function(_){if(_ instanceof g)return g.value;if(_ instanceof d)return new d(jc(Hs)(l)(_.value0));throw new Error("Failed pattern match at FRP.Event (line 577, column 17 - line 579, column 65): "+[_.constructor.name])})(a))(u))}},push:function(a){var p=$r(u)(),l=e(a.address)(p);if(l instanceof g)return void 0;if(l instanceof d)return oo(l.value0,function(_){return _(a.payload)});throw new Error("Failed pattern match at FRP.Event (line 586, column 9 - line 588, column 95): "+[l.constructor.name])}}}},US=function(t){return function(r,e){var n=Xr(Tu(void 0))(),u=t(r,function(a){var p=$r(n)();p();var l=a(r,e);return Vr(l)(n)()});return function(){var p=$r(n)();return p(),u()}}},Kt={map:function(t){return function(r){return function(e,n){return r(e,function(u){return n(t(u))})}}}},WS=S(Kt),gi=function(t){return function(r){return function(e,n){return r(e,function(u){var a=t(u);if(a instanceof d)return n(a.value0);if(a instanceof g)return void 0;throw new Error("Failed pattern match at FRP.Event (line 225, column 31 - line 227, column 35): "+[a.constructor.name])})}}},pp=function(t){return gi(function(r){var e=t(r);if(e)return new d(r);if(!e)return g.value;throw new Error("Failed pattern match at FRP.Event (line 141, column 13 - line 143, column 25): "+[e.constructor.name])})},wo=function(){var r=tc(),e=Xr(0)();return{event:function(n,u){var a=Xr(u)(),p=$r(e)();return rc(p,a,r),ti(function(l){return l+1|0})(e)(),function(){return Vr(Xs)(a)(),ec(p,r),void 0}},push:function(n){return Zf(r,function(u){var a=$r(u)();return a(n)})}}},BS=function(t){return function(r,e){var n=wo(),u=t(n.event),a=n.event(r,e),p=u(r,n.push);return function(){return p(),a()}}},HS={compact:gi(Dt(At)),separate:function(t){return{left:gi(function(r){if(r instanceof Ut)return new d(r.value0);if(r instanceof Rt)return g.value;throw new Error("Failed pattern match at FRP.Event (line 124, column 13 - line 126, column 33): "+[r.constructor.name])})(t),right:gi(function(r){if(r instanceof Rt)return new d(r.value0);if(r instanceof Ut)return g.value;throw new Error("Failed pattern match at FRP.Event (line 131, column 13 - line 133, column 32): "+[r.constructor.name])})(t)}}},$i={filter:pp,filterMap:gi,partition:function(t){return function(r){return{yes:pp(t)(r),no:pp(function(e){return!t(e)})(r)}}},partitionMap:function(t){return function(r){return{left:Cu($i)(function(){var e=vu(d.create)($(g.value));return function(n){return e(t(n))}}())(r),right:Cu($i)(function(e){return cc(t(e))})(r)}}},Compactable0:function(){return HS},Functor1:function(){return Kt}},qS=function(t){return function(r){return function(e,n){var u=Xr(g.value)(),a=Ge(Tn)(),p=Xr(g.value)(),l=Ge(Tn)(),_=Xr(!0)(),y=t(e,function(O){var _t=$r(_)();if(_t)return Si(Ge(He(O)(a)))();Vr(new d(O))(u)();var it=$r(p)();return Io(it)(function(ht){return function(){return n(ht(O))}})()}),w=r(e,function(O){var _t=$r(_)();if(_t)return Si(Ge(He(O)(l)))();Vr(new d(O))(p)();var it=$r(u)();return Io(it)(function(ht){return function(){return n(O(ht))}})()});Vr(!1)(_)();var T=Ge(so(a))(),x=Ge(so(l))();return function(){return T.length===0?Vr(zc(x))(p)():oo(T,function(O){return Vr(new d(O))(u)(),oo(x,function(_t){return Vr(new d(_t))(p)(),n(_t(O))})})}(),Ge(dc(0)(Be(T))([])(a))(),Ge(dc(0)(Be(x))([])(l))(),function(){return y(),w()}}}},hi=function(t){return function(r){return r}(_p(345).subscribe)(t)},_p=zs("backdoor","FRP.Event",function(){var t=function(){var e=tc(),n=Xr(0)();return{event:function(u,a){var p=Xr(a)(),l=$r(n)();return rc(l,p,e),ti(function(_){return _+1|0})(n)(),function(){return Vr(Xs)(p)(),ec(l,e),void 0}},push:function(u){return function(){return Zf(e,function(a){var p=$r(a)();return p(u)})}}}};return{createO:wo,makeEvent:function(){var r=function(e){return function(n,u){return n?Tu(void 0):e(function(a){return function(){return u(a)}})()}};return r}(),makeEventO:function(){var r=function(e){return function(n,u){return n?Tu(void 0):e(u)}};return r}(),makePureEvent:function(){var r=function(e){return function(n,u){return e(function(a){return function(){return u(a)}})()}};return r}(),makeLemmingEvent:function(){var r=function(e){return function(n,u){var a=function(p){return function(l){return function(){return p(n,ln(l))}}};return e(a)(function(p){return function(){return u(p)}})()}};return r}(),makeLemmingEventO:function(){var r=function(e){return function(n,u){var a=function(p,l){return p(n,l)};return e(a,u)}};return r}(),create:t,createPure:t,createPureO:wo,subscribe:function(){var r=function(e){return function(n){return function(){return e(!1,ln(n))}}};return r}(),subscribeO:function(){var r=function(e,n){return e(!1,n)};return r}(),subscribePureO:function(){var r=function(e,n){return e(!0,n)};return r}(),subscribePure:function(){var r=function(){var e=function(n){return function(u){return function(){return n(!0,ln(u))}}};return e}();return r}(),bus:function(){var r=function(e){return function(n,u){var a=Gs(819)();return u(e(a.push)(a.event)),Tu(void 0)}};return r}(),memoize:function(){var r=function(e){return function(n){return function(u,a){var p=wo();return a(n(p.event)),e(u,p.push)}}};return r}(),hot:function(){var r=function(e){return function(){var u=Gs(837)(),a=hi(e)(u.push)();return{event:u.event,unsubscribe:a}}};return r}(),mailbox:function(){var r=function(e){return function(){var u=qs(e)();return{event:u.event,push:function(a){return function(){return u.push(a)}}}}};return r}(),mailboxed:function(){var r=function(e){var n=qs(e);return function(u){return function(a){return function(p,l){var _=n();return l(a(_.event)),u(p,_.push)}}}};return r}(),delay:function(){var r=function(e){return function(n){return function(u,a){var p=Xr(ES)(),l=n(u,function(_){var y=Xr(g.value)(),w=Ns(e)(function(){a(_);var x=$r(y)();return Jt(Tu(void 0))(function(O){return ti(wS(O))(p)})(x)()})();return Vr(new d(w))(y)(),ti(IS(Ts(w)))(p)()});return function(){var y=$r(p)();return PS(y)(Us)(),l()}}}};return r}()}}),Gs=zs("create","FRP.Event",function(){return function(){return void 0,function(r){return r}(_p(461).create)()}}),Mu=_p(678);var vp=function(t){return function(r){return r}(Mu.bus)(t)};var ba=function(t){return function(r){return r}(Mu.makeEvent)(t)},js=function(t){return function(r){return r}(Mu.makeEventO)(t)},sp=function(t){return function(r){return r}(Mu.makeLemmingEvent)(t)},_n=function(t){return function(r){return r}(Mu.makeLemmingEventO)(t)};var Po=function(t){return function(r){return r}(Mu.memoize)(t)},Js=function(){return function(t){return t}(Mu.subscribeO)}();var Ks={apply:function(t){return function(r){return qS(t)(WS(Ja)(r))}},Functor0:function(){return Kt}},GS=mr(Ks),zS=function(t){return{append:GS(B(t))}},vr={pure:function(t){return function(r,e){return e(t),Tu(void 0)}},Apply0:function(){return Ks}},VS=L(vr);var Lo=function(t){var r=zS(t.Semigroup0());return{mempty:VS(J(t)),Semigroup0:function(){return r}}};var Ie={alt:function(t){return function(r){return function(e,n){return LS(OS(function(u){return function(a){return function(){return u(),a()}}})(function(){return t(e,n)}))(function(){return r(e,n)})()}}},Functor0:function(){return Kt}};var vn={empty:function(t,r){return Tu(void 0)},Alt0:function(){return Ie}},XS={Applicative0:function(){return vr},Plus1:function(){return vn}},ma={keepLatest:US,sampleOnRight:RS,sampleOnLeft:NS,fix:BS,Alternative0:function(){return XS},Filterable1:function(){return $i}};var mp=function(t){var r=zr(t);return function(){return function(e){return function(n){return Je(r(e))(n)}}}};var ze=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Da=function(){function t(){}return t.value=new t,t}();var Dp=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Ap=function(){function t(){}return t.value=new t,t}(),kp=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Zs=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),dp=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Eu=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),ie=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}();var Qn={eq:function(t){return function(r){return t instanceof ze&&r instanceof ze?t.value0===r.value0:t instanceof Da&&r instanceof Da}}};var yp=function(t){return new dp(t)},wu=function(t){return new Eu(t)};var tb=function(t,r){for(var e=r[r.length-1],n=r.length-2;n>=0;n--)e=t(r[n])(e);return e},rb=function(t,r){for(var e=r[0],n=r.length,u=1;u<n;u++)e=t(e)(r[u]);return e},YS=function(){function t(p){this.fn=p}var r={},e=function(p,l){this.head=p,this.tail=l};function n(p){return new e(p,r)}function u(p){return function(l){return new e(p,l)}}function a(p){for(var l=[],_=p;_!==r;)l.push(_.head),_=_.tail;return l}return function(p,l,_){var y=function(T,x){return p(l(u)(_(T)))(x)},w=function(T,x,O){if(x===0)return T;var _t=O[x-1];return new t(function(){var it=w(y(_t,T),x-1,O);return it})};return function(T){for(var x=l(n)(_(T[T.length-1])),O=w(x,T.length-1,T);O instanceof t;)O=O.fn();return l(a)(O)}}}();var nb=function(t){return t};var ub=jn;var Fi=Zt;var r$=Nt,Aa={foldMap1:function(t){return fs(Aa)(Fi)(t)},foldr1:Xn(tb),foldl1:Xn(rb),Foldable0:function(){return r$}};var m$=Mr(),D$=Hc();var A$=nb;var Ti=function(t){return t};var ib=function(t){return function(r){return m$(t(Ti(r)))}},gp=ib(Vc);var ob=ib(qc);var Sp=function(t){return function(r){return t(Ti(r))}};var xi=Sp(Be);var k$=function(t){var r=Sp(t);return function(e){return A$(r(e))}};var fb=function(t){return k$(ho(t))};var cb=function(){return Sp(D$)},d$=cb(),pb=function(t){var r=pa(t);return function(e){var n=xi(e),u=function(a){return new M(d$(e)(a),function(){var p=a<(n-1|0);return p?new d(a+1|0):g.value}())};return r(u)(0)}};var ka=function(t){return t.reflectType};function vb(t){return function(){var r={};for(var e in t)hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r}}var da={};function hp(t){return t()}function sb(t){return function(r){return function(e){return function(n){var u=e;function a(l){return function(_){return r(_)(l)(n[l])}}for(var p in n)hasOwnProperty.call(n,p)&&(u=t(u)(a(p)));return u}}}}function Bo(t){return function(r){var e=[];for(var n in r)hasOwnProperty.call(r,n)&&e.push(t(n)(r[n]));return e}}var h$=Object.keys||Bo(function(t){return function(){return t}});function Cp(t){return function(r){return function(e){return function(){return e[t]=r,e}}}}var Fp=function(t){return function(r){return function(){return delete r[t],r}}};var w$=dr(Nt);var I$=Bo(function(t){return function(r){return r}});var P$=vb;var bb=function(t){return function(r){return hp(function(){var n=P$(r)();return t(n)(),n})}};var ya=function(t){return function(r){return bb(Cp(t)(r))}};var mb=sb(Ja),L$=function(t){var r=B(t.Semigroup0()),e=J(t);return function(n){return mb(function(u){return function(a){return function(p){return r(u)(n(a)(p))}}})(e)}},Db={foldl:function(t){return mb(function(r){return function(e){return t(r)}})},foldr:function(t){return function(r){return function(e){return w$(t)(r)(I$(e))}}},foldMap:function(t){var r=L$(t);return function(e){return r($(e))}}};var Tp=function(t){return bb(Fp(t))};var B$=Fu(ma),H$=S(Kt),q$=xu(Nt);var G$=vt(ri);var ga=L(Dr),z$=S(Er);var yb=on(Dr),V$=yb(Vn);var sn=Ot(Er);var X$=yb(Nt);var j$=S(Zt),kb=B(Dc(fo)),J$=oa(Dr)(Nt),K$=B(Tr),Q$=er(Db),Y$=gn(po),db=function(){function t(){}return t.value=new t,t}(),xp=function(){function t(){}return t.value=new t,t}(),Z$=function(){function t(){}return t.value=new t,t}();var Ve=function(t){return function(r){return function(e){var n=function(u){return u(r)(e)};return function(u){if(u instanceof dp)return q$(j$(Ve(t)(r)(e))(u.value0));if(u instanceof Eu)return B$(H$(Ve(t)(r)(e))(u.value0));if(u instanceof ie)return n(t.toElt(u.value0));if(u instanceof Zs)return _n(function(a,p){var l=Sr(da)(),_=a(u.value0,function(y){var w=t.ids(e)(),T=Sr(ga(void 0))(),x=t.ids(e)(),O=Sr(ga(void 0))(),_t=Sr([])(),it=Sr(ga(void 0))(),ht=z$(ze.create)(function(){if(r.scope instanceof Da)return t.ids(e);if(r.scope instanceof ze)return kb(ga(r.scope.value0))(kb(ga("!"))(t.ids(e)));throw new Error("Failed pattern match at Bolson.Control (line 547, column 17 - line 549, column 67): "+[r.scope.constructor.name])}())(),Ct=Sr(db.value)(),nr=a(y,function(Re){var X=_r(Ct)();if(Re instanceof kp&&X instanceof xp){var ar=_r(_t)();return J$(function(dn){return function(){return p(t.doLogic(Re.value0)(e)(dn))}})(ar)()}if(Re instanceof Ap&&X instanceof xp){sn(te(Z$.value)(Ct))();var Ne=function(){var tu=_r(_t)();X$(tu)(function(Wn){return V$(r.parent)(function(Gr){return function(){return p(t.disconnectElement(e)({id:Wn,parent:Gr,scope:ht}))}})})();var Un=_r(T)();Un();var Xf=_r(O)();return Xf(),sn(We(Tp(w))(l))(),sn(We(Tp(x))(l))()};return sn(te(Ne)(it))(),Ne()}if(Re instanceof Dp&&X instanceof db){sn(te(xp.value)(Ct))();var ro=a(Ve(t)(function(){var dn={};for(var tu in r)({}).hasOwnProperty.call(r,tu)&&(dn[tu]=r[tu]);return dn.scope=ht,dn.raiseId=function(Un){return sn(We(K$([Un]))(_t))},dn}())(e)(Re.value0),p);return sn(We(ya(x)(ro))(l))(),sn(te(ro)(O))()}return void 0});sn(te(nr)(T))(),sn(We(ya(w)(nr))(l))();var ke=_r(it)();return ke()});return function(){return G$(_r(l))(Q$(Y$)(ga(void 0)))(),_()}});throw new Error("Failed pattern match at Bolson.Control (line 520, column 17 - line 610, column 20): "+[u.constructor.name])}}}};var Ho=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}();var Mp=function(t){var r=!1,e;function n(u){if(u.value0 instanceof Gt&&u.value1 instanceof Gt)return r=!0,g.value;if(u.value0 instanceof Gt){t=new Ho(Yc(u.value1),Gt.value);return}if(u.value0 instanceof ur)return r=!0,new d(new M(u.value0.value0,new Ho(u.value0.value1,u.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 82, column 1 - line 82, column 63): "+[u.constructor.name])}for(;!r;)e=n(t);return e},Ep=function(t){return function(r){return new Ho(t.value0,new ur(r,t.value1))}};var gb=function(t){return t.value0 instanceof Gt&&t.value1 instanceof Gt};var wp=function(){return new Ho(Gt.value,Gt.value)}();var Sa=function(){function t(){}return t.value=new t,t}(),qo=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}();var $b=function(t){return function(r){if(t instanceof Sa)return r;if(r instanceof Sa)return t;if(t instanceof qo)return new qo(t.value0,Ep(t.value1)(r));throw new Error("Failed pattern match at Data.CatList (line 108, column 1 - line 108, column 54): "+[t.constructor.name,r.constructor.name])}},eh=function(t){return function(r){return function(e){var n=function(a){return function(p){return function(l){var _=a,y=p,w=!1,T;function x(O,_t,it){if(it instanceof Gt)return w=!0,_t;if(it instanceof ur){_=O,y=O(_t)(it.value0),l=it.value1;return}throw new Error("Failed pattern match at Data.CatList (line 124, column 3 - line 124, column 59): "+[O.constructor.name,_t.constructor.name,it.constructor.name])}for(;!w;)T=x(_,y,l);return T}}},u=function(a){return function(p){var l=a,_=!1,y;function w(T,x){var O=Mp(T);if(O instanceof g)return _=!0,n(function(_t){return function(it){return it(_t)}})(r)(x);if(O instanceof d){l=O.value0.value1,p=new ur(t(O.value0.value0),x);return}throw new Error("Failed pattern match at Data.CatList (line 120, column 14 - line 122, column 67): "+[O.constructor.name])}for(;!_;)y=w(l,p);return y}};return u(e)(Gt.value)}}},hb=function(t){if(t instanceof Sa)return g.value;if(t instanceof qo)return new d(new M(t.value0,function(){var r=gb(t.value1);return r?Sa.value:eh($b)(Sa.value)(t.value1)}()));throw new Error("Failed pattern match at Data.CatList (line 99, column 1 - line 99, column 61): "+[t.constructor.name])};var Cb=function(){return Sa.value}(),Fb=$b;var Tb={append:Fb};var xb=function(t){return function(r){return Fb(t)(new qo(r,wp))}};var uh=function(t,r,e){var n=0,u;return function(a){if(n===2)return u;if(n===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+r+", line "+a+")",r,a);return n=1,u=e(),n=2,u}},ah=B(Tb);var Ip=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}(),Go=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),wi=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}(),ih=function(t){var r=!1,e;function n(u){var a=function(_){return _},p=function(_){return function(y){return new Ip(_.value0,ah(_.value1)(y))}};if(u.value0 instanceof Go){var l=hb(u.value1);if(l instanceof g)return r=!0,new Go(u.value0.value0);if(l instanceof d){t=p(a(l.value0.value0)(u.value0.value0))(l.value0.value1);return}throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[l.constructor.name])}if(u.value0 instanceof wi)return r=!0,new wi(u.value0.value0,function(_){return p(u.value0.value1(_))(u.value1)});throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[u.value0.constructor.name])}for(;!r;)e=n(t);return e};var oh=function(t){return function(r){return function(e){var n=ih(e);if(n instanceof Go)return r(n.value0);if(n instanceof wi)return t(n.value0)(n.value1);throw new Error("Failed pattern match at Control.Monad.Free (line 213, column 17 - line 215, column 20): "+[n.constructor.name])}}},Mb=function(t){var r=S(t);return oh(function(e){return function(n){return new Ut(r(n)(e))}})(Rt.create)},Pp=function(t){return new Ip(t,Cb)},Eb=function(t){return Pp(new wi(t,N))};var fh={Applicative0:function(){return Lp},Bind1:function(){return zo}},ch={map:function(t){return function(r){return tn(zo)(function(){var e=L(Lp);return function(n){return e(t(n))}}())(r)}}},zo={bind:function(t){return function(r){return new Ip(t.value0,xb(t.value1)(r))}},Apply0:function(){return wb(0)}},Lp={pure:function(t){return Pp(Go.create(t))},Apply0:function(){return wb(0)}},wb=uh("freeApply","Control.Monad.Free",function(){return{apply:ae(fh),Functor0:function(){return ch}}});var ph=L(Lp);var Hr=function(t){return Pp(new wi(t,function(r){return ph(r)}))};var lh=Dt(At);var $a={dimap:function(t){return function(r){return function(e){return function(n){return r(e(t(n)))}}}}},Lb=function(t){return t.dimap},ha=function(t){var r=Lb(t);return function(e){return r(e)(lh)}};var _h=L(vr);var vh=function(t){return t},Ln=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Ii=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Xo=function(){function t(){}return t.value=new t,t}(),sh=function(t){return t};var jo=Ar(),i=sh,Ob=function(t){return function(r){return i({key:"data-"+t,value:new Ln(r)})}};var c=function(){return Ln.create}();var E=function(){return Ii.create}(),Jo=function(){var t=S(Zr)(S(h)($(!0)));return function(r){return vh(t(r))}}(),Pi=function(t){return t.attr};var ne=function(t){var r=Pi(t);return function(e){return function(n){return _h(r(e)(n))}}};var Rb=S(Kt),bh=ha($a);var mh=Ar();var Dh=function(t){return function(r){var e=function(n){var u=function(a){return a instanceof ie?new ie(bh(function(p){return{pos:t,dynFamily:p.dynFamily,ez:p.ez,parent:p.parent,raiseId:p.raiseId,scope:p.scope}})(a.value0)):a instanceof Eu?new Eu(Rb(u)(a.value0)):a};return u(n)};return e(r)}},Nb=function(t){return Dh(d.create(t))};var Ub=function(t){return vp(t)};var Ah=function(t){var r=function(n){return new Eu(mh(n))},e=Ub(t);return r(Rb(function(n){return n})(e))},Wb=function(t){return Ah(ua(t))};var qb=S(Kt);var Op=xu(Nt),Ca=L(vr),Gb=v(vn),zb=L(Dr);var yh=Ar(),gh=jr(),Sh=j(Qn),Vb=jt(Ie),$h=B(Tr),hh=fn(Mn),Hb=S(Zr);var Ch=function(t){return function(r){return function(e){return qb(function(n){return t.setText(function(u){return{id:r,text:u}}(n))})(e)}}},Fh=function(t){return function(r){return function(e){return qb(function(n){return function(u){if(u.value instanceof Ln)return t.setProp({id:r,key:u.key,value:u.value.value0});if(u.value instanceof Ii)return t.setCb({id:r,key:u.key,value:u.value.value0});if(u.value instanceof Xo)return t.unsetAttribute({id:r,key:u.key});throw new Error("Failed pattern match at Deku.Control (line 72, column 28 - line 75, column 47): "+[u.value.constructor.name])}(jo(n))})(e)}}};var Rp=function(t){var r=function(n){return function(u){return _n(function(a,p){var l=u.ids();n.raiseId(l)();var _=a(Op([Ca(u.makeText({id:l,parent:n.parent,pos:n.pos,scope:n.scope,dynFamily:n.dynFamily})),Ch(u)(l)(t),Jt(Gb)(function(y){return Ca(u.attributeParent({id:l,parent:y,pos:n.pos,dynFamily:n.dynFamily,ez:n.ez}))})(n.parent)]),p);return function(){return p(u.deleteFromCache({id:l})),_()}})}},e=new ie(r);return e},D=function(t){return Rp(Ca(t))};var Th=function(){return{doLogic:function(t){return function(r){return function(e){return r.sendToPos({id:e,pos:t})}}},ids:function(t){return function(r){return r.ids}(gh(t))},disconnectElement:function(t){return function(r){return t.disconnectElement({id:r.id,scope:r.scope,parent:r.parent,scopeEq:Sh})}},toElt:function(t){return t}}},xh=Th();var Xb=function(t){return function(r){return function(e){return Ve(xh)(t)(r)(e)}}},jb=function(t){return function(r){var e=function(n){return function(u){return _n(function(a,p){return a(Vb(Ca(u.makeRoot({id:"deku-root",root:t})))(Xb({parent:new d("deku-root"),scope:new ze("rootScope"),raiseId:function(l){return zb(void 0)},ez:!0,pos:g.value,dynFamily:g.value})(u)(n)),p)})}};return e(r)}},Mh=function(t){return function(r){return function(e){var n=function(u){return function(a){return _n(function(p,l){var _=a.ids();u.raiseId(_)();var y=p(Vb(Op($h([Ca(a.makeElement({id:_,parent:u.parent,scope:u.scope,tag:t,pos:u.pos,dynFamily:u.dynFamily})),Fh(a)(_)(r)])(Jt([])(function(w){return[Ca(a.attributeParent({id:_,parent:w,pos:u.pos,dynFamily:u.dynFamily,ez:u.ez}))]})(u.parent))))(Xb({parent:new d(_),scope:u.scope,ez:!0,raiseId:function(w){return zb(void 0)},pos:g.value,dynFamily:g.value})(a)(e)),l);return function(){return l(a.deleteFromCache({id:_})),y()}})}};return n}}},A=function(t){return function(r){return function(e){var n=function(a){return a.length===0?Gb:a.length===1?a[0]:Op(a)},u=function(a){return new ie(Mh(t)(n(r))(yp(yh(a))))};return u(hh(Hb(Hb(function(a){return a}))(Nb))(e))}}};var Jb=t=>r=>e=>()=>{if(e.units[r.id]){let n=e.units[r.parent].main;e.units[r.id].main&&e.units[r.id].main.parentNode||e.units[r.id].startBeacon&&e.units[r.id].startBeacon.parentNode||(r.ez?(()=>(e.units[r.id].main?n.appendChild(e.units[r.id].main):(n.appendChild(e.units[r.id].startBeacon),n.appendChild(e.units[r.id].endBeacon)),!0))():t(r.pos)(a=>()=>t(r.dynFamily)(p=>()=>{for(var l=0,_=0,y;_<n.childNodes.length;){if(n.childNodes[_].nodeType===8&&n.childNodes[_].nodeValue==="%-%"+p){_+=1;break}_++}let w=x=>{let O=n.childNodes[x];e.units[r.id].startBeacon?(n.insertBefore(e.units[r.id].startBeacon,O),n.insertBefore(e.units[r.id].endBeacon,O)):n.insertBefore(e.units[r.id].main,O)};for(;_<n.childNodes.length;){var T;if((T=n.childNodes[_].$dekuId)&&t(e.units[T].dynFamily)(O=>()=>t(e.units[T].pos)(it=>()=>p===O&&a<=it?(w(_),!0):!1)())())return!0;if(l===a||n.childNodes[_].nodeType===8&&n.childNodes[_].nodeValue==="%-%"+p+"%-%")return w(_),!0;n.childNodes[_].nodeType===8&&n.childNodes[_].nodeValue.substring(0,3)==="%-%"&&!y&&(y=n.childNodes[_].nodeValue+"%-%"),y||l++,n.childNodes[_].nodeType===8&&n.childNodes[_].nodeValue===y&&(y=void 0,l++),_++}return!1})())())||(r.parent.indexOf("@!%")!==-1?t(r.dynFamily)(p=>()=>(e.units[r.id].main?e.units[p].endBeacon.parentNode.insertBefore(e.units[r.id].main,e.units[p].endBeacon):(e.units[p].endBeacon.parentNode.insertBefore(e.units[r.id].endBeacon,e.units[p].endBeacon),e.units[p].endBeacon.parentNode.insertBefore(e.units[r.id].startBeacon,e.units[r.id].endBeacon)),!0))()||(e.units[r.id].main?n.parentNode.replaceChild(e.units[r.id].main,n):(n.parentNode.replaceChild(e.units[r.id].endBeacon,n),e.units[r.id].endBeacon.parentNode.insertBefore(e.units[r.id].startBeacon,e.units[r.id].endBeacon))):t(r.dynFamily)(p=>()=>(e.units[r.id].startBeacon?(n.insertBefore(e.units[r.id].startBeacon,e.units[p].endBeacon),n.insertBefore(e.units[r.id].endBeacon,e.units[p].endBeacon)):n.insertBefore(e.units[r.id].main,e.units[p].endBeacon),!0))()||(e.units[r.id].startBeacon?(n.appendChild(e.units[r.id].startBeacon),n.appendChild(e.units[r.id].endBeacon)):n.appendChild(e.units[r.id].main)))}};var Kb=t=>r=>e=>n=>()=>{var u,a,p=e.id;if(n.scopes[e.scope]||(n.scopes[e.scope]=[]),n.scopes[e.scope].push(p),!t(e.parent)(()=>()=>n.hydrating&&r&&(u=n.allBeacons[e.id])&&(a=n.allBeacons[`${e.id}%-%`])?(n.units[p]={listeners:{},parent:e.parent,scope:e.scope,pos:e.pos,dynFamily:e.dynFamily,startBeacon:u,endBeacon:a},u.$dekuId=p,a.$dekuId=p,!0):!1)()){let _=document.createComment(`%-%${e.id}`),y=document.createComment(`%-%${e.id}%-%`);n.units[p]={listeners:{},parent:e.parent,dynFamily:e.dynFamily,scope:e.scope,pos:e.pos,startBeacon:_,endBeacon:y},_.$dekuId=p,y.$dekuId=p}},Eh=new Set(["animate","animateMotion","animateTransform","circle","clipPath","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","title","tspan","use","view"]);var Qb=t=>r=>()=>r.units[t]&&r.units[t].dynFamily?r.units[t].dynFamily:(()=>{throw new Error(`No positional information for ${t}`)})(),Yb=t=>r=>()=>r.units[t]&&r.units[t].main&&r.units[t].main.parentNode&&r.units[t].main.parentNode.$dekuId?r.units[t].main.parentNode.$dekuId:r.units[t]&&r.units[t].startBeacon&&r.units[t].startBeacon.parentNode&&r.units[t].startBeacon.parentNode.$dekuId?r.units[t].startBeacon.parentNode.$dekuId:(()=>{throw new Error(`No parent information for ${t}`)})(),Np=t=>r=>()=>r.units[t]&&r.units[t].scope?r.units[t].scope:(()=>{throw new Error(`No scope information for ${t}`)})(),Zb=t=>r=>e=>n=>()=>{var u,a=e.id;if(n.scopes[e.scope]||(n.scopes[e.scope]=[]),n.scopes[e.scope].push(a),!t(e.parent)(()=>()=>n.hydrating&&r&&(u=document.documentElement.querySelector(`[data-deku-ssr="${a}"]`))?(n.units[a]={listeners:{},pos:e.pos,parent:e.parent,scope:e.scope,dynFamily:e.dynFamily,main:u},u.$dekuId=a,!0):!1)()){let l=Eh.has(e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag):document.createElement(e.tag);n.units[a]={listeners:{},parent:e.parent,pos:e.pos,scope:e.scope,dynFamily:e.dynFamily,main:l},l.$dekuId=a}},tm=t=>r=>e=>n=>u=>()=>{var a=n.id,p;if(u.scopes[n.scope]||(u.scopes[n.scope]=[]),u.scopes[n.scope].push(a),!t(n.parent)(_=>()=>{if(u.hydrating&&r&&(p=document.documentElement.querySelector(`[data-deku-ssr="${_}"]`))){for(var y=0;y<p.childNodes.length;y++){let x=a.split("@-@");if(p.childNodes[y].nodeType===8&&p.childNodes[y].nodeValue===x[0]){var w=y===0||p.childNodes[y-1].nodeType!==3;w&&y!==0?p.insertBefore(document.createTextNode(""),p.childNodes[y]):w?p.prepend(document.createTextNode("")):y=y-1;break}}let T=p.childNodes[y];return u.units[a]={main:T,pos:n.pos,parent:n.parent,scope:n.scope},T.$dekuId=a,!0}return!1})()){let _=document.createTextNode("");u.units[a]={main:_,parent:n.parent,scope:n.scope,pos:n.pos,dynFamily:n.dynFamily},_.$dekuId=a}};function Up(){return{units:{},scopes:{},allBeacons:{}}}var rm=t=>r=>e=>()=>{if(e.units[r.id]){var n=r.id,u=r.value;e.hydrating&&t&&!e.units[n]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${n}"]`))&&(e.units[n]={listeners:{},parent:r.parent,scope:r.scope,main:dom},e.scopes[r.scope]||(e.scopes[r.scope]=[]),e.scopes[r.scope].push(n)),e.units[n].main.tagName==="INPUT"&&r.key==="value"||e.units[n].main.tagName==="TEXTAREA"&&r.key==="value"?e.units[n].main.value=u:e.units[n].main.tagName==="INPUT"&&r.key==="checked"?e.units[n].main.checked=u==="true":r.key==="disabled"?e.units[n].main.disabled=u==="true":e.units[n].main.setAttribute(r.key,u)}},em=t=>r=>e=>()=>{if(e.units[r.id]){var n=r.id,u=r.value;if(e.hydrating&&t&&!e.units[n]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${n}"]`))&&(e.units[n]={listeners:{},parent:r.parent,scope:r.scope,main:dom},e.scopes[r.scope]||(e.scopes[r.scope]=[]),e.scopes[r.scope].push(n)),r.key==="@self@")u(e.units[n].main)();else{e.units[n].listeners[r.key]&&e.units[n].main.removeEventListener(r.key,e.units[n].listeners[r.key]);var a=p=>u(p)();e.units[n].main.addEventListener(r.key,a),e.units[n].listeners[r.key]=a}}},nm=t=>r=>e=>()=>{if(e.units[r.id]){var n=r.id;e.hydrating&&t&&!e.units[n]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${n}"]`))&&(e.units[n]={listeners:{},parent:r.parent,scope:r.scope,main:dom},e.scopes[r.scope]||(e.scopes[r.scope]=[]),e.scopes[r.scope].push(n)),e.units[n].main.removeAttribute(r.key)}},um=t=>r=>()=>{if(r.units[t.id]){var e=t.id;r.units[e].main.nodeValue=t.text}},am=t=>r=>e=>n=>u=>()=>{var a,p,l=n.id,_=n.html,y=n.verb,w=n.cache,T=n.parent,x=n.scope,O=n.pxScope;let _t=t(n.parent)(()=>()=>u.hydrating&&r&&(a=document.documentElement.querySelector(`[data-deku-ssr="${l}"]`))?(u.units[l]={listeners:{},pos:n.pos,scope:x,parent:T,main:a},a.$dekuId=l,!0):!1)();if(!_t){let ht=Object.entries(w);for(var it=0;it<ht.length;it++){let Ct=ht[it][0];ht[it][1]===!0?_=_.replace(y+Ct+y,'data-deku-attr-internal="'+Ct+'"'):_=_.replace(y+Ct+y,'<span style="display:contents;" data-deku-elt-internal="'+Ct+'"></span>')}p=document.createElement("div"),p.innerHTML=_.trim(),u.units[l]={listeners:{},pos:n.pos,scope:x,parent:T,main:p.firstChild},p.firstChild.$dekuId=l}u.scopes[x]||(u.scopes[x]=[]),u.scopes[x].push(l),p||(p=a),p.querySelectorAll("[data-deku-attr-internal]").forEach(function(ht){var Ct=ht.getAttribute("data-deku-attr-internal");let nr=Ct+"@!%"+O;u.units[nr]={listeners:{},main:ht,scope:x},u.scopes[x].push(nr)}),p.querySelectorAll("[data-deku-elt-internal]").forEach(function(ht){var Ct=ht.getAttribute("data-deku-elt-internal");let nr=Ct+"@!%"+O;u.units[Ct+"@!%"+O]={listeners:{},main:ht,scope:x},u.scopes[x].push(nr)}),_t||u.units[l].main.remove()},im=t=>r=>()=>{var e=t.id;r.units[e]={main:t.root},t.root.$dekuId=e},Wp=t=>r=>e=>n=>()=>{let u=(_t,it,ht)=>{if(n.units[_t].startBeacon){var Ct=n.units[_t].startBeacon,nr=Ct.nextSibling;for(n.units[it].main.insertBefore(Ct,ht),Ct=nr;Ct&&Ct!==n.units[_t].endBeacon;)nr=Ct.nextSibling,n.units[it].main.insertBefore(Ct,ht),Ct=nr}else n.units[it].main.insertBefore(n.units[_t].main,ht)},a=[];a.push(e);for(var p=0;p<a.length;p++){let _t=a[p],it=_t.id,ht=_t.parent;n.units[it].containingScope=_t.scope;var l=void 0;r(_t.pos)(nr=>()=>(l=nr,!0))(),l===void 0&&(l=Number.MAX_VALUE);let Ct=n.units[ht].main.childNodes;for(var _=0,y=!1,w=0;_<Ct.length;){var T;if(T=Ct[_].$dekuId){if(r(_t.dynFamily)(ke=>()=>y?!1:n.units[T].endBeacon===Ct[_]&&ke===T?(n.units[it].pos=t(w),u(it,ht,Ct[_]),!0):!1)()){y=!0;break}if(n.units[T].dynFamily!==n.units[it].dynFamily){_++;continue}if(y){_++;continue}w===l?(u(it,ht,Ct[_]),w++,y=!0):n.units[T].endBeacon!==Ct[_]&&(n.units[T].pos=t(w),w++)}_++}if(y)return;if(n.units[it].main)n.units[ht].main.appendChild(n.units[it].main);else{var x=n.units[it].startBeacon,O=x.nextSibling;for(n.units[ht].main.appendChild(x),x=O;x&&x!==n.units[it].endBeacon;)O=x.nextSibling,n.units[ht].main.appendChild(x),x=O}}},om=t=>r=>()=>{if(r.units[t.id]){var e=t.id;if(r.units[e].containingScope&&!t.scopeEq(r.units[e].containingScope)(t.scope))return;if(r.units[e].main)r.units[e].main.remove();else{let a=document.createElement("div");var n=r.units[e].startBeacon,u=n.nextSibling;for(a.appendChild(n),n=u;n&&n!==r.units[e].endBeacon;)u=n.nextSibling,a.appendChild(n),n=u;n===r.units[e].endBeacon&&a.appendChild(n)}}},fm=t=>r=>()=>r.units[t]!==void 0,Bp=t=>r=>()=>{r.units[t.id]&&delete r.units[t.id]},cm=Bp;function pm(t,r){return r.includes(t)}var sU=typeof Array.from=="function",bU=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",mU=typeof String.prototype.fromCodePoint=="function",DU=typeof String.prototype.codePointAt=="function";var Pu=function(t){var r=L(t.Applicative0()),e=v(t.Plus1());return function(n){if(n)return r(void 0);if(!n)return e;throw new Error("Failed pattern match at Control.Alternative (line 48, column 1 - line 48, column 54): "+[n.constructor.name])}};var Oh=ve(pu),Rh=Se(pu),Nh=vt(re),Uh=I(tr),Wh=Pu(Yu);var Bh=function(t){return t.succ};var Hh=function(t){return t.pred};var _m={succ:function(t){var r=t<Oh;return r?new d(t+1|0):g.value},pred:function(t){var r=t>Rh;return r?new d(t-1|0):g.value},Ord0:function(){return Xt}},Hp=function(t){var r=t.Ord0(),e=j(r.Eq0()),n=Qf(r),u=Bh(t),a=Yf(r),p=Hh(t),l=E_(r);return function(_){var y=Bc(_),w=pa(_),T=function(x){return function(O){return function(_t){return function(it){return new M(it,Nh(x(it))(function(ht){return Uh(Wh(O(ht)(_t)))(ht)}))}}}};return function(x){return function(O){if(e(x)(O))return y(x);if(n(x)(O))return w(T(u)(a)(O))(x);if(pr)return w(T(p)(l)(O))(x);throw new Error("Failed pattern match at Data.Enum (line 186, column 14 - line 190, column 51): "+[x.constructor.name,O.constructor.name])}}}};var vm=function(t){return function(r){return function(e){return(e|0)===e?t(e):r}}},sr=function(t){return t};var Qo=isFinite;var qp=function(t){return function(r){return Math.atan2(t,r)}};var Gp=Math.cos;var zp=Math.floor;var Li=function(t){return function(r){return t%r}};var Vp=Math.sin;var Oi=3.141592653589793;var sm=ve(pu),bm=Se(pu);var Xp=function(){return vm(d.create)(g.value)}(),Jh=function(t){if(!Qo(t))return 0;if(t>=sr(sm))return sm;if(t<=sr(bm))return bm;if(pr)return xr(0)(Xp(t));throw new Error("Failed pattern match at Data.Int (line 72, column 1 - line 72, column 29): "+[t.constructor.name])};var Fa=function(t){return Jh(zp(t))};var tf=function(t){return t.toLowerCase()};var Tm=function(t){return t()};var xm=function(t){throw new Error(t)};var Mm=function(){return xm};var sC=Mm(),bC=Tm,je=function(t){return bC(function(){return sC(t)})};var Em=function(t){return function(r){return pm(t,r)}};var Yp=Math.random;var uf=function(t){return function(r){return function(){var n=Yp(),u=(sr(r)-sr(t)+1)*n+sr(t);return Fa(u)}}};var kC=he(be),dC=Mr();var Im=function(t){return t};var yC=1,Zp=2147483647,gC=function(){return Zp-1|0}(),Pm=function(t){var r=function(e){return function(n){return function(u){var a=n-e|0,p=kC(u)(a),l=p<e;return l?p+n|0:p}}};return r(yC)(gC)(t)};var SC=0,$C=48271,Lm=function(t){return function(r){return dC(Xp(Li(sr($C)*sr(r)+sr(t))(sr(Zp))))}},Om=Lm(SC);var On=function(t){return t.state};var bn=function(t){return t.liftEffect};var lf=function(t){var r=S(t);return{map:function(e){return function(n){return function(u){return r(function(a){return new M(e(a.value0),a.value1)})(n(u))}}}}};var nl=function(t){return{Applicative0:function(){return al(t)},Bind1:function(){return ul(t)}}},ul=function(t){var r=vt(t.Bind1());return{bind:function(e){return function(n){return function(u){return r(e(u))(function(a){var p=n(a.value0);return p(a.value1)})}}},Apply0:function(){return _f(t)}}},_f=function(t){var r=lf(t.Bind1().Apply0().Functor0());return{apply:ae(nl(t)),Functor0:function(){return r}}},al=function(t){var r=L(t.Applicative0());return{pure:function(e){return function(n){return r(new M(e,n))}},Apply0:function(){return _f(t)}}};var il=function(t){var r=L(t.Applicative0()),e=nl(t);return{state:function(n){return function(u){return r(n(u))}},Monad0:function(){return e}}};var Xm=function(t){return function(r){var e=t(r);return e.value0}};var VC=il(Ya),XC=On(VC);var jC=lf(su);var JC=pe(ja);var KC=yr(ja);var QC=function(t){return t};var YC=function(){var t=function(r){return new M(Im(r.newSeed),function(){var e={};for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e.newSeed=Om(r.newSeed),e}())};return XC(t)}();var Km=jC,vf=S(Km);var Qm=function(t){return Xm(QC(t))};var Ym=_f(Ya),ZC=St(Ym),Jm=function(t){return function(r){var e=sr(r),n=sr(t),u=function(l){return n+Li(l)(e-n+1)},a=vf(sr)(YC),p=ZC(vf(KC)(a))(vf(JC(2))(a));return vf(function(l){return Fa(u(l))})(p)}},Zm=function(t){return function(r){var e=t<=r;return e?Jm(t)(r):Jm(r)(t)}};var eD=function(t){return t.arbitrary};var nD=function(){return{arbitrary:Zm(-1e6)(1e6)}}();var uD=S(Kt),uF=S(Zr),aF=S(h),iF=Ot(Er);var oF=ct(se),fF=eD(nD),cF=yr(au);var sf=L(Rr),pF=J(Gn(cv(Cn))),lF=v(vn),aD=Ar(),_F=jr(),vF=j(Qn),sF=Ju(zo),Jr=L(vr);var oe=function(t){return t},iD={map:function(t){return function(r){return uD(uF(aF(t)))(r)}}};var Uu=function(t){return function(r){return t instanceof d?r(t.value0):sf(!1)}},bF=function(t){return function(r){return function(){var n=Np(t.id)(r)(),u=Yb(t.id)(r)(),a=Qb(t.id)(r)(),p={scope:n,parent:u,dynFamily:a,id:t.id,pos:new d(t.pos),ez:!1,raiseId:pF,ctor:wu(lF)};return aD(Wp(d.create)(Uu)(p))(r)()}}},mF=function(t){return function(r){return function(e){return Ve({doLogic:function(n){return function(u){return function(a){return u.sendToPos({id:a,pos:n})}}},ids:function(n){return function(u){return u.ids}(_F(n))},disconnectElement:function(n){return function(u){return n.disconnectElement({id:u.id,scope:u.scope,parent:u.parent,scopeEq:vF})}},toElt:function(n){return n}})(t)(r)(aD(e))}}},DF=function(t){return function(r){return function(e){return function(n){return sF(Hr(Jr(function(u){var a=function(){var l=uD(function(_){return function(y){return sf(_)}})(mF({dynFamily:n.dynFamily,ez:n.ez,parent:new d(n.parent),pos:n.pos,raiseId:n.raiseId,scope:n.scope})(t)(n.ctor));return sf(Eb(l))}(),p=sf(Hr(Jr(Wp(r)(e)(n))));return function(){var _=fm(n.id)(u)();if(_){var y=Np(n.id)(u)();if(y instanceof Da)return p();if(y instanceof ze&&n.scope instanceof ze){var w=Em(y.value0)(n.scope.value0);return w?p():a()}return a()}return a()}})))}}}},oD=function(t){var r={ids:function(){var n=_r(t)(),u=oF(Qm(fF)({newSeed:Pm(n),size:5}));return iF(We(cF(1))(t))(),u},makeElement:function(){var e=Zb(Uu)(!1);return function(n){return Hr(oe(Jr(e(n))))}}(),makeDynBeacon:function(){var e=Kb(Uu)(!1);return function(n){return Hr(oe(Jr(e(n))))}}(),attributeParent:function(){var e=Jb(Uu);return function(n){return Hr(oe(Jr(e(n))))}}(),makeRoot:function(e){return Hr(oe(Jr(im(e))))},makeText:function(){var e=tm(Uu)(!1)(Jt(void 0));return function(n){return Hr(oe(Jr(e(n))))}}(),makePursx:function(){var e=am(Uu)(!1)(Jt(void 0));return function(n){return Hr(oe(Jr(e(n))))}}(),setProp:function(){var e=rm(!1);return function(n){return Hr(oe(Jr(e(n))))}}(),setCb:function(){var e=em(!1);return function(n){return Hr(oe(Jr(e(n))))}}(),unsetAttribute:function(){var e=nm(!1);return function(n){return Hr(oe(Jr(e(n))))}}(),setText:function(e){return Hr(oe(Jr(um(e))))},sendToPos:function(e){return Hr(oe(Jr(bF(e))))},removeDynBeacon:function(e){return Hr(oe(Jr(cm(e))))},deleteFromCache:function(e){return Hr(oe(Jr(Bp(e))))},giveNewParent:function(e){return DF(r)(d.create)(Uu)(e)},disconnectElement:function(e){return Hr(oe(Jr(om(e))))}};return r};var fl=function(){return window};function cD(t,r,e){return t==null?r:e(t)}var wr=function(t){return cD(t,g.value,d.create)};function pD(t){return t.body}var wF=S(h);var lD=function(t){return wF(wr)(function(){return pD(t)})};var _D=N;function cl(t){return function(){return t.document}}var sD=Fu(ma),bD=S(Kt),lT=Mb(iD),mD=Fn(Cn),_T=J(Lo(Gn(mD))),vT=L(Rr),pl=vt(ta),sT=Yt(h),bT=mu(bu),mT=J(Fn(mD)),DT=S(tr),AT=Ot(h);var kT=function(t){var r=function(u){var a=bD(e(u));return function(p){return sD(a(p))}},e=function(u){return function(a){return function(p){if(p instanceof Ut)return sD(bD(n(u))(p.value0));if(p instanceof Rt)return _T;throw new Error("Failed pattern match at Deku.Toplevel (line 47, column 21 - line 49, column 22): "+[p.constructor.name])}(lT(a))}},n=function(u){return function(a){return r(u+1|0)(ba(function(p){return function(){return void 0,pl(a(t))(p)(),vT(void 0)}}))}};return r(0)},dT=function(t){return function(r){return function(){var n=Up(),u=sT(bT(Sr(0)))(function(){var a=jb(t)(r);return function(p){return a(oD(p))}}())();return hi(kT(n)(u))(function(a){return a(n)})()}}},DD=function(t){return function(){var e=pl(pl(fl)(cl))(lD)();return Jt(mT)(function(n){return dT(n)(t)})(DT(_D)(e))()}},AD=function(t){return AT(DD(t))};var ll=function(){function t(){}return t.value=new t,t}();var kD={attr:function(t){return function(r){return i({key:"class",value:c(r)})}}};var dD={attr:function(t){return function(r){return i({key:"class",value:c(r)})}}};var qi={attr:function(t){return function(r){return i({key:"class",value:c(r)})}}};var yD={attr:function(t){return function(r){return i({key:"class",value:c(r)})}}};var bf=function(){function t(){}return t.value=new t,t}();var gD={attr:function(t){return function(r){return i({key:"href",value:c(r)})}}};var vl=function(){function t(){}return t.value=new t,t}();var sl={attr:function(t){return function(r){return i({key:"style",value:c(r)})}}};var hD=Yt(Kt),CD=L(vr),bl=function(t){var r=Pi(t);return function(e){return hD(e)(function(n){return r(vl.value)(n)})}},FD=function(t){var r=bl(t);return function(e){return r(CD(e))}},ml=function(t){var r=Pi(t);return function(e){return hD(e)(function(n){return r(ll.value)(n)})}},wa=function(t){var r=ml(t);return function(e){return r(CD(e))}};var $T=Yt(Kt),TD=Ar();var hT={append:function(t){return function(r){if(t==="")return r;if(r==="")return t;if(pr)return t+(" "+r);throw new Error("Failed pattern match at ClassName (line 31, column 1 - line 39, column 19): "+[t.constructor.name,r.constructor.name])}}},CT={mempty:"",Semigroup0:function(){return hT}},FT=kr(Nt)(Lo(CT)),Ia=function(t){return function(r){return $T(t)(function(e){return e?r:""})}},mf=function(t){var r=ml(t),e=FT(TD);return function(n){return r(TD(e(n)))}};var Al=t=>()=>new Array(t);var TT=Ot(Er),Df=function(t){return function(r){var e=gc(t)($(r));return function(n){return TT(e(n))}}};var Pa=void 0;var kl=function(t){return t.toInt},kf=function(t){var r=kl(t);return function(e){return r(Pa)}};var MD={toInt:function(t){return 5}},ED={Nat0:function(){return MD}};var wD={toInt:function(t){return 1}},mn={Nat0:function(){return wD}};var ID=function(t){return function(r){return Pa}},dl=function(t){var r=ID(t);return function(e){var n=kl(e);return function(u){return function(a){return 10*a|0}(n(r(u)))}}};var yl=function(t){var r=t.Nat0();return{toInt:function(e){return dl(yl(t))(r)(e)+4|0}}};var PD=function(t){var r=t.Nat0();return{toInt:function(e){return dl(PD(t))(r)(e)+8|0}}},Dn=function(t){var r=PD(t);return{Nat0:function(){return r}}};var _M=Hp(_m)(la),Yn=function(t){return kf(t)(dt.value)},gl=function(t){var r=Yn(t);return _M(0)(r-1|0)};var LD=function(t){return function(r){return r.join(t)}};var sM=B(Tr),$l={genericShowArgs:function(t){return[]}};var bM=function(t){return t.genericShowArgs};var hl=function(t){var r=bM(t);return function(e){var n=zr(e);return{"genericShow'":function(u){var a=n(dt.value),p=r(u);return p.length===0?a:"("+(LD(" ")(sM([a])(p))+")")}}}},Sl=function(t){return t["genericShow'"]};var Bu=function(t){var r=Sl(t);return function(e){var n=Sl(e);return{"genericShow'":function(u){if(u instanceof Or)return r(u.value0);if(u instanceof Mt)return n(u.value0);throw new Error("Failed pattern match at Data.Show.Generic (line 26, column 1 - line 28, column 40): "+[u.constructor.name])}}}},Cl=function(t){var r=oc(t);return function(e){var n=Sl(e);return function(u){return n(r(u))}}};var DM=Ar(),AM=j(nu),RD=he(be),kM=$n(be),Fl=function(){function t(){}return t.value=new t,t}(),Tl=function(){function t(){}return t.value=new t,t}(),yf=function(){function t(){}return t.value=new t,t}(),dM=function(){function t(){}return t.value=new t,t}();var gf=function(t){return{inhabitants:DM(gl(t.Nat0()))}};var ND={eq:function(t){return function(r){return t===r}}},Nn=function(t){return t},yM=function(){var t=AM(0);return function(r){return t(function(e){return RD(e)(2)}(r))}}(),An=function(t){var r=Yn(t.Nat0());return function(e){return RD(e)(r)}},xl=function(t){var r=An(t);return{zero:0,one:r(1),add:function(e){return function(n){return r(e+n|0)}},mul:function(e){return function(n){return r(e*n|0)}}}},Ml=function(t){var r=An(t),e=xl(t);return{sub:function(n){return function(u){return r(n-u|0)}},Semiring0:function(){return e}}};var UD=function(t){var r=Yn(t.Nat0()),e=yn(Ml(t));return function(n){return function(u){var a=kM(r)(2),p=Nn(e(u)(n)),l=p===0;if(l)return yf.value;var _=yM(r)&&p===a;if(_)return dM.value;var y=p<=a;return y?Fl.value:Tl.value}}};var Hu=function(t){return t.inhabitants};var WD=function(t){return{head:t.value0,tail:t.value1}};var SM=Di(Xt),$M=Ss(Xt),hM=xo(Xt),CM=yu(ki),FM=To(Xt);var TM=function(t){return t};var wl=TM,xM=function(t){return function(r){return xr(r)(SM(r)(t))}};var MM=function(t){return{append:function(r){return function(e){var n=function(a){return function(p){return function(l){return{p:$M(function(_){var y=xM(e)(p),w=a===y;return w?g.value:new d(y)})(a)(l.p),q:hM(p)(l.q)}}}},u=CM(n)({p:r,q:e})(r);return wl(FM(u.p)(u.q))}}}},BD=function(t){var r=MM(t);return{mempty:pn,Semigroup0:function(){return r}}};var HD=function(t){return t};var La=hl($l);var EM=j(ND),Sf=Dn(mn),jD=An(Sf),wM=$n(be),IM=he(be),JD=Yt(tr),PM=Hu(gf(Sf)),LM=ep(Xt)(Nt),OM=Yt(Zt),RM=yr(xl(Sf)),NM=le(_e),UM=Jc(Dr)(ki),KD=on(Dr)(Nt),QD=jt(fc),GD=gn(_u),Pl=Pu(Yu),Ll=L(en),WM=NM(re),BM=tn(re),HM=os(Aa),qM=iu(Xt),GM=pb(ks),zD=S(Fi),zM=wn(ub)(en),VM=ci(Nt)(xn),XM=Yt(Fi),Tt=function(){function t(){}return t.value=new t,t}(),yt=function(){function t(){}return t.value=new t,t}(),wt=function(){function t(){}return t.value=new t,t}();var Ir=function(){function t(){}return t.value=new t,t}(),Pr=function(){function t(){}return t.value=new t,t}(),Kr=function(){function t(){}return t.value=new t,t}(),Qr=function(){function t(){}return t.value=new t,t}(),Yr=function(){function t(){}return t.value=new t,t}(),fe=function(){function t(){}return t.value=new t,t}();var YD=function(){function t(){}return t.value=new t,t}(),ZD=function(){function t(){}return t.value=new t,t}(),Ol=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Rl=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}(),tA={toPerm:Dt(At)};var jM={to:function(t){if(t instanceof Or)return Ir.value;if(t instanceof Mt&&t.value0 instanceof Or)return Pr.value;if(t instanceof Mt&&t.value0 instanceof Mt&&t.value0.value0 instanceof Or)return Kr.value;if(t instanceof Mt&&t.value0 instanceof Mt&&t.value0.value0 instanceof Mt&&t.value0.value0.value0 instanceof Or)return Qr.value;if(t instanceof Mt&&t.value0 instanceof Mt&&t.value0.value0 instanceof Mt&&t.value0.value0.value0 instanceof Mt&&t.value0.value0.value0.value0 instanceof Or)return Yr.value;if(t instanceof Mt&&t.value0 instanceof Mt&&t.value0.value0 instanceof Mt&&t.value0.value0.value0 instanceof Mt&&t.value0.value0.value0.value0 instanceof Mt)return fe.value;throw new Error("Failed pattern match at Data.Gemini (line 126, column 1 - line 126, column 32): "+[t.constructor.name])},from:function(t){if(t instanceof Ir)return new Or(rn.value);if(t instanceof Pr)return new Mt(new Or(rn.value));if(t instanceof Kr)return new Mt(new Mt(new Or(rn.value)));if(t instanceof Qr)return new Mt(new Mt(new Mt(new Or(rn.value))));if(t instanceof Yr)return new Mt(new Mt(new Mt(new Mt(new Or(rn.value)))));if(t instanceof fe)return new Mt(new Mt(new Mt(new Mt(new Mt(rn.value)))));throw new Error("Failed pattern match at Data.Gemini (line 126, column 1 - line 126, column 32): "+[t.constructor.name])}},rA={show:Cl(jM)(Bu(La({reflectSymbol:function(){return"White"}}))(Bu(La({reflectSymbol:function(){return"Yellow"}}))(Bu(La({reflectSymbol:function(){return"Black"}}))(Bu(La({reflectSymbol:function(){return"Red"}}))(Bu(La({reflectSymbol:function(){return"Green"}}))(La({reflectSymbol:function(){return"Blue"}})))))))};var $f=function(){return{inhabitants:[Tt.value,yt.value,wt.value]}}(),hf={eq:function(t){return function(r){return t instanceof Tt&&r instanceof Tt||t instanceof yt&&r instanceof yt||t instanceof wt&&r instanceof wt}}},eA=j(hf),JM={compare:function(t){return function(r){if(t instanceof Tt&&r instanceof Tt)return ft.value;if(t instanceof Tt)return K.value;if(r instanceof Tt)return Q.value;if(t instanceof yt&&r instanceof yt)return ft.value;if(t instanceof yt)return K.value;if(r instanceof yt)return Q.value;if(t instanceof wt&&r instanceof wt)return ft.value;throw new Error("Failed pattern match at Data.Gemini (line 0, column 0 - line 0, column 0): "+[t.constructor.name,r.constructor.name])}},Eq0:function(){return hf}},KM=iu(JM),nA={eq:function(t){return function(r){return EM(t.position)(r.position)&&eA(t.ring)(r.ring)}}},uA=j(nA),VD=Xa(nA),QM={eq:function(t){return function(r){return t instanceof Ir&&r instanceof Ir||t instanceof Pr&&r instanceof Pr||t instanceof Kr&&r instanceof Kr||t instanceof Qr&&r instanceof Qr||t instanceof Yr&&r instanceof Yr||t instanceof fe&&r instanceof fe}}},YM={compare:function(t){return function(r){if(t instanceof Ir&&r instanceof Ir)return ft.value;if(t instanceof Ir)return K.value;if(r instanceof Ir)return Q.value;if(t instanceof Pr&&r instanceof Pr)return ft.value;if(t instanceof Pr)return K.value;if(r instanceof Pr)return Q.value;if(t instanceof Kr&&r instanceof Kr)return ft.value;if(t instanceof Kr)return K.value;if(r instanceof Kr)return Q.value;if(t instanceof Qr&&r instanceof Qr)return ft.value;if(t instanceof Qr)return K.value;if(r instanceof Qr)return Q.value;if(t instanceof Yr&&r instanceof Yr)return ft.value;if(t instanceof Yr)return K.value;if(r instanceof Yr)return Q.value;if(t instanceof fe&&r instanceof fe)return ft.value;throw new Error("Failed pattern match at Data.Gemini (line 0, column 0 - line 0, column 0): "+[t.constructor.name,r.constructor.name])}},Eq0:function(){return QM}},ZM=iu(YM),Il=function(t){return t},Nl=function(t){return t.toPerm},kn=function(t){var r=function(e){if(e instanceof Tt)return 0;if(e instanceof yt)return 1;if(e instanceof wt)return 2;throw new Error("Failed pattern match at Data.Gemini (line 234, column 15 - line 237, column 19): "+[e.constructor.name])};return(r(t.ring)*18|0)+Nn(t.position)|0},H=function(t){return function(r){return{ring:t,position:jD(r)}}},tE=function(t){var r=UD(t),e=yn(Ml(t));return function(n){return function(u){var a=function(y){return function(w){var T=r(y)(w);return T instanceof Fl||T instanceof yf}},p=function(y){return function(w){var T=r(y)(w);return T instanceof Tl||T instanceof yf}},l=function(y){return function(w){return function(T){var x=y,O=w,_t=!1,it;function ht(Ct,nr,ke){var Re=function(ar){return function(Ne){if(a(ar)(nr)&&Nn(e(ke)(ar))<n){x=Ne,O=ar,T=ke;return}if(p(ar)(ke)&&Nn(e(ar)(nr))<n){x=Ne,O=nr,T=ar;return}if(a(ar)(ke)&&p(ar)(nr)){x=Ne,O=nr,T=ke;return}if(pr)return _t=!0,!1;throw new Error("Failed pattern match at Data.Gemini (line 437, column 5 - line 445, column 26): "+[ar.constructor.name,Ne.constructor.name])}},X=Qc(Ct);if(X instanceof g)return _t=!0,!0;if(X instanceof d)return Re(X.value0.head)(X.value0.tail);throw new Error("Failed pattern match at Data.Gemini (line 433, column 5 - line 435, column 47): "+[X.constructor.name])}for(;!_t;)it=ht(x,O,T);return it}}},_=WD(u);return l(_.tail)(_.head)(_.head)}}},rE=tE(Sf),Ul=function(t){return function(r){var e=Me(r)(kn(t));if(e instanceof d)return e.value0;if(e instanceof g)return je("geminiLookup");throw new Error("Failed pattern match at Data.Gemini (line 244, column 3 - line 246, column 46): "+[e.constructor.name])}},eE=function(t){return function(r){return new M(wM(t)(r),IM(t)(r))}},nE=function(t){var r=eE(t)(18),e=function(){return r.value0===0?Tt.value:r.value0===1?yt.value:r.value0===2?wt.value:je("indexToLocation")}();return{ring:e,position:jD(r.value1)}},pt=function(t){return function(r){return{color:t,label:r}}},Wl=function(){return[{canonical:H(Tt.value)(2),alternate:H(yt.value)(16)},{canonical:H(Tt.value)(7),alternate:H(yt.value)(11)},{canonical:H(yt.value)(2),alternate:H(wt.value)(16)},{canonical:H(yt.value)(7),alternate:H(wt.value)(11)}]}(),aA=function(t){return xr(t)(JD(si(function(r){return uA(r.alternate)(t)})(Wl))(function(r){return r.canonical}))},XD=function(t){return kn(aA(t))},zi={toPerm:function(t){return wl(LM(OM(PM)(function(r){var e=H(t.ring)(Nn(r)),n=H(t.ring)(Nn(RM(r)(t.amount)));return new M(XD(e),XD(n))})))}},uE=function(t){return function(r){return function(){var n=$v(r)();return UM(HD(t))(function(u){return function(a){var p=Me(r)(u);if(p instanceof g)return je("wat");if(p instanceof d)return Df(a)(p.value0)(n);throw new Error("Failed pattern match at Data.Gemini (line 335, column 7 - line 340, column 39): "+[p.constructor.name])}})(),KD(Wl)(function(u){return function(){var p=yc(kn(u.canonical))(n)();if(p instanceof g)return je("wat")();if(p instanceof d)return Df(kn(u.alternate))(p.value0)(n)();throw new Error("Failed pattern match at Data.Gemini (line 344, column 7 - line 348, column 65): "+[p.constructor.name])}})(),zn(n)()}()}},Vi=function(t){var r=Nl(t);return function(e){return uE(r(e))}},aE=function(t){return xr(t)(JD(si(function(r){return uA(r.canonical)(t)})(Wl))(function(r){return r.alternate}))},Bl=function(t){var r=aA(t),e=aE(t);return QD(GD(Pl(VD(e)(t)))(Ll(e)))(GD(Pl(VD(r)(t)))(Ll(r)))},iA=function(t){var r=Bl(t);if(r instanceof g)return new Ol(t);if(r instanceof d)return new Rl(t,r.value0);throw new Error("Failed pattern match at Data.Gemini (line 211, column 3 - line 213, column 37): "+[r.constructor.name])},iE=function(t){return function(r){var e=function(n){return WM(Pl(eA(n.ring)(t)))(function(){return Ll(n)})};return QD(e(r))(BM(e)(Bl(r)))}},oE=function(t){return function(r){var e=fb(KM(function(l){return function(_){return _.ring}(Il(l))}))(r),n=xi(e),u=function(l){return l.ring}(Il(gp(HM(qM(xi))(e)))),a=function(l){return l instanceof Ir||l instanceof Pr?9:8},p=n>2;return p?!1:Jt(!1)(function(){var l=rE(a(t)),_=zD(function(y){return function(w){return w.position}(Il(y))});return function(y){return l(GM(_(y)))}}())(zM(zD(iE(u))(r)))}},Cf=function(t){return VM(function(r){var e=ob(r);return oE(e.head.value1.color)(XM(r)(function(n){return nE(n.value0)}))})(ho(ZM(function(r){return r.value1.color}))(Gc(M.create)(t)))};var fE=function(t){return function(){var e=Al(54)(),n=function(u){return function(a){return Df(kn(u))(a)(e)}};return KD(t)(function(u){return function(){n(u.value0)(u.value1)();var p=Bl(u.value0);if(p instanceof g)return void 0;if(p instanceof d)return n(p.value0)(u.value1)();throw new Error("Failed pattern match at Data.Gemini (line 258, column 5 - line 262, column 21): "+[p.constructor.name])}})(),zn(e)()}()},oA=function(){return fE([new M(H(Tt.value)(12),pt(Qr.value)(1)),new M(H(Tt.value)(13),pt(Qr.value)(2)),new M(H(Tt.value)(14),pt(Qr.value)(3)),new M(H(Tt.value)(15),pt(Qr.value)(4)),new M(H(Tt.value)(16),pt(Qr.value)(5)),new M(H(Tt.value)(17),pt(Qr.value)(6)),new M(H(Tt.value)(0),pt(Qr.value)(7)),new M(H(Tt.value)(1),pt(Qr.value)(8)),new M(H(Tt.value)(3),pt(Pr.value)(1)),new M(H(Tt.value)(4),pt(Pr.value)(2)),new M(H(Tt.value)(5),pt(Pr.value)(3)),new M(H(Tt.value)(6),pt(Pr.value)(4)),new M(H(Tt.value)(7),pt(Pr.value)(5)),new M(H(Tt.value)(8),pt(Pr.value)(6)),new M(H(Tt.value)(9),pt(Pr.value)(7)),new M(H(Tt.value)(10),pt(Pr.value)(8)),new M(H(Tt.value)(11),pt(Pr.value)(9)),new M(H(yt.value)(12),pt(Kr.value)(1)),new M(H(yt.value)(13),pt(Kr.value)(2)),new M(H(yt.value)(14),pt(Kr.value)(3)),new M(H(yt.value)(15),pt(Kr.value)(4)),new M(H(yt.value)(16),pt(Kr.value)(5)),new M(H(yt.value)(17),pt(Kr.value)(6)),new M(H(yt.value)(0),pt(Kr.value)(7)),new M(H(yt.value)(1),pt(Kr.value)(8)),new M(H(yt.value)(3),pt(fe.value)(1)),new M(H(yt.value)(4),pt(fe.value)(2)),new M(H(yt.value)(5),pt(fe.value)(3)),new M(H(yt.value)(6),pt(fe.value)(4)),new M(H(yt.value)(7),pt(fe.value)(5)),new M(H(yt.value)(8),pt(fe.value)(6)),new M(H(yt.value)(9),pt(fe.value)(7)),new M(H(yt.value)(10),pt(fe.value)(8)),new M(H(wt.value)(3),pt(Yr.value)(1)),new M(H(wt.value)(4),pt(Yr.value)(2)),new M(H(wt.value)(5),pt(Yr.value)(3)),new M(H(wt.value)(6),pt(Yr.value)(4)),new M(H(wt.value)(7),pt(Yr.value)(5)),new M(H(wt.value)(8),pt(Yr.value)(6)),new M(H(wt.value)(9),pt(Yr.value)(7)),new M(H(wt.value)(10),pt(Yr.value)(8)),new M(H(wt.value)(12),pt(Ir.value)(1)),new M(H(wt.value)(13),pt(Ir.value)(2)),new M(H(wt.value)(14),pt(Ir.value)(3)),new M(H(wt.value)(15),pt(Ir.value)(4)),new M(H(wt.value)(16),pt(Ir.value)(5)),new M(H(wt.value)(17),pt(Ir.value)(6)),new M(H(wt.value)(0),pt(Ir.value)(7)),new M(H(wt.value)(1),pt(Ir.value)(8)),new M(H(wt.value)(2),pt(Ir.value)(9))])}();var cE=I(h),Hl=function(){function t(){}return t.value=new t,t}();var fA={attr:function(t){return function(r){return i({key:"click",value:E($(cE(r)(!0)))})}}};var ql=function(){function t(){}return t.value=new t,t}();var cA={attr:function(t){return function(r){return i({key:"keydown",value:E(r)})}}};var Gl=function(){function t(){}return t.value=new t,t}();var pA={attr:function(t){return function(r){return i({key:"mouseleave",value:E(r)})}}};var zl=function(){function t(){}return t.value=new t,t}();var lA={attr:function(t){return function(r){return i({key:"mousemove",value:E(r)})}}};var Vl=function(){function t(){}return t.value=new t,t}();var _A={attr:function(t){return function(r){return i({key:"mouseup",value:E(r)})}}};var Xl=function(){function t(){}return t.value=new t,t}();var vA={attr:function(t){return function(r){return i({key:"pointerdown",value:E(r)})}}};var jl=function(){function t(){}return t.value=new t,t}();var sA={attr:function(t){return function(r){return i({key:"touchcancel",value:E(r)})}}};var Jl=function(){function t(){}return t.value=new t,t}();var bA={attr:function(t){return function(r){return i({key:"touchend",value:E(r)})}}};var Kl=function(){function t(){}return t.value=new t,t}();var mA={attr:function(t){return function(r){return i({key:"touchmove",value:E(r)})}}};var Ql=function(){function t(){}return t.value=new t,t}();var DA={attr:function(t){return function(r){return i({key:"touchstart",value:E(r)})}}};var Yl=function(){function t(){}return t.value=new t,t}();var AA={attr:function(t){return function(r){return i({key:"src",value:c(r)})}}};var Ff=A("div");var kA=function(){function t(){}return t.value=new t,t}();var dA={attr:function(t){return function(r){return i({key:"@self@",value:E(r)})}}};var Le=function(t){return function(r){return t(r)}},yA=Le;function t_(t){return t.key}var CE=ct(se),Ra=function(t){return Jo(function(r){return t(function(e){return e.changedTouches.item(0)}(r))})},gA=S(Kt)(function(t){return i({key:"tabIndex",value:new Ln(CE(t))})}),Na=function(t){return Jo(function(r){return t(r)})},SA=function(t){return Jo(function(r){return t(r)})},$A=function(){return L(vr)(i({key:"autofocus",value:new Ln("")}))}();var Ae=function(){var t={},r="Pure",e="Throw",n="Catch",u="Sync",a="Async",p="Bind",l="Bracket",_="Fork",y="Sequential",w="Map",T="Apply",x="Alt",O="Cons",_t="Resume",it="Release",ht="Finalizer",Ct="Finalized",nr="Forked",ke="Fiber",Re="Thunk";function X(z,Lt,or,Bt){this.tag=z,this._1=Lt,this._2=or,this._3=Bt}function ar(z){var Lt=function(or,Bt,Y){return new X(z,or,Bt,Y)};return Lt.tag=z,Lt}function Ne(z){return new X(r,void 0)}function ro(z){try{z()}catch(Lt){setTimeout(function(){throw Lt},0)}}function dn(z,Lt,or){try{return Lt(or())}catch(Bt){return z(Bt)}}function tu(z,Lt,or){try{return Lt(or)()}catch(Bt){return or(z(Bt))(),Ne}}var Un=function(){var z=1024,Lt=0,or=0,Bt=new Array(z),Y=!1;function W(){var Wt;for(Y=!0;Lt!==0;)Lt--,Wt=Bt[or],Bt[or]=void 0,or=(or+1)%z,Wt();Y=!1}return{isDraining:function(){return Y},enqueue:function(Wt){var kt,ir;Lt===z&&(ir=Y,W(),Y=ir),Bt[(or+Lt)%z]=Wt,Lt++,Y||W()}}}();function Xf(z){var Lt={},or=0,Bt=0;return{register:function(Y){var W=or++;Y.onComplete({rethrow:!0,handler:function(Wt){return function(){Bt--,delete Lt[W]}}})(),Lt[W]=Y,Bt++},isEmpty:function(){return Bt===0},killAll:function(Y,W){return function(){if(Bt===0)return W();var Wt=0,kt={};function ir(Vt){kt[Vt]=Lt[Vt].kill(Y,function(br){return function(){delete kt[Vt],Wt--,z.isLeft(br)&&z.fromLeft(br)&&setTimeout(function(){throw z.fromLeft(br)},0),Wt===0&&W()}})()}for(var Cr in Lt)Lt.hasOwnProperty(Cr)&&(Wt++,ir(Cr));return Lt={},or=0,Bt=0,function(Vt){return new X(u,function(){for(var br in kt)kt.hasOwnProperty(br)&&kt[br]()})}}}}}var Wn=0,Gr=1,eo=2,no=3,uo=4,ce=5,za=6;function jf(z,Lt,or){var Bt=0,Y=Wn,W=or,Wt=null,kt=null,ir=null,Cr=null,Vt=null,br=0,ru=0,de=null,Bn=!0;function Hn(Z){for(var tt,xt,It;;)switch(tt=null,xt=null,It=null,Y){case eo:Y=Gr;try{W=ir(W),Cr===null?ir=null:(ir=Cr._1,Cr=Cr._2)}catch(Lr){Y=ce,Wt=z.left(Lr),W=null}break;case no:z.isLeft(W)?(Y=ce,Wt=W,W=null):ir===null?Y=ce:(Y=eo,W=z.fromRight(W));break;case Gr:switch(W.tag){case p:ir&&(Cr=new X(O,ir,Cr)),ir=W._2,Y=Gr,W=W._1;break;case r:ir===null?(Y=ce,W=z.right(W._1)):(Y=eo,W=W._1);break;case u:Y=no,W=dn(z.left,z.right,W._1);break;case a:Y=uo,W=tu(z.left,W._1,function(Lr){return function(){Bt===Z&&(Bt++,Un.enqueue(function(){Bt===Z+1&&(Y=no,W=Lr,Hn(Bt))}))}});return;case e:Y=ce,Wt=z.left(W._1),W=null;break;case n:ir===null?Vt=new X(O,W,Vt,kt):Vt=new X(O,W,new X(O,new X(_t,ir,Cr),Vt,kt),kt),ir=null,Cr=null,Y=Gr,W=W._1;break;case l:br++,ir===null?Vt=new X(O,W,Vt,kt):Vt=new X(O,W,new X(O,new X(_t,ir,Cr),Vt,kt),kt),ir=null,Cr=null,Y=Gr,W=W._1;break;case _:Y=no,tt=jf(z,Lt,W._2),Lt&&Lt.register(tt),W._1&&tt.run(),W=z.right(tt);break;case y:Y=Gr,W=Pk(z,Lt,W._1);break}break;case ce:if(ir=null,Cr=null,Vt===null)Y=za,W=kt||Wt||W;else switch(tt=Vt._3,It=Vt._1,Vt=Vt._2,It.tag){case n:kt&&kt!==tt&&br===0?Y=ce:Wt&&(Y=Gr,W=It._2(z.fromLeft(Wt)),Wt=null);break;case _t:kt&&kt!==tt&&br===0||Wt?Y=ce:(ir=It._1,Cr=It._2,Y=eo,W=z.fromRight(W));break;case l:br--,Wt===null&&(xt=z.fromRight(W),Vt=new X(O,new X(it,It._2,xt),Vt,tt),(kt===tt||br>0)&&(Y=Gr,W=It._3(xt)));break;case it:Vt=new X(O,new X(Ct,W,Wt),Vt,kt),Y=Gr,kt&&kt!==tt&&br===0?W=It._1.killed(z.fromLeft(kt))(It._2):Wt?W=It._1.failed(z.fromLeft(Wt))(It._2):W=It._1.completed(z.fromRight(W))(It._2),Wt=null,br++;break;case ht:br++,Vt=new X(O,new X(Ct,W,Wt),Vt,kt),Y=Gr,W=It._1;break;case Ct:br--,Y=ce,W=It._1,Wt=It._2;break}break;case za:for(var cr in de)de.hasOwnProperty(cr)&&(Bn=Bn&&de[cr].rethrow,ro(de[cr].handler(W)));de=null,kt&&Wt?setTimeout(function(){throw z.fromLeft(Wt)},0):z.isLeft(W)&&Bn&&setTimeout(function(){if(Bn)throw z.fromLeft(W)},0);return;case Wn:Y=Gr;break;case uo:return}}function fr(Z){return function(){if(Y===za)return Bn=Bn&&Z.rethrow,Z.handler(W)(),function(){};var tt=ru++;return de=de||{},de[tt]=Z,function(){de!==null&&delete de[tt]}}}function ot(Z,tt){return function(){if(Y===za)return tt(z.right(void 0))(),function(){};var xt=fr({rethrow:!1,handler:function(){return tt(z.right(void 0))}})();switch(Y){case Wn:kt=z.left(Z),Y=za,W=kt,Hn(Bt);break;case uo:kt===null&&(kt=z.left(Z)),br===0&&(Y===uo&&(Vt=new X(O,new X(ht,W(Z)),Vt,kt)),Y=ce,W=null,Wt=null,Hn(++Bt));break;default:kt===null&&(kt=z.left(Z)),br===0&&(Y=ce,W=null,Wt=null)}return xt}}function gt(Z){return function(){var tt=fr({rethrow:!1,handler:Z})();return Y===Wn&&Hn(Bt),tt}}return{kill:ot,join:gt,onComplete:fr,isSuspended:function(){return Y===Wn},run:function(){Y===Wn&&(Un.isDraining()?Hn(Bt):Un.enqueue(function(){Hn(Bt)}))}}}function Ik(z,Lt,or,Bt){var Y=0,W={},Wt=0,kt={},ir=new Error("[ParAff] Early exit"),Cr=null,Vt=t;function br(fr,ot,gt){var Z=ot,tt=null,xt=null,It=0,cr={},Lr,Va;t:for(;;)switch(Lr=null,Z.tag){case nr:if(Z._3===t&&(Lr=W[Z._1],cr[It++]=Lr.kill(fr,function(Lk){return function(){It--,It===0&&gt(Lk)()}})),tt===null)break t;Z=tt._2,xt===null?tt=null:(tt=xt._1,xt=xt._2);break;case w:Z=Z._2;break;case T:case x:tt&&(xt=new X(O,tt,xt)),tt=Z,Z=Z._1;break}if(It===0)gt(z.right(void 0))();else for(Va=0,Lr=It;Va<Lr;Va++)cr[Va]=cr[Va]();return cr}function ru(fr,ot,gt){var Z,tt,xt,It,cr,Lr;for(z.isLeft(fr)?(Z=fr,tt=null):(tt=fr,Z=null);;){if(xt=null,It=null,cr=null,Lr=null,Cr!==null)return;if(ot===null){Bt(Z||tt)();return}if(ot._3!==t)return;switch(ot.tag){case w:Z===null?(ot._3=z.right(ot._1(z.fromRight(tt))),tt=ot._3):ot._3=Z;break;case T:if(xt=ot._1._3,It=ot._2._3,Z){if(ot._3=Z,cr=!0,Lr=Wt++,kt[Lr]=br(ir,Z===xt?ot._2:ot._1,function(){return function(){delete kt[Lr],cr?cr=!1:gt===null?ru(Z,null,null):ru(Z,gt._1,gt._2)}}),cr){cr=!1;return}}else{if(xt===t||It===t)return;tt=z.right(z.fromRight(xt)(z.fromRight(It))),ot._3=tt}break;case x:if(xt=ot._1._3,It=ot._2._3,xt===t&&z.isLeft(It)||It===t&&z.isLeft(xt))return;if(xt!==t&&z.isLeft(xt)&&It!==t&&z.isLeft(It))Z=tt===xt?It:xt,tt=null,ot._3=Z;else if(ot._3=tt,cr=!0,Lr=Wt++,kt[Lr]=br(ir,tt===xt?ot._2:ot._1,function(){return function(){delete kt[Lr],cr?cr=!1:gt===null?ru(tt,null,null):ru(tt,gt._1,gt._2)}}),cr){cr=!1;return}break}gt===null?ot=null:(ot=gt._1,gt=gt._2)}}function de(fr){return function(ot){return function(){delete W[fr._1],fr._3=ot,ru(ot,fr._2._1,fr._2._2)}}}function Bn(){var fr=Gr,ot=or,gt=null,Z=null,tt,xt;t:for(;;)switch(tt=null,xt=null,fr){case Gr:switch(ot.tag){case w:gt&&(Z=new X(O,gt,Z)),gt=new X(w,ot._1,t,t),ot=ot._2;break;case T:gt&&(Z=new X(O,gt,Z)),gt=new X(T,t,ot._2,t),ot=ot._1;break;case x:gt&&(Z=new X(O,gt,Z)),gt=new X(x,t,ot._2,t),ot=ot._1;break;default:xt=Y++,fr=ce,tt=ot,ot=new X(nr,xt,new X(O,gt,Z),t),tt=jf(z,Lt,tt),tt.onComplete({rethrow:!1,handler:de(ot)})(),W[xt]=tt,Lt&&Lt.register(tt)}break;case ce:if(gt===null)break t;gt._1===t?(gt._1=ot,fr=Gr,ot=gt._2,gt._2=t):(gt._2=ot,ot=gt,Z===null?gt=null:(gt=Z._1,Z=Z._2))}for(Vt=ot,xt=0;xt<Y;xt++)W[xt].run()}function Hn(fr,ot){Cr=z.left(fr);var gt;for(var Z in kt)if(kt.hasOwnProperty(Z)){gt=kt[Z];for(Z in gt)gt.hasOwnProperty(Z)&&gt[Z]()}kt=null;var tt=br(fr,Vt,ot);return function(xt){return new X(a,function(It){return function(){for(var cr in tt)tt.hasOwnProperty(cr)&&tt[cr]();return Ne}})}}return Bn(),function(fr){return new X(a,function(ot){return function(){return Hn(fr,ot)}})}}function Pk(z,Lt,or){return new X(a,function(Bt){return function(){return Ik(z,Lt,or,Bt)}})}return X.EMPTY=t,X.Pure=ar(r),X.Throw=ar(e),X.Catch=ar(n),X.Sync=ar(u),X.Async=ar(a),X.Bind=ar(p),X.Bracket=ar(l),X.Fork=ar(_),X.Seq=ar(y),X.ParMap=ar(w),X.ParApply=ar(T),X.ParAlt=ar(x),X.Fiber=jf,X.Supervisor=Xf,X.Scheduler=Un,X.nonCanceler=Ne,X}(),CA=Ae.Pure,FE=Ae.Throw;function FA(t){return function(r){return r.tag===Ae.Pure.tag?Ae.Pure(t(r._1)):Ae.Bind(r,function(e){return Ae.Pure(t(e))})}}function TA(t){return function(r){return Ae.Bind(t,r)}}var xA=Ae.Sync;var MA=Ae.Async;function EA(t,r){return function(){return Ae.Fiber(t,null,r)}}var wA=function(){function t(e,n){return e===0&&typeof setImmediate<"u"?setImmediate(n):setTimeout(n,e)}function r(e,n){return e===0&&typeof clearImmediate<"u"?clearImmediate(n):clearTimeout(n)}return function(e,n){return Ae.Async(function(u){return function(){var a=t(n,u(e()));return function(){return Ae.Sync(function(){return e(r(n,a))})}}})}}(),TE=Ae.Seq;var Tf=function(t){return t()};var qE=function(t,r,e){var n=0,u;return function(a){if(n===2)return u;if(n===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+r+", line "+a+")",r,a);return n=1,u=e(),n=2,u}};var GE=Ot(h);var zE={map:FA};var VE=function(){var t=function(n){if(n instanceof Rt)return n.value0;if(n instanceof Ut)return je("unsafeFromRight: Left");throw new Error("Failed pattern match at Effect.Aff (line 412, column 21 - line 414, column 54): "+[n.constructor.name])},r=function(n){if(n instanceof Ut)return n.value0;if(n instanceof Rt)return je("unsafeFromLeft: Right");throw new Error("Failed pattern match at Effect.Aff (line 407, column 20 - line 409, column 55): "+[n.constructor.name])},e=function(n){if(n instanceof Ut)return!0;if(n instanceof Rt)return!1;throw new Error("Failed pattern match at Effect.Aff (line 402, column 12 - line 404, column 21): "+[n.constructor.name])};return{isLeft:e,fromLeft:r,fromRight:t,left:Ut.create,right:Rt.create}}(),XE=function(t){return EA(VE,t)},OA=function(t){return function(){var e=XE(t)();return e.run(),e}},RA=function(t){return GE(OA(t))};var NA=function(t){return wA(Rt.create,t)};var UA={Applicative0:function(){return jE},Bind1:function(){return xf}},xf={bind:TA,Apply0:function(){return WA(0)}},jE={pure:CA,Apply0:function(){return WA(0)}},WA=qE("applyAff","Effect.Aff",function(){return{apply:ae(UA),Functor0:function(){return zE}}});var BA={liftEffect:xA,Monad0:function(){return UA}};var JE=mu(bu),KE=Ot(Er),Ua=S(Kt),qA=jt(Ie),GA=L(vr);var QE=S(Zr),e_=Wb,Mf=function(t){return function(r){return function(e){var n=sp(function(p){return function(l){return function(){var y=Sr(t)();return l(e(JE(_r(y))))(),p(r)(function(w){return KE(te(w)(y))})()}}}),u=Ua(function(p){return p})(n),a=wu(Ua(function(p){return p})(u));return a}}};var YE=function(t){return function(r){var e=Po(t)(r),n=Ua(function(a){return a})(e),u=wu(Ua(function(a){return a})(n));return u}},zA=function(t){return function(r){return Le(e_)(function(e){return Le(YE(qA(e.value1)(GA(t))))(function(n){return r(new M(e.value0,n))})})}};var ZE=function(t){return function(r){return function(e){var n=qA(GA(e(void 0)))(js(function(l){return Js(t,ln(r))})),u=Ua(function(l){return l})(n),a=Ua(function(l){return l})(u),p=wu(a);return p}}};var VA=function(t){var r=ZE(t),e=QE(RA);return function(n){return r(e(n))}};var n_=v(vn),tw=xu(Nt),jA=L(vr),rw=L(Dr),ew={reflectType:function(){return"~"}},JA=jt(Ie),nw=S(Kt),uw=ha($a),aw=jr(),iw=j(Qn),ow=Ar();var Xi={pursxToElement:function(t){return function(r){return function(e){return{cache:da,element:new ie(function(n){return function(u){return n_}})}}}}},u_=function(t){return t.pursxToElement},qu=function(){return dt.value}(),a_=function(t){var r=function(e){return e instanceof ie?e.value0:function(n){return function(u){return n_}}};return r(t)},fw=function(t){var r=ka(t);return function(e){var n=ka(e);return function(){return function(){return function(u){var a=u_(u);return function(p){return function(l){return function(_){var y=function(T){return function(x){return _n(function(O,_t){var it=x.ids(),ht=x.ids();T.raiseId(it)();var Ct=a(ht)(dt.value)(_),nr=a_(Ct.element),ke=O(tw([jA(x.makePursx({id:it,parent:T.parent,cache:Ct.cache,dynFamily:T.dynFamily,pos:T.pos,pxScope:ht,scope:T.scope,html:r(l),verb:n(p)})),nr(T)(x),Jt(n_)(function(Re){return jA(x.attributeParent({id:it,parent:Re,pos:T.pos,dynFamily:T.dynFamily,ez:!1}))})(T.parent)]),_t);return function(){return _t(x.deleteFromCache({id:it})),ke()}})}},w=new ie(y);return w}}}}}}}},Gu=function(t){var r=fw(t)(ew)()();return function(){return function(){return function(e){return r(e)(dt.value)}}}};var Ef=function(){return function(t){var r=u_(t);return function(e){var n=ka(e);return function(u){var a=mp(u)();return{pursxToElement:function(p){return function(l){return function(_){var y=r(p)(dt.value)(_);return{cache:ya(n(dt.value))(!0)(y.cache),element:new ie(function(w){return function(T){return JA(nw(uw(jo)(function(x){if(x.value instanceof Ln)return T.setProp({id:n(dt.value)+("@!%"+p),key:x.key,value:x.value.value0});if(x.value instanceof Ii)return T.setCb({id:n(dt.value)+("@!%"+p),key:x.key,value:x.value.value0});if(x.value instanceof Xo)return T.unsetAttribute({id:n(dt.value)+("@!%"+p),key:x.key});throw new Error("Failed pattern match at Deku.Pursx (line 2487, column 52 - line 2504, column 38): "+[x.value.constructor.name])}))(a(dt.value)(_)))(function(){var x=a_(y.element);return x}()(w)(T))}})}}}}}}}}};var cw=function(t){return function(r){return function(e){return Ve({doLogic:function(n){return function(u){return function(a){return u.sendToPos({id:a,pos:n})}}},ids:function(n){return function(u){return u.ids}(aw(n))},disconnectElement:function(n){return function(u){return n.disconnectElement({id:u.id,scope:u.scope,parent:u.parent,scopeEq:iw})}},toElt:function(n){return n}})(t)(r)(ow(e))}}},wf=function(){return function(t){var r=u_(t);return function(e){var n=ka(e);return function(u){var a=mp(u)();return{pursxToElement:function(p){return function(l){return function(_){var y=r(p)(dt.value)(_);return{cache:ya(n(dt.value))(!1)(y.cache),element:new ie(function(w){return function(T){return JA(cw({parent:new d(n(dt.value)+("@!%"+p)),scope:w.scope,raiseId:function(x){return rw(void 0)},pos:w.pos,ez:!1,dynFamily:g.value})(T)(function(x){return x}(a(dt.value)(_))))(function(){var x=a_(y.element);return x}()(w)(T))}})}}}}}}}}};var Zn=function(t){return function(){console.log(t)}};var Wa=An(Dn(mn)),YA=function(t){return{amount:Wa(-t|0),ring:wt.value}},ZA=function(t){return{amount:Wa(t),ring:wt.value}},tk=function(t){return{amount:Wa(-t|0),ring:Tt.value}},rk=function(t){return{amount:Wa(t),ring:Tt.value}},ek=function(t){return{amount:Wa(-t|0),ring:yt.value}},nk=function(t){return{amount:Wa(t),ring:yt.value}};var i_=function(t){return function(r){return Le(zA(t))(function(e){return Le(Mf(t)(e.value1))(function(n){return r({event:e.value1,ref:n,pusher:e.value0})})})}},zu=function(t){return t.event},If=function(t){return function(r){return t.pusher(r)}},Vu=function(t){return t.ref},ji=function(t){return function(r){return function(){var n=t.ref();return t.pusher(r(n))()}}};var o_=function(){function t(){}return t.value=new t,t}(),Ba=function(){function t(){}return t.value=new t,t}(),uk=function(){function t(){}return t.value=new t,t}();var mw=Mr(),Dw=ps(Rr)(Jn)(jn),Aw=St(Za),kw=S(h),dw=An(Dn(mn)),yw=kr(Nt)(BD(yl(ED))),gw=Nl(zi),Sw=Vi(tA),$w=Vi(zi),hw=Ze(Rr),Cw=function(t){return function(r){return mw(Me(t)(r))}},ak=function(t){var r=Hu($f);return function(){var n=Dw(1e3)(Aw(kw(function(a){return function(p){return{ring:Cw(r)(p),amount:dw(a)}}})(uf(1)(17)))(uf(0)(2)))(),u=yw(gw)(n);return ji(t)(Sw(u))()}},ik=function(t){var r=function(e){return function(){ji(t.gemini)($w(e))();var u=Vu(t.gemini)();return hw(Cf(u))(t.pushConfetti(Ba.value))()}};return function(e){return function(n){return n==="q"?r(tk(1)):n==="w"?r(rk(1)):n==="t"?r(ek(1)):n==="y"?r(nk(1)):n==="o"?r(YA(1)):n==="p"?r(ZA(1)):Zn(n)}(t_(e))}};var Lf=function(){function t(){}return t.value=new t,t}(),ok=function(){function t(){}return t.value=new t,t}(),Ha=function(){function t(){}return t.value=new t,t}();var Ji={append:function(t){return function(r){return t+r}}},Ki={mempty:0,Semigroup0:function(){return Ji}},Of={invert:function(t){return-t},Monoid0:function(){return Ki}},Tw=function(t){return t*2*Oi},fk=function(t){return Vp(t)},xw=function(t){return t/(2*Oi)},Mw=function(t){return t*180/Oi},Ew=function(t){return t*Oi/180},ck=function(t){return Gp(t)},c_=function(t){return function(r){if(r instanceof ok)return t;if(r instanceof Lf)return Ew(t);if(r instanceof Ha)return Tw(t);throw new Error("Failed pattern match at Data.Angle (line 25, column 3 - line 28, column 38): "+[r.constructor.name])}},pk=function(t){return function(r){if(r instanceof ok)return t;if(r instanceof Lf)return Mw(t);if(r instanceof Ha)return xw(t);throw new Error("Failed pattern match at Data.Angle (line 32, column 3 - line 35, column 36): "+[r.constructor.name])}},lk=function(t){return function(r){return qp(t)(r)}};var qa=function(t){return t.invert};var Qi={append:function(t){return function(r){return{x:t.x+r.x,y:t.y+r.y}}}},l_={mempty:{x:0,y:0},Semigroup0:function(){return Qi}},Rf={invert:function(t){return{x:-t.x,y:-t.y}},Monoid0:function(){return l_}},Nf=function(t){return lk(t.y)(t.x)};var ww=Yt(h),Iw=B(Qi),Pw=qa(Rf),Lw=J(Ki),Ow=B(Ji),Rw=qa(Of),Nw=Vi(zi),Uw=Ze(Rr),Ww=function(t){return function(r){return ww(t)(function(e){return e.ringCenter(r)})}},vk=function(t){return{x:t.clientX,y:t.clientY}},Uf=function(t){return function(r){var e=vk(r);return function(){var u=Vu(t.drag)();if(u instanceof g)return void 0;if(u instanceof d)return If(t.drag)(new d({currentPoint:e,chosen:u.value0.chosen,initialPoint:u.value0.initialPoint,location:u.value0.location}))();throw new Error("Failed pattern match at Gemini.Component.Puzzle.Actions (line 48, column 3 - line 56, column 14): "+[u.constructor.name])}}},v_=function(t){return function(r){var e=vk(r);return If(t.drag)(new d({location:iA(t.location),chosen:g.value,initialPoint:e,currentPoint:e}))}},Yi=function(t){if(t.location instanceof Ol)return t.location.value0;if(t.location instanceof Rl){if(t.chosen instanceof d&&t.chosen.value0 instanceof YD)return t.location.value0;if(t.chosen instanceof d&&t.chosen.value0 instanceof ZD)return t.location.value1;if(t.chosen instanceof g)return t.location.value0;throw new Error("Failed pattern match at Gemini.Component.Puzzle.Actions (line 129, column 7 - line 133, column 24): "+[t.chosen.constructor.name])}throw new Error("Failed pattern match at Gemini.Component.Puzzle.Actions (line 126, column 3 - line 133, column 24): "+[t.location.constructor.name])},Bw=function(t){var r=function(e){return function(n){return function(){var a=Ww(t.domInfo)(e)(),p=Iw(n)(Pw(a));return Nf(p)}}};return function(){var n=Vu(t.drag)();if(n instanceof g)return Lw;if(n instanceof d){var u=Yi(n.value0),a=r(u.ring)(n.value0.initialPoint)(),p=r(u.ring)(n.value0.currentPoint)();return Ow(p)(Rw(a))}throw new Error("Failed pattern match at Gemini.Component.Puzzle.Actions (line 106, column 3 - line 112, column 43): "+[n.constructor.name])}},Hw=function(t){var r=Yn(t.Nat0()),e=An(t);return function(n){var u=pk(n)(Ha.value),a=sr(r);return e(Fa(a*u+.5))}},qw=Hw(Dn(mn)),Zi=function(t){return function(r){return function(){Uf(t)(r)();var n=Vu(t.drag)();if(n instanceof g)return void 0;if(n instanceof d){var u=Bw(t)(),a=Yi(n.value0),p=qw(u),l={amount:p,ring:a.ring};If(t.drag)(g.value)(),ji(t.gemini)(Nw(l))();var _=Vu(t.gemini)();return Uw(Cf(_))(t.pushConfetti(Ba.value))()}throw new Error("Failed pattern match at Gemini.Component.Puzzle.Actions (line 74, column 3 - line 85, column 28): "+[n.constructor.name])}}};var Wf=window.matchMedia("(pointer: coarse), (hover: none)").matches;var Bf=typeof module>"u"?void 0:module.require,J8t=function(){try{return Bf===void 0?void 0:Bf("util")}catch{return}}();var K8t=function(){var t;if(typeof performance<"u")t=performance;else if(Bf)try{t=Bf("perf_hooks").performance}catch{}return function(){return(t||Date).now()}}();var Vw=V_(ta);var Hf=function(t){return function(r){return ba(function(e){return function(){var u=hi(t)(Vw(r)(e))();return u}})}};var D_=ws(Nt)(Xt),to=S(Zt),Xw=Yt(h),jw=J(Ki),Jw=vt(re),Kw=le(_e)(re),Qw=Pu(Yu),Yw=j(hf),Zw=qa(Rf),t0=B(Qi),r0=L(en),A_=B(Ji),e0=qa(Of),mk=ct(ic),n0=xs(Xt),Ak=Dn(mn),s_=Yt(Kt),u0=ct(rA),a0=Gu({reflectType:function(){return"<div ~diskAttrs~ >~text~</div>"}})()()(Ef()(wf()(Xi)({reflectType:function(){return"text"}})({reflectSymbol:function(){return"text"}}))({reflectType:function(){return"diskAttrs"}})({reflectSymbol:function(){return"diskAttrs"}})),qf=jt(Ie),i0=mf(qi),m_=L(vr),b_=S(Kt),o0=bl(sl),f0=ne(vA),c0=ne(DA),p0=ct(se),l0=Hu(gf(Ak)),Dk=wa(qi),_0=FD(sl),v0=Hu($f),s0=$(""),b0=function(){return D_(to(kn)([H(yt.value)(2),H(yt.value)(7)]))}(),m0=function(){return D_(to(kn)([H(yt.value)(16),H(yt.value)(11)]))}(),D0=function(t){return Hf(zu(t.drag))(function(r){return Xw(t.domInfo)(function(e){return{drag:r,domInfo:e}})})},A0=function(t){return function(r){return xr(jw)(Jw(r.drag)(function(e){var n=Yi(e);return Kw(Qw(Yw(t)(n.ring)))(function(){var u=Zw(r.domInfo.ringCenter(n.ring)),a=function(){var p=t0(u);return function(l){return Nf(p(l))}}();return r0(A_(a(e.currentPoint))(e0(a(e.initialPoint))))})}))}},k0=function(t){var r=43*(1+ck(t)),e=43*(1+fk(t));return"left: "+(mk(r)+("%; top: "+(mk(e)+"%")))},d0=function(){return D_(to(kn)([H(Tt.value)(2),H(Tt.value)(7),H(wt.value)(16),H(wt.value)(11)]))}(),y0=function(t){var r=Yi(t);if(r.ring instanceof Tt)return m0;if(r.ring instanceof yt)return d0;if(r.ring instanceof wt)return b0;throw new Error("Failed pattern match at Gemini.Component.Puzzle (line 144, column 3 - line 147, column 32): "+[r.ring.constructor.name])},g0=function(t){return function(r){if(r instanceof g)return!1;if(r instanceof d)return n0(kn(t))(y0(r.value0));throw new Error("Failed pattern match at Gemini.Component.Puzzle (line 113, column 1 - line 113, column 44): "+[t.constructor.name,r.constructor.name])}},S0=function(t){var r=Yn(t.Nat0());return function(e){var n=c_(sr(Nn(e))/sr(r))(Ha.value);return A_(n)(c_(-90)(Lf.value))}},$0=S0(Ak),h0=function(t){return function(r){var e=$0(t.position),n=D0(r),u=s_(n)(A0(t.ring)),a=s_(zu(r.gemini))(function(){var p=Ul(t);return function(l){return tf(u0(function(_){return _.color}(p(l))))}}());return a0(qu)({diskAttrs:qf(i0([m_("disk"),a,Ia(b_(g0(t))(zu(r.drag)))("hidden")]))(qf(o0(b_(k0)(qf(m_(e))(b_(A_(e))(u)))))(qf(f0(Xl.value)(Na(v_({drag:r.drag,location:t}))))(c0(Ql.value)(Ra(v_({drag:r.drag,location:t})))))),text:Rp(s_(zu(r.gemini))(function(){var p=Ul(t);return function(l){return p0(function(_){return _.label}(p(l)))}}()))})}},kk=function(t){var r=function(n){return Ht(to)(l0)(function(u){var a={ring:n,position:u};return h0(a)(t)})},e=function(n){return Ff([Dk("w-full relative"),_0(s0(n)),m_(Ob("ring")(function(){if(n instanceof Tt)return"left";if(n instanceof yt)return"center";if(n instanceof wt)return"right";throw new Error("Failed pattern match at Gemini.Component.Puzzle (line 56, column 13 - line 59, column 35): "+[n.constructor.name])}()))])(r(n))};return Ff([Dk("gemini")])(to(e)(v0))};var yk=()=>({ringRadius:F0(),leftRingCenter:k_('[data-ring="left"]'),centerRingCenter:k_('[data-ring="center"]'),rightRingCenter:k_('[data-ring="right"]')});function k_(t){let e=document.querySelector(t).getBoundingClientRect(),n=e.width,u=e.left,a=e.top,p=n/2;return{x:u+p,y:a+p}}function dk(t){return document.querySelector(t).getBoundingClientRect().width}function F0(){let t=dk("[data-ring]"),r=dk(".disk");return(t-r)/2}var gk=Yt(h)(yk)(function(t){return{ringRadius:t.ringRadius,ringCenter:function(r){if(r instanceof Tt)return t.leftRingCenter;if(r instanceof yt)return t.centerRingCenter;if(r instanceof wt)return t.rightRingCenter;throw new Error("Failed pattern match at Gemini.DomInfo (line 30, column 13 - line 33, column 43): "+[r.constructor.name])}}}),Sk={ringRadius:0,ringCenter:J(Gn(l_))};var $k=t=>new ResizeObserver(r=>t(r)()),hk=t=>r=>()=>r.observe(t),d_=t=>()=>t.disconnect();var y_=function(){var t=function(){var r=Tf(cu(Sr(J(Gn(Fn(Cn)))))),e=$k(function(n){if(n.length===1)return function(){var a=cu(_r(r))();return a(n[0].target)()};throw new Error("Failed pattern match at Resize (line 50, column 15 - line 52, column 30): "+[n.constructor.name])});return{ref:r,ob:e}}();return{event:ba(function(r){return function(){return cu(te(r)(t.ref))(),d_(t.ob)}}),listen:function(r){return function(){d_(t.ob)();var n=cu(_r(t.ref))();return n(r)(),hk(r)(t.ob)()}}}}();var Xu=Ef(),zf=wf(),Fk=Xu(Xi),w0=Gu({reflectType:function(){return`
    <a target="_blank" rel="noopener noreferrer" ~linkAttrs~>
        <img ~imgAttrs~ />
        <span ~labelAttrs~>~label~</span>
    </a>
  `}})()()(Xu(zf(Xu(Fk({reflectType:function(){return"linkAttrs"}})({reflectSymbol:function(){return"linkAttrs"}}))({reflectType:function(){return"labelAttrs"}})({reflectSymbol:function(){return"labelAttrs"}}))({reflectType:function(){return"label"}})({reflectSymbol:function(){return"label"}}))({reflectType:function(){return"imgAttrs"}})({reflectSymbol:function(){return"imgAttrs"}})),Oe=jt(Ie),I0=wa(yD),P0=ne(gD),L0=wa(dD),O0=ne(AA),R0=wa(kD),N0=Gu({reflectType:function(){return`
    <div ~headerAttrs~>
      <button class="action-button" ~buttonAttrs~>
        Scramble
      </button>
    </div>
  `}})()()(Xu(Fk({reflectType:function(){return"headerAttrs"}})({reflectSymbol:function(){return"headerAttrs"}}))({reflectType:function(){return"buttonAttrs"}})({reflectSymbol:function(){return"buttonAttrs"}})),Vf=mf(qi),Ga=L(vr),U0=ne(fA),Tk=zf(Xi),xk={reflectType:function(){return"footer"}},Mk={reflectSymbol:function(){return"footer"}},Gf=bn(BA),Ck=le(_e)(xf),W0=Gu({reflectType:function(){return`
          <div ~attrs~>
            <div ~confettiAttrs~ >
            </div>
            <div class="mt-12 flex flex-col gap-12 items-center">
              ~header~
              ~puzzle~
              ~footer~
            </div>
          </div>
        `}})()()(Xu(Xu(zf(zf(Tk({reflectType:function(){return"puzzle"}})({reflectSymbol:function(){return"puzzle"}}))({reflectType:function(){return"header"}})({reflectSymbol:function(){return"header"}}))(xk)(Mk))({reflectType:function(){return"confettiAttrs"}})({reflectSymbol:function(){return"confettiAttrs"}}))({reflectType:function(){return"attrs"}})({reflectSymbol:function(){return"attrs"}})),B0=Yt(Kt),H0=ne(dA),q0=ne(cA),G0=ne(lA),z0=ne(_A),V0=ne(pA),X0=ne(mA),j0=ne(bA),J0=ne(sA),K0=function(t){return function(r){return function(e){return w0(qu)({linkAttrs:Oe(I0("flex items-center p-2 underline decoration-sky-500/30"))(P0(bf.value)(r)),imgAttrs:Oe(L0("h-[20px] m-2"))(O0(Yl.value)(t)),labelAttrs:R0("decoration-sky-500/30"),label:D(e)})}}},Q0=function(t){return N0(qu)({headerAttrs:Vf([Ga("flex justify-center"),Ia(Ga(Wf))("hidden")]),buttonAttrs:U0(Hl.value)(ak(t))})},Y0=Gu({reflectType:function(){return`
      <div ~footer~>
        <div class="text-2xl">
          <div>Q: Rotate left disk counter clockwise</div>
          <div>W: Rotate left disk clockwise</div>
          <div>T: Rotate center disk counter clockwise</div>
          <div>Y: Rotate center disk clockwise</div>
          <div>O: Rotate right disk counter clockwise</div>
          <div>P: Rotate right disk clockwise</div>
        </div>
        <div class="fixed bottom-0 left-0">
          ~viewSource~
        </div>
      </div>
    `}})()()(Xu(Tk({reflectType:function(){return"viewSource"}})({reflectSymbol:function(){return"viewSource"}}))(xk)(Mk))(qu)({footer:Vf([Ia(Ga(Wf))("hidden")]),viewSource:K0("./github.png")("https://github.com/CharlesTaylor7/gemini")("View Source")}),Ek=Le(i_(oA))(function(t){return Le(i_(g.value))(function(r){return Le(e_)(function(e){return yA(VA(e.value1)(function(n){if(n instanceof Ba)return Gf(Zn("fade in"));if(n instanceof uk)return Ck(Gf(Zn("fade out")))(function(){return Ck(NA(1e3))(function(){return Gf(e.value0(o_.value))})});if(n instanceof o_)return Gf(Zn("off"));throw new Error("Failed pattern match at Gemini.Component.App (line 27, column 7 - line 40, column 41): "+[n.constructor.name])}))(function(){return Le(Mf(Sk)(Hf(y_.event)($(gk))))(function(n){var u={gemini:t,drag:r,domInfo:n,pushConfetti:e.value0};return W0(qu)({header:Q0(t),confettiAttrs:Vf([Ga("confetti")]),attrs:Oe(Vf([Ga("fixed w-full h-full flex justify-center"),Ia(B0(zu(r))(Qa))("cursor-grabbing")]))(Oe($A)(Oe(gA(Ga(0)))(Oe(H0(kA.value)(function(a){return y_.listen(a)}))(Oe(q0(ql.value)(SA(ik(u))))(Oe(G0(zl.value)(Na(Uf(u))))(Oe(z0(Vl.value)(Na(Zi(u))))(Oe(V0(Gl.value)(Na(Zi(u))))(Oe(X0(Kl.value)(Ra(Uf(u))))(Oe(j0(Jl.value)(Ra(Zi(u))))(J0(jl.value)(Ra(Zi(u))))))))))))),puzzle:kk(u),footer:Y0})})})})})});var wk=AD(Ek);wk();})();
//# sourceMappingURL=index.js.map
