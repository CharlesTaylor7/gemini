(()=>{var fk=function(t){return function(r){return function(e){return function(n){return function(u){return n<u?t:n===u?r:e}}}}};var Cl=fk;var hl=function(t){return function(r){return t===r}},Fl=hl,Tl=hl;var vt=function(){function t(){}return t.value=new t,t}();var Or=function(t){return t.reflectSymbol};var Ie=function(t){return function(r){return r[t]}};var xu={eq:Tl};var hf={eq:Fl};var J=function(t){return t.eq},vk=J(hf);var Ta=function(t){var r=J(t);return function(e){return function(n){return vk(r(e)(n))(!1)}}};var st=function(){function t(){}return t.value=new t,t}(),mt=function(){function t(){}return t.value=new t,t}(),xt=function(){function t(){}return t.value=new t,t}();var xl=function(t){return function(r){return t-r|0}};var Ml=function(t){return function(r){return t+r|0}},El=function(t){return function(r){return t*r|0}},wl=function(t){return function(r){return t+r}},Il=function(t){return function(r){return t*r}};var xa={add:wl,zero:0,mul:Il,one:1},Un={add:Ml,zero:0,mul:El,one:1};var ne=function(t){return t.mul};var Rr=function(t){return t.add};var Ri={sub:xl,Semiring0:function(){return Un}};var Qt=function(){return{compare:Cl(st.value)(xt.value)(mt.value),Eq0:function(){return xu}}}();var it=function(t){return t.compare};var Pl=function(t){var r=it(t);return function(e){return function(n){var u=r(e)(n);return!(u instanceof st)}}},Tf=function(t){var r=it(t);return function(e){return function(n){var u=r(e)(n);return u instanceof st}}};var xf=function(t){var r=it(t);return function(e){return function(n){var u=r(e)(n);return!(u instanceof mt)}}};var Ll=t=>{for(var r=0,e=t.length;r<e;r++)t[r]()},Wi=(t,r)=>{for(var e=0,n=t.length;e<n;e++)r(t[e])},Mf=(t,r)=>{for(let e in t)r(t[e])},Ef=()=>({}),wf=(t,r,e)=>{e[t]=r},If=(t,r)=>{delete r[t]};var Ol=function(t){return function(r){for(var e=r.length,n=new Array(e),u=0;u<e;u++)n[u]=t(r[u]);return n}};var Wn={compose:function(t){return function(r){return function(e){return t(r(e))}}}},Mu=function(t){return t.compose};var Dt=function(t){return t.identity},dt={identity:function(t){return t},Semigroupoid0:function(){return Wn}};var pr=!0;var Bt=function(t){return function(r){return function(e){return t(e)(r)}}},C=function(t){return function(r){return t}};var Ma=function(t){return function(r){return r(t)}};var g=function(t){return t.map},ur=function(t){var r=g(t);return function(e){return function(n){return r(n)(e)}}},Gt=function(t){return g(t)(C(void 0))},E=function(t){var r=g(t);return function(e){return function(n){return r(C(n))(e)}}};var Kr={map:Mu(Wn)},zt={map:Ol};var Rl=function(t){return function(r){return t+r}},Nl=function(t){return function(r){return t.length===0?r:r.length===0?t:t.concat(r)}};var Wl={append:function(t){return function(r){return void 0}}},Eu={append:Rl};var kr={append:Nl};var U=function(t){return t.append},Bi=function(t){var r=U(t);return{append:function(e){return function(n){return function(u){return r(e(u))(n(u))}}}}};var Lf={alt:U(kr),Functor0:function(){return zt}},Vt=function(t){return t.alt};var Fk=Dt(dt);var Ct=function(t){return t.apply};var Ze=function(t){var r=Ct(t),e=g(t.Functor0());return function(n){return function(u){return r(e(C(Fk))(n))(u)}}},mr=function(t){var r=Ct(t),e=g(t.Functor0());return function(n){return function(u){return function(f){return r(e(n)(u))(f)}}}};var L=function(t){return t.pure};var Ea=function(t){var r=Ct(t.Apply0()),e=L(t);return function(n){return function(u){return r(e(n))(u)}}};var N=function(t){return t};var Hn=N;var ql=function(t){return function(r){return function(){return t(r())}}},Gl=function(t){return function(){return t}},zl=function(t){return function(r){return function(){return r(t())()}}};function Nr(t){return function(){return{value:t}}}var Dr=function(t){return function(){return t.value}},Vl=function(t){return function(r){return function(){var e=t(r.value);return r.value=e.state,e.value}}},ue=function(t){return function(r){return function(){return r.value=t}}};var Ek=Dt(dt),kn=function(t){return t.discard};var ft=function(t){return t.bind},Dn=function(t){return Bt(ft(t))};var Xl=function(t){var r=ft(t);return function(e){return function(n){return function(u){return r(e(u))(n)}}}};var dn={discard:function(t){return ft(t)}};var wu=function(t){var r=ft(t);return function(e){return r(e)(Ek)}};var ae=function(t){var r=ft(t.Bind1()),e=L(t.Applicative0());return function(n){return function(u){return r(n)(function(f){return r(u)(function(p){return e(f(p))})})}}};var wk=String.fromCharCode(65535),Ik=String.fromCharCode(0),Pk=Number.POSITIVE_INFINITY,Lk=Number.NEGATIVE_INFINITY;var ie=function(t){return t.top};var qn={top:2147483647,bottom:-2147483648,Ord0:function(){return Qt}};var _e=function(t){return t.bottom};var Kl=function(t){return t.toString()},Ql=function(t){var r=t.toString();return isNaN(r+".0")?r:r+".0"};var Uf={show:Ql},gn={show:Kl};var lt=function(t){return t.show};var Ur=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Pt=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}();var tn=function(){function t(){}return t.value=new t,t}();var Wf=function(t){return t.from};var Gk=Dt(dt),S=function(){function t(){}return t.value=new t,t}(),y=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}();var tr=function(t){return function(r){return function(e){if(e instanceof S)return t;if(e instanceof y)return r(e.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,r.constructor.name,e.constructor.name])}}},Lu=tr(!0)(C(!1)),Ia=tr(!1)(C(!0));var er={map:function(t){return function(r){return r instanceof y?new y(t(r.value0)):S.value}}},zk=g(er);var xr=function(t){return tr(t)(Gk)},dr=function(){return function(t){if(t instanceof y)return t.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[t.constructor.name])}};var Gn={apply:function(t){return function(r){if(t instanceof y)return zk(t.value0)(r);if(t instanceof S)return S.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[t.constructor.name,r.constructor.name])}},Functor0:function(){return er}};var Qr={bind:function(t){return function(r){if(t instanceof y)return r(t.value0);if(t instanceof S)return S.value;throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): "+[t.constructor.name,r.constructor.name])}},Apply0:function(){return Gn}};var rn=function(){return{pure:y.create,Apply0:function(){return Gn}}}();var Bf={alt:function(t){return function(r){return t instanceof S?r:t}},Functor0:function(){return er}},Vk=function(){return{empty:S.value,Alt0:function(){return Bf}}}(),Ou={Applicative0:function(){return rn},Plus1:function(){return Vk}};var Xt=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),jt=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}();var zn=function(t){return function(r){return function(e){if(e instanceof Xt)return t(e.value0);if(e instanceof jt)return r(e.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[t.constructor.name,r.constructor.name,e.constructor.name])}}},Hf=function(){return zn(C(S.value))(y.create)}();var en=function(t){return t};var Vn={map:function(t){return function(r){return t(r)}}};var Zl={apply:function(t){return function(r){return t(r)}},Functor0:function(){return Vn}},Xk={bind:function(t){return function(r){return r(t)}},Apply0:function(){return Zl}},jk={pure:en,Apply0:function(){return Zl}},Pa={Applicative0:function(){return jk},Bind1:function(){return Xk}};var t_=function(t){return Math.min(Math.abs(t),2147483647)},r_=function(t){return function(r){return r===0?0:r>0?Math.floor(t/r):-Math.floor(t/-r)}},e_=function(t){return function(r){if(r===0)return 0;var e=Math.abs(r);return(t%e+e)%e}};var n_={Ring0:function(){return Ri}};var oe=function(t){return t.mod};var Yr={degree:t_,div:r_,mod:e_,CommutativeRing0:function(){return n_}},nn=function(t){return t.div};var an={mempty:void 0,Semigroup0:function(){return Wl}};var V=function(t){return t.mempty},Sn=function(t){var r=V(t),e=Bi(t.Semigroup0());return{mempty:function(n){return r},Semigroup0:function(){return e}}};var qf=function(t){return function(){return t}},u_=function(t){return function(r){return function(){return r(t())()}}};var a_=function(t,r,e){var n=0,u;return function(f){if(n===2)return u;if(n===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+r+", line "+f+")",r,f);return n=1,u=e(),n=2,u}},Ru={Applicative0:function(){return Zr},Bind1:function(){return Nu}},Nu={bind:u_,Apply0:function(){return Gf(0)}},Zr={pure:qf,Apply0:function(){return Gf(0)}},i_=a_("functorEffect","Effect",function(){return{map:Ea(Zr)}}),Gf=a_("applyEffect","Effect",function(){return{apply:ae(Ru),Functor0:function(){return i_(0)}}}),$=i_(20),Hi=Gf(23),tD=mr(Hi),zf=function(t){return{append:tD(U(t))}},on=function(t){var r=zf(t.Semigroup0());return{mempty:qf(V(t)),Semigroup0:function(){return r}}};var o_=function(t){return function(){return{value:t}}};var yr=function(t){return function(){return t.value}},f_=function(t){return function(r){return function(){var e=t(r.value);return r.value=e.state,e.value}}},Wr=function(t){return function(r){return function(){r.value=t}}};var eD=Gt($),Br=o_,nD=f_,qi=function(t){return nD(function(r){var e=t(r);return{state:e,value:e}})},Oa=function(t){return function(r){return eD(qi(t)(r))}};var cD=function(t,r,e){var n=0,u;return function(f){if(n===2)return u;if(n===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+r+", line "+f+")",r,f);return n=1,u=e(),n=2,u}},pD=Vl,Ne=function(t){return pD(function(r){var e=t(r);return{state:e,value:e}})},fe={map:ql};var jf={Applicative0:function(){return Sr},Bind1:function(){return Ra}},Ra={bind:zl,Apply0:function(){return Jf(0)}},Sr={pure:Gl,Apply0:function(){return Jf(0)}},Jf=cD("applyST","Control.Monad.ST.Internal",function(){return{apply:ae(jf),Functor0:function(){return fe}}}),Gi=Jf(47),lD=mr(Gi);var _D=L(Sr),Kf=function(t){return{append:lD(U(t))}};var p_=function(t){var r=Kf(t.Semigroup0());return{mempty:_D(V(t)),Semigroup0:function(){return r}}};var Xn={liftST:Hn,Monad0:function(){return Ru}},jn=function(t){return t.liftST};var vD=function(t,r){if(t<1)return[];var e=new Array(t);return e.fill(r)},sD=function(t,r){for(var e=[],n=0,u=0;u<t;u++)e[n++]=r;return e},bD=typeof Array.prototype.fill=="function"?vD:sD,l_=function(){function t(u,f){this.head=u,this.tail=f}var r={};function e(u){return function(f){return new t(u,f)}}function n(u){for(var f=[],p=0,v=u;v!==r;)f[p++]=v.head,v=v.tail;return f}return function(u,f){return n(u(e)(r)(f))}}(),Ue=function(t){return t.length};var __=function(t,r,e,n){return n<0||n>=e.length?r:t(e[n])};var v_=function(t,r,e,n){for(var u=0,f=n.length;u<f;u++)if(e(n[u]))return t(u);return r};var s_=function(t,r,e,n){if(e<0||e>=n.length)return r;var u=n.slice();return u.splice(e,1),t(u)};var Vi=function(t){return t.slice().reverse()},Xi=function(t){if(t.length<=1e4)return Array.prototype.concat.apply([],t);for(var r=[],e=0,n=t.length;e<n;e++)for(var u=t[e],f=0,p=u.length;f<p;f++)r.push(u[f]);return r};var mD=function(){function t(r,e,n,u,f,p){var v,l,d,P,I,T,w;for(v=f+(p-f>>1),v-f>1&&t(r,e,u,n,f,v),p-v>1&&t(r,e,u,n,v,p),l=f,d=v,P=f;l<v&&d<p;)I=u[l],T=u[d],w=e(r(I)(T)),w>0?(n[P++]=T,++d):(n[P++]=I,++l);for(;l<v;)n[P++]=u[l++];for(;d<p;)n[P++]=u[d++]}return function(r,e,n){var u;return n.length<2?n:(u=n.slice(0),t(r,e,u,n.slice(0),0,n.length),u)}}();var b_=function(t,r){return t[r]};function Jn(){return[]}var m_=function(t,r){return r.push.apply(r,t)};var A_=function(t,r,e,n){return n.splice.apply(n,[t,r].concat(e))};function kD(t){return t.slice()}var k_=kD;var DD=function(){function t(r,e,n,u,f,p){var v,l,d,P,I,T,w;for(v=f+(p-f>>1),v-f>1&&t(r,e,u,n,f,v),p-v>1&&t(r,e,u,n,v,p),l=f,d=v,P=f;l<v&&d<p;)I=u[l],T=u[d],w=e(r(I)(T)),w>0?(n[P++]=T,++d):(n[P++]=I,++l);for(;l<v;)n[P++]=u[l++];for(;d<p;)n[P++]=u[d++]}return function(r,e,n){return n.length<2||t(r,e,n,n.slice(0),0,n.length),n}}();var Qf=function(r){return function(e){return function(){return r(e)}}},Yf=function(r){return function(e){return function(n){return function(){return r(e,n)}}}};var Zf=function(r){return function(e){return function(n){return function(u){return function(f){return function(){return r(e,n,u,f)}}}}}};var tc=Zf(A_);var $n=function(t){return Yf(m_)([t])};var Ji=Qf(k_);var y_=function(t){return function(r){return function(e){for(var n=r,u=e.length,f=u-1;f>=0;f--)n=t(e[f])(n);return n}}},g_=function(t){return function(r){return function(e){for(var n=r,u=e.length,f=0;f<u;f++)n=t(n)(e[f]);return n}}};var k={empty:[],Alt0:function(){return Lf}},_=function(t){return t.empty};var x=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}();var Mr=function(t){return t.value1};var be=function(t){return t.value0};var Uu=function(t){return function(r){return function(e){return t(new x(r,e))}}};var Ar=function(){return N};var OD=Ar();var Hr=function(){return OD};var ar=function(t){return t.foldr};var Hu=function(t){var r=Ze(t.Apply0()),e=L(t);return function(n){var u=ar(n);return function(f){return u(function(p){return r(f(p))})(e(void 0))}}},Cn=function(t){var r=Hu(t);return function(e){return Bt(r(e))}};var rr=function(t){return t.foldl};var hn={foldr:function(t){return function(r){return function(e){if(e instanceof S)return r;if(e instanceof y)return t(e.value0)(r);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,r.constructor.name,e.constructor.name])}}},foldl:function(t){return function(r){return function(e){if(e instanceof S)return r;if(e instanceof y)return t(r)(e.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,r.constructor.name,e.constructor.name])}}},foldMap:function(t){var r=V(t);return function(e){return function(n){if(n instanceof S)return r;if(n instanceof y)return e(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[e.constructor.name,n.constructor.name])}}}};var x_=function(t){var r=ar(t);return function(e){var n=U(e.Semigroup0()),u=V(e);return function(f){return r(function(p){return function(v){return n(f(p))(v)}})(u)}}},Ft={foldr:y_,foldl:g_,foldMap:function(t){return x_(Ft)(t)}};var br=function(t){return t.foldMap};var qu=function(t){return function(r){return function(e){return t(r,e)}}};var Gu=function(t){return function(r){return function(e){return function(n){return function(u){return t(r,e,n,u)}}}}};var M_=function(t){return function(r){for(var e=r.length,n=Array(e),u=0;u<e;u++)n[u]=t(u)(r[u]);return n}};var cn=function(t){return t.mapWithIndex};var Fn={mapWithIndex:M_,Functor0:function(){return zt}};var P_=function(){function t(u){return[u]}function r(u){return function(f){return[u,f]}}function e(u){return function(f){return function(p){return[u,f,p]}}}function n(u){return function(f){return u.concat(f)}}return function(u){return function(f){return function(p){return function(v){return function(l){function d(P,I){switch(I-P){case 0:return p([]);case 1:return f(t)(v(l[P]));case 2:return u(f(r)(v(l[P])))(v(l[P+1]));case 3:return u(u(f(e)(v(l[P])))(v(l[P+1])))(v(l[P+2]));default:var T=P+Math.floor((I-P)/4)*2;return u(f(n)(d(P,T)))(d(T,I))}}return d(0,l.length)}}}}}}();var gd=Dt(dt),Ae=function(t){return t.traverse};var X_=function(t){var r=Ae(t);return function(e){return r(e)(gd)}},Qn={traverse:function(t){var r=t.Apply0();return P_(Ct(r))(g(r.Functor0()))(L(t))},sequence:function(t){return X_(Qn)(t)},Functor0:function(){return zt},Foldable1:function(){return Ft}},Yn=function(t){return t.sequence};var j_=function(t){return function(r){return function(e){return function(n){return function(u){return function(f){for(var p=[],v=f;;){var l=u(v);if(t(l))return p;var d=r(l);p.push(e(d)),v=n(d)}}}}}}};var J_=function(t){return function(r){return function(e){return function(n){return function(u){return function(f){for(var p=[],v=f;;){var l=u(v);p.push(e(l));var d=n(l);if(t(d))return p;v=r(d)}}}}}}};var wd=dr(),Xa=function(t){return t.unfoldr1};var Vu={unfoldr1:J_(Lu)(wd)(be)(Mr)},K_=function(t){var r=Xa(t);return function(e){return function(n){var u=function(f){if(f<=0)return new x(n,S.value);if(pr)return new x(n,new y(f-1|0));throw new Error("Failed pattern match at Data.Unfoldable1 (line 68, column 5 - line 68, column 39): "+[f.constructor.name])};return r(u)(e-1|0)}}};var bc=function(t){return K_(t)(1)};var Id=dr(),ln=function(t){return t.unfoldr};var Zn={unfoldr:j_(Lu)(Id)(be)(Mr),Unfoldable10:function(){return Vu}},Pd=function(t){var r=ln(t);return function(e){return function(n){var u=function(f){var p=f<=0;return p?S.value:new y(new x(n,f-1|0))};return r(u)(e)}}},Q_=function(t){return function(r){var e=Pd(r);return function(n){var u=Yn(n)(t);return function(f){return function(p){return u(e(f)(p))}}}}};var Ud=g(er);var Wd=dr();var Z_=function(){return qu(b_)},Bd=Z_();var mc=function(t){return[t]};var tu=function(){return Gu(__)(y.create)(S.value)}(),Ac=function(t){return tu(t)(Ue(t)-1|0)};var ja=function(t){return qu(l_)(ar(t))};var kc=function(){return Gu(v_)(y.create)(S.value)}(),oo=function(t){return function(r){return Ud(Bd(r))(kc(t)(r))}};var tv=function(){return Gu(s_)(y.create)(S.value)}(),Dc=function(t){return function(r){return function(e){return e.length===0?[]:tr(e)(function(n){return Wd(tv(n)(e))})(kc(t(r))(e))}}};var fo=function(t){return t.foldrWithIndex};var eu=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}();var gt=function(){function t(){}return t.value=new t,t}(),pt=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}();var Vd=function(t){var r=function(e){return function(n){var u=e,f=!1,p;function v(l,d){if(d instanceof pt&&d.value1 instanceof pt&&d.value1.value1 instanceof pt){u=new pt(d,l),n=d.value1.value1.value1;return}var P=function(T){return T instanceof pt&&T.value1 instanceof pt&&T.value1.value1 instanceof gt?new pt(t(T.value0),new pt(t(T.value1.value0),gt.value)):T instanceof pt&&T.value1 instanceof gt?new pt(t(T.value0),gt.value):gt.value},I=function(T){return function(w){var et=T,j=!1,ot;function _t(wt,zr){if(wt instanceof pt&&wt.value0 instanceof pt&&wt.value0.value1 instanceof pt&&wt.value0.value1.value1 instanceof pt){et=wt.value1,w=new pt(t(wt.value0.value0),new pt(t(wt.value0.value1.value0),new pt(t(wt.value0.value1.value1.value0),zr)));return}return j=!0,zr}for(;!j;)ot=_t(et,w);return ot}};return f=!0,I(l)(P(d))}for(;!f;)p=v(u,n);return p}};return r(gt.value)},co={map:Vd},Xd=g(co);var ce={foldr:function(t){return function(r){var e=function(){var u=function(f){return function(p){var v=f,l=!1,d;function P(I,T){if(T instanceof gt)return l=!0,I;if(T instanceof pt){v=new pt(T.value0,I),p=T.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[I.constructor.name,T.constructor.name])}for(;!l;)d=P(v,p);return d}};return u(gt.value)}(),n=rr(ce)(Bt(t))(r);return function(u){return n(e(u))}}},foldl:function(t){var r=function(e){return function(n){var u=e,f=!1,p;function v(l,d){if(d instanceof gt)return f=!0,l;if(d instanceof pt){u=t(l)(d.value0),n=d.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[d.constructor.name])}for(;!f;)p=v(u,n);return p}};return r},foldMap:function(t){var r=U(t.Semigroup0()),e=V(t);return function(n){return rr(ce)(function(u){var f=r(u);return function(p){return f(n(p))}})(e)}}};var jd=ar(ce);var dc={append:function(t){return function(r){return jd(pt.create)(r)(t)}}},iv=U(dc);var ov={apply:function(t){return function(r){if(t instanceof gt)return gt.value;if(t instanceof pt)return iv(Xd(t.value0)(r))(Ct(ov)(t.value1)(r));throw new Error("Failed pattern match at Data.List.Types (line 157, column 1 - line 159, column 48): "+[t.constructor.name,r.constructor.name])}},Functor0:function(){return co}};var yc={bind:function(t){return function(r){if(t instanceof gt)return gt.value;if(t instanceof pt)return iv(r(t.value0))(ft(yc)(t.value1)(r));throw new Error("Failed pattern match at Data.List.Types (line 164, column 1 - line 166, column 37): "+[t.constructor.name,r.constructor.name])}},Apply0:function(){return ov}};var ry=ft(yc);var gc=function(){var t=function(r){return function(e){var n=r,u=!1,f;function p(v,l){if(l instanceof gt)return u=!0,v;if(l instanceof pt){n=new pt(l.value0,v),e=l.value1;return}throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[v.constructor.name,l.constructor.name])}for(;!u;)f=p(n,e);return f}};return t(gt.value)}();var po=function(t){return ar(t)(pt.create)(gt.value)};var fv=Bt(ry);var uu=function(t,r,e){var n=0,u;return function(f){if(n===2)return u;if(n===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+r+", line "+f+")",r,f);return n=1,u=e(),n=2,u}};var Yt=function(){function t(){}return t.value=new t,t}(),Jt=function(){function t(r,e,n,u,f,p){this.value0=r,this.value1=e,this.value2=n,this.value3=u,this.value4=f,this.value5=p}return t.create=function(r){return function(e){return function(n){return function(u){return function(f){return function(p){return new t(r,e,n,u,f,p)}}}}}},t}();var lo=function(){function t(r,e,n){this.value0=r,this.value1=e,this.value2=n}return t.create=function(r){return function(e){return function(n){return new t(r,e,n)}}},t}(),cv=function(){function t(r,e,n){this.value0=r,this.value1=e,this.value2=n}return t.create=function(r){return function(e){return function(n){return new t(r,e,n)}}},t}(),de=function(t,r,e,n){if(e instanceof Yt){if(n instanceof Yt)return new Jt(1,1,t,r,e,n);if(n instanceof Jt)return new Jt(1+n.value0|0,1+n.value1|0,t,r,e,n);throw new Error("Failed pattern match at Data.Map.Internal (line 680, column 5 - line 684, column 39): "+[n.constructor.name])}if(e instanceof Jt){if(n instanceof Yt)return new Jt(1+e.value0|0,1+e.value1|0,t,r,e,n);if(n instanceof Jt)return new Jt(1+function(){var u=e.value0>n.value0;return u?e.value0:n.value0}()|0,(1+e.value1|0)+n.value1|0,t,r,e,n);throw new Error("Failed pattern match at Data.Map.Internal (line 686, column 5 - line 690, column 68): "+[n.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 678, column 32 - line 690, column 68): "+[e.constructor.name])};var vo=function(t){return function(r){return new Jt(1,1,t,r,Yt.value,Yt.value)}},he=function(){var t=function(n){if(n instanceof Yt)return 0;if(n instanceof Jt)return n.value0;throw new Error("Failed pattern match at Data.Map.Internal (line 735, column 12 - line 737, column 26): "+[n.constructor.name])},r=function(n,u,f,p,v,l,d){return l instanceof Jt&&l.value0>t(d)?de(l.value2,l.value3,de(n,u,f,l.value4),de(p,v,l.value5,d)):de(p,v,de(n,u,f,l),d)},e=function(n,u,f,p,v,l,d){return l instanceof Jt&&t(v)<=l.value0?de(l.value2,l.value3,de(f,p,v,l.value4),de(n,u,l.value5,d)):de(f,p,v,de(n,u,l,d))};return function(n,u,f,p){if(f instanceof Yt)return p instanceof Yt?vo(n)(u):p instanceof Jt&&p.value0>1?r(n,u,f,p.value2,p.value3,p.value4,p.value5):de(n,u,f,p);if(f instanceof Jt){if(p instanceof Jt){if(p.value0>(f.value0+1|0))return r(n,u,f,p.value2,p.value3,p.value4,p.value5);if(f.value0>(p.value0+1|0))return e(n,u,f.value2,f.value3,f.value4,f.value5,p)}return p instanceof Yt&&f.value0>1?e(n,u,f.value2,f.value3,f.value4,f.value5,p):de(n,u,f,p)}throw new Error("Failed pattern match at Data.Map.Internal (line 695, column 40 - line 716, column 34): "+[f.constructor.name])}}(),Sc=uu("unsafeSplit","Data.Map.Internal",function(){return function(t,r,e){if(e instanceof Yt)return new lo(S.value,Yt.value,Yt.value);if(e instanceof Jt){var n=t(r)(e.value2);if(n instanceof st){var u=Sc(771)(t,r,e.value4);return new lo(u.value0,u.value1,he(e.value2,e.value3,u.value2,e.value5))}if(n instanceof mt){var u=Sc(774)(t,r,e.value5);return new lo(u.value0,he(e.value2,e.value3,e.value4,u.value1),u.value2)}if(n instanceof xt)return new lo(new y(e.value3),e.value4,e.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 769, column 5 - line 777, column 30): "+[n.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 765, column 34 - line 777, column 30): "+[e.constructor.name])}}),pv=Sc(764),lv=uu("unsafeSplitLast","Data.Map.Internal",function(){return function(t,r,e,n){if(n instanceof Yt)return new cv(t,r,e);if(n instanceof Jt){var u=lv(757)(n.value2,n.value3,n.value4,n.value5);return new cv(u.value0,u.value1,he(t,r,e,u.value2))}throw new Error("Failed pattern match at Data.Map.Internal (line 754, column 37 - line 758, column 57): "+[n.constructor.name])}}),uy=lv(753),_v=function(t,r){if(t instanceof Yt)return r;if(t instanceof Jt){var e=uy(t.value2,t.value3,t.value4,t.value5);return he(e.value0,e.value1,e.value2,r)}throw new Error("Failed pattern match at Data.Map.Internal (line 742, column 25 - line 746, column 38): "+[t.constructor.name,r.constructor.name])};var $c=uu("unsafeUnionWith","Data.Map.Internal",function(){return function(t,r,e,n){if(e instanceof Yt)return n;if(n instanceof Yt)return e;if(n instanceof Jt){var u=pv(t,n.value2,e),f=$c(787)(t,r,u.value1,n.value4),p=$c(788)(t,r,u.value2,n.value5);if(u.value0 instanceof y)return he(n.value2,r(u.value0.value0)(n.value3),f,p);if(u.value0 instanceof S)return he(n.value2,n.value3,f,p);throw new Error("Failed pattern match at Data.Map.Internal (line 789, column 5 - line 793, column 46): "+[u.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 782, column 42 - line 793, column 46): "+[e.constructor.name,n.constructor.name])}}),ay=$c(781),iy=function(t){var r=it(t);return function(e){return function(n){return function(u){return ay(r,e,n,u)}}}},vv=function(t){return iy(t)(C)};var sv=function(t){var r=it(t);return function(e){var n=function(u){var f=!1,p;function v(l){if(l instanceof Yt)return f=!0,!1;if(l instanceof Jt){var d=r(e)(l.value2);if(d instanceof st){u=l.value4;return}if(d instanceof mt){u=l.value5;return}if(d instanceof xt)return f=!0,!0;throw new Error("Failed pattern match at Data.Map.Internal (line 457, column 7 - line 460, column 19): "+[d.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 454, column 8 - line 460, column 19): "+[l.constructor.name])}for(;!f;)p=v(u);return p};return n}};var au=function(t){var r=it(t);return function(e){var n=function(u){var f=!1,p;function v(l){if(l instanceof Yt)return f=!0,S.value;if(l instanceof Jt){var d=r(e)(l.value2);if(d instanceof st){u=l.value4;return}if(d instanceof mt){u=l.value5;return}if(d instanceof xt)return f=!0,new y(l.value3);throw new Error("Failed pattern match at Data.Map.Internal (line 281, column 7 - line 284, column 22): "+[d.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 278, column 8 - line 284, column 22): "+[l.constructor.name])}for(;!f;)p=v(u);return p};return n}};var Ka=function(t){var r=it(t);return function(e){return function(n){var u=function(f){if(f instanceof Yt)return vo(e)(n);if(f instanceof Jt){var p=r(e)(f.value2);if(p instanceof st)return he(f.value2,f.value3,u(f.value4),f.value5);if(p instanceof mt)return he(f.value2,f.value3,f.value4,u(f.value5));if(p instanceof xt)return new Jt(f.value0,f.value1,e,n,f.value4,f.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 469, column 7 - line 472, column 35): "+[p.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 466, column 8 - line 472, column 35): "+[f.constructor.name])};return u}}};var bv={foldr:function(t){return function(r){var e=uu("go","Data.Map.Internal",function(){return function(u,f){if(u instanceof Yt)return f;if(u instanceof Jt)return e(170)(u.value4,t(u.value3)(e(170)(u.value5,f)));throw new Error("Failed pattern match at Data.Map.Internal (line 167, column 26 - line 170, column 43): "+[u.constructor.name])}}),n=e(167);return function(u){return n(u,r)}}},foldl:function(t){return function(r){var e=uu("go","Data.Map.Internal",function(){return function(u,f){if(f instanceof Yt)return u;if(f instanceof Jt)return e(176)(t(e(176)(u,f.value4))(f.value3),f.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 173, column 26 - line 176, column 43): "+[f.constructor.name])}}),n=e(173);return function(u){return n(r,u)}}},foldMap:function(t){var r=V(t),e=U(t.Semigroup0());return function(n){var u=function(f){if(f instanceof Yt)return r;if(f instanceof Jt)return e(u(f.value4))(e(n(f.value3))(u(f.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 179, column 10 - line 182, column 28): "+[f.constructor.name])};return u}}},oy={foldrWithIndex:function(t){return function(r){var e=uu("go","Data.Map.Internal",function(){return function(u,f){if(u instanceof Yt)return f;if(u instanceof Jt)return e(190)(u.value4,t(u.value2)(u.value3)(e(190)(u.value5,f)));throw new Error("Failed pattern match at Data.Map.Internal (line 187, column 26 - line 190, column 45): "+[u.constructor.name])}}),n=e(187);return function(u){return n(u,r)}}},foldlWithIndex:function(t){return function(r){var e=uu("go","Data.Map.Internal",function(){return function(u,f){if(f instanceof Yt)return u;if(f instanceof Jt)return e(196)(t(f.value2)(e(196)(u,f.value4))(f.value3),f.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 193, column 26 - line 196, column 45): "+[f.constructor.name])}}),n=e(193);return function(u){return n(r,u)}}},foldMapWithIndex:function(t){var r=V(t),e=U(t.Semigroup0());return function(n){var u=function(f){if(f instanceof Yt)return r;if(f instanceof Jt)return e(u(f.value4))(e(n(f.value2)(f.value3))(u(f.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 199, column 10 - line 202, column 30): "+[f.constructor.name])};return u}},Foldable0:function(){return bv}},mv=function(){return fo(oy)(function(t){return function(r){return function(e){return new pt(t,e)}}})(gt.value)}();var We=function(){return Yt.value}(),so=function(t){var r=Ka(t);return function(e){return rr(e)(function(n){return function(u){return r(u.value0)(u.value1)(n)}})(We)}};var Av=function(t){var r=it(t);return function(e){var n=function(u){if(u instanceof Yt)return Yt.value;if(u instanceof Jt){var f=r(e)(u.value2);if(f instanceof st)return he(u.value2,u.value3,n(u.value4),u.value5);if(f instanceof mt)return he(u.value2,u.value3,u.value4,n(u.value5));if(f instanceof xt)return _v(u.value4,u.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 496, column 7 - line 499, column 43): "+[f.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 493, column 8 - line 499, column 43): "+[u.constructor.name])};return n}};var Ju=function(t){var r=it(t);return function(e){return function(n){return function(u){var f=pv(r,n,u),p=e(f.value0);if(p instanceof S)return _v(f.value1,f.value2);if(p instanceof y)return he(n,p.value0,f.value1,f.value2);throw new Error("Failed pattern match at Data.Map.Internal (line 512, column 3 - line 516, column 41): "+[p.constructor.name])}}}};var ou=function(t){return t.filterMap};var Tc=Ar(),dy=br(ce),yy=rr(ce),gy=ar(ce);var Sy=function(t){return Tc(vv(t))};var Fc=function(t){return mv(t)};var Dv=function(t){return vo(t)(void 0)};var xc=function(t){return{append:Sy(t)}},dv=function(t){return Tc(sv(t))};var $y=function(t){var r=Ka(t);return function(e){return function(n){return r(e)(void 0)(n)}}};var yv={foldMap:function(t){var r=dy(t);return function(e){var n=r(e);return function(u){return n(Fc(u))}}},foldl:function(t){return function(r){var e=yy(t)(r);return function(n){return e(Fc(n))}}},foldr:function(t){return function(r){var e=gy(t)(r);return function(n){return e(Fc(n))}}}};var gv=We,Sv=function(t){var r=rr(t);return function(e){var n=$y(e);return r(function(u){return function(f){return n(f)(u)}})(gv)}};var $v=function(t){var r=xc(t);return{mempty:gv,Semigroup0:function(){return r}}};var Cv=function(t){return Tc(Av(t))};function Fv(t){return function(r){return function(){return setTimeout(r,t)}}}function Tv(t){return function(){clearTimeout(t)}}var hy=it(Qt);var xv=Fv;var Fy={eq:function(t){return function(r){return t===r}}},bo={compare:function(t){return function(r){return hy(t)(r)}},Eq0:function(){return Fy}};var Mv=Tv;var _n=function(r){return function(e){return r(e)()}};var Ya=function(r){return function(e){return function(){return r(e)}}};var Xy=function(t){var r=U(zf(t));return{append:function(e){return function(n){return _n(function(u){return r(Ya(e)(u))(Ya(n)(u))})}}}};var wv=function(t){var r=V(on(t)),e=Xy(t.Semigroup0());return{mempty:_n(function(n){return r}),Semigroup0:function(){return e}}};var fu=function(t){return t.keepLatest};function Ec(t){return function(r){return t===r}}var Iv=Ec;var Ov=function(t,r,e){var n=0,u;return function(f){if(n===2)return u;if(n===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+r+", line "+f+")",r,f);return n=1,u=e(),n=2,u}},Rv=Cn(Zr),ko=Rv(hn),cu=L(Zr),Fe=jn(Xn),Ky=on(an),ti=Gt($),Qy=U(kr),Nv=V(wv(an)),Yy=V($v(bo)),Zy=Cv(bo),tg=U(xc(bo)),rg=Rv(yv),eg=Ct(Hi),ng=g($);var ug=function(t){return function(r){return function(e,n){var u=Br(S.value)(),f=t(e,function(v){return Wr(new y(v))(u)()}),p=r(e,function(v){var l=yr(u)();return ko(l)(function(d){return function(){return n(v(d))}})()});return function(){return f(),p()}}}},ag=function(t){return function(r){return function(e,n){var u=Br(S.value)(),f=t(e,function(v){var l=yr(u)();return ko(l)(function(d){return function(){return n(d(v))}})()}),p=r(e,function(v){return Wr(new y(v))(u)()});return function(){return f(),p()}}}},pu=function(t){var r=br(t)(Ky);return function(e){return function(n,u){var f=Fe(Jn)();return r(function(p){return function(){var l=p(n,u);return ti(Fe($n(l)(f)))()}})(e)(),function(){var v=Fe(Ji(f))();return Ll(v)}}}},Pv=function(t){var r=Ju(t),e=au(t);return function(){var u=Br(We)();return{event:function(f){return function(p,v){return ti(qi(r(function(l){if(l instanceof S)return new y([v]);if(l instanceof y)return new y(Qy(l.value0)([v]));throw new Error("Failed pattern match at FRP.Event (line 568, column 17 - line 570, column 51): "+[l.constructor.name])})(f))(u))(),ti(qi(r(function(l){if(l instanceof S)return S.value;if(l instanceof y)return new y(Dc(Iv)(v)(l.value0));throw new Error("Failed pattern match at FRP.Event (line 577, column 17 - line 579, column 65): "+[l.constructor.name])})(f))(u))}},push:function(f){var p=yr(u)(),v=e(f.address)(p);if(v instanceof S)return void 0;if(v instanceof y)return Wi(v.value0,function(l){return l(f.payload)});throw new Error("Failed pattern match at FRP.Event (line 586, column 9 - line 588, column 95): "+[v.constructor.name])}}}},ig=function(t){return function(r,e){var n=Br(cu(void 0))(),u=t(r,function(f){var p=yr(n)();p();var v=f(r,e);return Wr(v)(n)()});return function(){var p=yr(n)();return p(),u()}}},Kt={map:function(t){return function(r){return function(e,n){return r(e,function(u){return n(t(u))})}}}},og=g(Kt),Za=function(t){return function(r){return function(e,n){return r(e,function(u){var f=t(u);if(f instanceof y)return n(f.value0);if(f instanceof S)return void 0;throw new Error("Failed pattern match at FRP.Event (line 225, column 31 - line 227, column 35): "+[f.constructor.name])})}}},wc=function(t){return Za(function(r){var e=t(r);if(e)return new y(r);if(!e)return S.value;throw new Error("Failed pattern match at FRP.Event (line 141, column 13 - line 143, column 25): "+[e.constructor.name])})},Ao=function(){var r=Ef(),e=Br(0)();return{event:function(n,u){var f=Br(u)(),p=yr(e)();return wf(p,f,r),Oa(function(v){return v+1|0})(e)(),function(){return Wr(Nv)(f)(),If(p,r),void 0}},push:function(n){return Mf(r,function(u){var f=yr(u)();return f(n)})}}},fg=function(t){return function(r,e){var n=Ao(),u=t(n.event),f=n.event(r,e),p=u(r,n.push);return function(){return p(),f()}}},cg={compact:Za(Dt(dt)),separate:function(t){return{left:Za(function(r){if(r instanceof Xt)return new y(r.value0);if(r instanceof jt)return S.value;throw new Error("Failed pattern match at FRP.Event (line 124, column 13 - line 126, column 33): "+[r.constructor.name])})(t),right:Za(function(r){if(r instanceof jt)return new y(r.value0);if(r instanceof Xt)return S.value;throw new Error("Failed pattern match at FRP.Event (line 131, column 13 - line 133, column 32): "+[r.constructor.name])})(t)}}},ri={filter:wc,filterMap:Za,partition:function(t){return function(r){return{yes:wc(t)(r),no:wc(function(e){return!t(e)})(r)}}},partitionMap:function(t){return function(r){return{left:ou(ri)(function(){var e=zn(y.create)(C(S.value));return function(n){return e(t(n))}}())(r),right:ou(ri)(function(e){return Hf(t(e))})(r)}}},Compactable0:function(){return cg},Functor1:function(){return Kt}},pg=function(t){return function(r){return function(e,n){var u=Br(S.value)(),f=Fe(Jn)(),p=Br(S.value)(),v=Fe(Jn)(),l=Br(!0)(),d=t(e,function(w){var et=yr(l)();if(et)return ti(Fe($n(w)(f)))();Wr(new y(w))(u)();var j=yr(p)();return ko(j)(function(ot){return function(){return n(ot(w))}})()}),P=r(e,function(w){var et=yr(l)();if(et)return ti(Fe($n(w)(v)))();Wr(new y(w))(p)();var j=yr(u)();return ko(j)(function(ot){return function(){return n(w(ot))}})()});Wr(!1)(l)();var I=Fe(Ji(f))(),T=Fe(Ji(v))();return function(){return I.length===0?Wr(Ac(T))(p)():Wi(I,function(w){return Wr(new y(w))(u)(),Wi(T,function(et){return Wr(new y(et))(p)(),n(et(w))})})}(),Fe(tc(0)(Ue(I))([])(f))(),Fe(tc(0)(Ue(T))([])(v))(),function(){return d(),P()}}}},ei=function(t){return function(r){return r}(Pc(345).subscribe)(t)},Pc=Ov("backdoor","FRP.Event",function(){var t=function(){var e=Ef(),n=Br(0)();return{event:function(u,f){var p=Br(f)(),v=yr(n)();return wf(v,p,e),Oa(function(l){return l+1|0})(n)(),function(){return Wr(Nv)(p)(),If(v,e),void 0}},push:function(u){return function(){return Mf(e,function(f){var p=yr(f)();return p(u)})}}}};return{createO:Ao,makeEvent:function(){var r=function(e){return function(n,u){return n?cu(void 0):e(function(f){return function(){return u(f)}})()}};return r}(),makeEventO:function(){var r=function(e){return function(n,u){return n?cu(void 0):e(u)}};return r}(),makePureEvent:function(){var r=function(e){return function(n,u){return e(function(f){return function(){return u(f)}})()}};return r}(),makeLemmingEvent:function(){var r=function(e){return function(n,u){var f=function(p){return function(v){return function(){return p(n,_n(v))}}};return e(f)(function(p){return function(){return u(p)}})()}};return r}(),makeLemmingEventO:function(){var r=function(e){return function(n,u){var f=function(p,v){return p(n,v)};return e(f,u)}};return r}(),create:t,createPure:t,createPureO:Ao,subscribe:function(){var r=function(e){return function(n){return function(){return e(!1,_n(n))}}};return r}(),subscribeO:function(){var r=function(e,n){return e(!1,n)};return r}(),subscribePureO:function(){var r=function(e,n){return e(!0,n)};return r}(),subscribePure:function(){var r=function(){var e=function(n){return function(u){return function(){return n(!0,_n(u))}}};return e}();return r}(),bus:function(){var r=function(e){return function(n,u){var f=Lv(819)();return u(e(f.push)(f.event)),cu(void 0)}};return r}(),memoize:function(){var r=function(e){return function(n){return function(u,f){var p=Ao();return f(n(p.event)),e(u,p.push)}}};return r}(),hot:function(){var r=function(e){return function(){var u=Lv(837)(),f=ei(e)(u.push)();return{event:u.event,unsubscribe:f}}};return r}(),mailbox:function(){var r=function(e){return function(){var u=Pv(e)();return{event:u.event,push:function(f){return function(){return u.push(f)}}}}};return r}(),mailboxed:function(){var r=function(e){var n=Pv(e);return function(u){return function(f){return function(p,v){var l=n();return v(f(l.event)),u(p,l.push)}}}};return r}(),delay:function(){var r=function(e){return function(n){return function(u,f){var p=Br(Yy)(),v=n(u,function(l){var d=Br(S.value)(),P=xv(e)(function(){f(l);var T=yr(d)();return tr(cu(void 0))(function(w){return Oa(Zy(w))(p)})(T)()})();return Wr(new y(P))(d)(),Oa(tg(Dv(P)))(p)()});return function(){var d=yr(p)();return rg(d)(Mv)(),v()}}}};return r}()}}),Lv=Ov("create","FRP.Event",function(){return function(){return void 0,function(r){return r}(Pc(461).create)()}}),ni=Pc(678);var Lc=function(t){return function(r){return r}(ni.bus)(t)};var Ku=function(t){return function(r){return r}(ni.makeEvent)(t)};var Oc=function(t){return function(r){return r}(ni.makeLemmingEvent)(t)},Be=function(t){return function(r){return r}(ni.makeLemmingEventO)(t)};var Do=function(t){return function(r){return r}(ni.memoize)(t)};var Uv={apply:function(t){return function(r){return pg(t)(og(Ma)(r))}},Functor0:function(){return Kt}},lg=mr(Uv),_g=function(t){return{append:lg(U(t))}},_r={pure:function(t){return function(r,e){return e(t),cu(void 0)}},Apply0:function(){return Uv}},vg=L(_r);var yo=function(t){var r=_g(t.Semigroup0());return{mempty:vg(V(t)),Semigroup0:function(){return r}}};var ye={alt:function(t){return function(r){return function(e,n){return eg(ng(function(u){return function(f){return function(){return u(),f()}}})(function(){return t(e,n)}))(function(){return r(e,n)})()}}},Functor0:function(){return Kt}};var He={empty:function(t,r){return cu(void 0)},Alt0:function(){return ye}},sg={Applicative0:function(){return _r},Plus1:function(){return He}},Qu={keepLatest:ig,sampleOnRight:ug,sampleOnLeft:ag,fix:fg,Alternative0:function(){return sg},Filterable1:function(){return ri}};var Nc=function(t){var r=Or(t);return function(){return function(e){return function(n){return Ie(r(e))(n)}}}};var Te=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Yu=function(){function t(){}return t.value=new t,t}();var Uc=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Wc=function(){function t(){}return t.value=new t,t}(),Bc=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Hv=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Hc=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),lu=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),te=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}();var Mn={eq:function(t){return function(r){return t instanceof Te&&r instanceof Te?t.value0===r.value0:t instanceof Yu&&r instanceof Yu}}};var qc=function(t){return new Hc(t)},Zu=function(t){return new lu(t)};var Dg=function(){function t(p){this.fn=p}var r={},e=function(p,v){this.head=p,this.tail=v};function n(p){return new e(p,r)}function u(p){return function(v){return new e(p,v)}}function f(p){for(var v=[],l=p;l!==r;)v.push(l.head),l=l.tail;return v}return function(p,v,l){var d=function(I,T){return p(v(u)(l(I)))(T)},P=function(I,T,w){if(T===0)return I;var et=w[T-1];return new t(function(){var j=P(d(et,I),T-1,w);return j})};return function(I){for(var T=v(n)(l(I[I.length-1])),w=P(T,I.length-1,I);w instanceof t;)w=w.fn();return v(f)(w)}}}();var ta=function(t){return t.reflectType};function Kv(t){return function(){var r={};for(var e in t)hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r}}var ra={};function Vc(t){return t()}function Qv(t){return function(r){return function(e){return function(n){var u=e;function f(v){return function(l){return r(l)(v)(n[v])}}for(var p in n)hasOwnProperty.call(n,p)&&(u=t(u)(f(p)));return u}}}}function Fo(t){return function(r){var e=[];for(var n in r)hasOwnProperty.call(r,n)&&e.push(t(n)(r[n]));return e}}var Bg=Object.keys||Fo(function(t){return function(){return t}});function Xc(t){return function(r){return function(e){return function(){return e[t]=r,e}}}}var jc=function(t){return function(r){return function(){return delete r[t],r}}};var jg=ar(Ft);var Jg=Fo(function(t){return function(r){return r}});var Kg=Kv;var Yv=function(t){return function(r){return Vc(function(){var n=Kg(r)();return t(n)(),n})}};var ea=function(t){return function(r){return Yv(Xc(t)(r))}};var Zv=Qv(Ma),Qg=function(t){var r=U(t.Semigroup0()),e=V(t);return function(n){return Zv(function(u){return function(f){return function(p){return r(u)(n(f)(p))}}})(e)}},ts={foldl:function(t){return Zv(function(r){return function(e){return t(r)}})},foldr:function(t){return function(r){return function(e){return jg(t)(r)(Jg(e))}}},foldMap:function(t){var r=Qg(t);return function(e){return r(C(e))}}};var Jc=function(t){return Yv(jc(t))};var nS=fu(Qu),uS=g(Kt),aS=pu(Ft);var iS=ft(Ra);var na=L(Sr),oS=g(fe);var us=Cn(Sr),fS=us(hn);var qe=Gt(fe);var cS=us(Ft);var pS=g(zt),es=U(Kf(Eu)),lS=Hu(Sr)(Ft),_S=U(kr),vS=rr(ts),sS=Ze(Gi),ns=function(){function t(){}return t.value=new t,t}(),Kc=function(){function t(){}return t.value=new t,t}(),bS=function(){function t(){}return t.value=new t,t}();var xe=function(t){return function(r){return function(e){var n=function(u){return u(r)(e)};return function(u){if(u instanceof Hc)return aS(pS(xe(t)(r)(e))(u.value0));if(u instanceof lu)return nS(uS(xe(t)(r)(e))(u.value0));if(u instanceof te)return n(t.toElt(u.value0));if(u instanceof Hv)return Be(function(f,p){var v=Nr(ra)(),l=f(u.value0,function(d){var P=t.ids(e)(),I=Nr(na(void 0))(),T=t.ids(e)(),w=Nr(na(void 0))(),et=Nr([])(),j=Nr(na(void 0))(),ot=oS(Te.create)(function(){if(r.scope instanceof Yu)return t.ids(e);if(r.scope instanceof Te)return es(na(r.scope.value0))(es(na("!"))(t.ids(e)));throw new Error("Failed pattern match at Bolson.Control (line 547, column 17 - line 549, column 67): "+[r.scope.constructor.name])}())(),_t=Nr(ns.value)(),wt=f(d,function(Xr){var K=Dr(_t)();if(Xr instanceof Bc&&K instanceof Kc){var jr=Dr(et)();return lS(function(Qe){return function(){return p(t.doLogic(Xr.value0)(e)(Qe))}})(jr)()}if(Xr instanceof Wc&&K instanceof Kc){qe(ue(bS.value)(_t))();var Tu=function(){var On=Dr(et)();cS(On)(function(bn){return fS(r.parent)(function(Lr){return function(){return p(t.disconnectElement(e)({id:bn,parent:Lr,scope:ot}))}})})();var sn=Dr(I)();sn();var $f=Dr(w)();return $f(),qe(Ne(Jc(P))(v))(),qe(Ne(Jc(T))(v))()};return qe(ue(Tu)(j))(),Tu()}if(Xr instanceof Uc&&K instanceof ns){qe(ue(Kc.value)(_t))();var Ii=f(xe(t)(function(){var Qe={};for(var On in r)({}).hasOwnProperty.call(r,On)&&(Qe[On]=r[On]);return Qe.scope=ot,Qe.raiseId=function(sn){return qe(Ne(_S([sn]))(et))},Qe}())(e)(Xr.value0),p);return qe(Ne(ea(T)(Ii))(v))(),qe(ue(Ii)(w))()}return void 0});qe(ue(wt)(I))(),qe(Ne(ea(P)(wt))(v))();var zr=Dr(j)();return zr()});return function(){return iS(Dr(v))(vS(sS)(na(void 0)))(),l()}});throw new Error("Failed pattern match at Bolson.Control (line 520, column 17 - line 610, column 20): "+[u.constructor.name])}}}};var To=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}();var Qc=function(t){var r=!1,e;function n(u){if(u.value0 instanceof gt&&u.value1 instanceof gt)return r=!0,S.value;if(u.value0 instanceof gt){t=new To(gc(u.value1),gt.value);return}if(u.value0 instanceof pt)return r=!0,new y(new x(u.value0.value0,new To(u.value0.value1,u.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 82, column 1 - line 82, column 63): "+[u.constructor.name])}for(;!r;)e=n(t);return e},Yc=function(t){return function(r){return new To(t.value0,new pt(r,t.value1))}};var as=function(t){return t.value0 instanceof gt&&t.value1 instanceof gt};var Zc=function(){return new To(gt.value,gt.value)}();var ua=function(){function t(){}return t.value=new t,t}(),xo=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}();var os=function(t){return function(r){if(t instanceof ua)return r;if(r instanceof ua)return t;if(t instanceof xo)return new xo(t.value0,Yc(t.value1)(r));throw new Error("Failed pattern match at Data.CatList (line 108, column 1 - line 108, column 54): "+[t.constructor.name,r.constructor.name])}},kS=function(t){return function(r){return function(e){var n=function(f){return function(p){return function(v){var l=f,d=p,P=!1,I;function T(w,et,j){if(j instanceof gt)return P=!0,et;if(j instanceof pt){l=w,d=w(et)(j.value0),v=j.value1;return}throw new Error("Failed pattern match at Data.CatList (line 124, column 3 - line 124, column 59): "+[w.constructor.name,et.constructor.name,j.constructor.name])}for(;!P;)I=T(l,d,v);return I}}},u=function(f){return function(p){var v=f,l=!1,d;function P(I,T){var w=Qc(I);if(w instanceof S)return l=!0,n(function(et){return function(j){return j(et)}})(r)(T);if(w instanceof y){v=w.value0.value1,p=new pt(t(w.value0.value0),T);return}throw new Error("Failed pattern match at Data.CatList (line 120, column 14 - line 122, column 67): "+[w.constructor.name])}for(;!l;)d=P(v,p);return d}};return u(e)(gt.value)}}},fs=function(t){if(t instanceof ua)return S.value;if(t instanceof xo)return new y(new x(t.value0,function(){var r=as(t.value1);return r?ua.value:kS(os)(ua.value)(t.value1)}()));throw new Error("Failed pattern match at Data.CatList (line 99, column 1 - line 99, column 61): "+[t.constructor.name])};var cs=function(){return ua.value}(),ps=os;var ls={append:ps};var _s=function(t){return function(r){return ps(t)(new xo(r,Zc))}};var dS=function(t,r,e){var n=0,u;return function(f){if(n===2)return u;if(n===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+r+", line "+f+")",r,f);return n=1,u=e(),n=2,u}},yS=U(ls);var tp=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}(),Mo=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),ii=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}(),gS=function(t){var r=!1,e;function n(u){var f=function(l){return l},p=function(l){return function(d){return new tp(l.value0,yS(l.value1)(d))}};if(u.value0 instanceof Mo){var v=fs(u.value1);if(v instanceof S)return r=!0,new Mo(u.value0.value0);if(v instanceof y){t=p(f(v.value0.value0)(u.value0.value0))(v.value0.value1);return}throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[v.constructor.name])}if(u.value0 instanceof ii)return r=!0,new ii(u.value0.value0,function(l){return p(u.value0.value1(l))(u.value1)});throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[u.value0.constructor.name])}for(;!r;)e=n(t);return e};var SS=function(t){return function(r){return function(e){var n=gS(e);if(n instanceof Mo)return r(n.value0);if(n instanceof ii)return t(n.value0)(n.value1);throw new Error("Failed pattern match at Control.Monad.Free (line 213, column 17 - line 215, column 20): "+[n.constructor.name])}}},vs=function(t){var r=g(t);return SS(function(e){return function(n){return new Xt(r(n)(e))}})(jt.create)},rp=function(t){return new tp(t,cs)},ss=function(t){return rp(new ii(t,N))};var $S={Applicative0:function(){return ep},Bind1:function(){return Eo}},CS={map:function(t){return function(r){return Dn(Eo)(function(){var e=L(ep);return function(n){return e(t(n))}}())(r)}}},Eo={bind:function(t){return function(r){return new tp(t.value0,_s(t.value1)(r))}},Apply0:function(){return bs(0)}},ep={pure:function(t){return rp(Mo.create(t))},Apply0:function(){return bs(0)}},bs=dS("freeApply","Control.Monad.Free",function(){return{apply:ae($S),Functor0:function(){return CS}}});var hS=L(ep);var Ir=function(t){return rp(new ii(t,function(r){return hS(r)}))};var FS=Dt(dt);var aa={dimap:function(t){return function(r){return function(e){return function(n){return r(e(t(n)))}}}}},ks=function(t){return t.dimap},ia=function(t){var r=ks(t);return function(e){return r(e)(FS)}};var TS=L(_r);var xS=function(t){return t},En=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),oi=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Io=function(){function t(){}return t.value=new t,t}(),MS=function(t){return t};var Po=Ar(),a=MS;var c=function(){return En.create}();var M=function(){return oi.create}(),np=function(){var t=g(Kr)(g($)(C(!0)));return function(r){return xS(t(r))}}(),fi=function(t){return t.attr};var ge=function(t){var r=fi(t);return function(e){return function(n){return TS(r(e)(n))}}};var Ds=g(Kt),ES=ia(aa);var wS=Ar();var IS=function(t){return function(r){var e=function(n){var u=function(f){return f instanceof te?new te(ES(function(p){return{pos:t,dynFamily:p.dynFamily,ez:p.ez,parent:p.parent,raiseId:p.raiseId,scope:p.scope}})(f.value0)):f instanceof lu?new lu(Ds(u)(f.value0)):f};return u(n)};return e(r)}},ds=function(t){return IS(y.create(t))};var ys=function(t){return Lc(t)};var PS=function(t){var r=function(n){return new lu(wS(n))},e=ys(t);return r(Ds(function(n){return n})(e))},gs=function(t){return PS(Uu(t))};var Cs=g(Kt);var up=pu(Ft),oa=L(_r),hs=_(He),Fs=L(Sr);var RS=Ar(),NS=Hr(),US=J(Mn),Ts=Vt(ye),WS=U(kr),BS=cn(Fn),$s=g(Kr);var HS=function(t){return function(r){return function(e){return Cs(function(n){return t.setText(function(u){return{id:r,text:u}}(n))})(e)}}},qS=function(t){return function(r){return function(e){return Cs(function(n){return function(u){if(u.value instanceof En)return t.setProp({id:r,key:u.key,value:u.value.value0});if(u.value instanceof oi)return t.setCb({id:r,key:u.key,value:u.value.value0});if(u.value instanceof Io)return t.unsetAttribute({id:r,key:u.key});throw new Error("Failed pattern match at Deku.Control (line 72, column 28 - line 75, column 47): "+[u.value.constructor.name])}(Po(n))})(e)}}};var GS=function(t){var r=function(n){return function(u){return Be(function(f,p){var v=u.ids();n.raiseId(v)();var l=f(up([oa(u.makeText({id:v,parent:n.parent,pos:n.pos,scope:n.scope,dynFamily:n.dynFamily})),HS(u)(v)(t),tr(hs)(function(d){return oa(u.attributeParent({id:v,parent:d,pos:n.pos,dynFamily:n.dynFamily,ez:n.ez}))})(n.parent)]),p);return function(){return p(u.deleteFromCache({id:v})),l()}})}},e=new te(r);return e},m=function(t){return GS(oa(t))};var zS=function(){return{doLogic:function(t){return function(r){return function(e){return r.sendToPos({id:e,pos:t})}}},ids:function(t){return function(r){return r.ids}(NS(t))},disconnectElement:function(t){return function(r){return t.disconnectElement({id:r.id,scope:r.scope,parent:r.parent,scopeEq:US})}},toElt:function(t){return t}}},VS=zS();var xs=function(t){return function(r){return function(e){return xe(VS)(t)(r)(e)}}},Ms=function(t){return function(r){var e=function(n){return function(u){return Be(function(f,p){return f(Ts(oa(u.makeRoot({id:"deku-root",root:t})))(xs({parent:new y("deku-root"),scope:new Te("rootScope"),raiseId:function(v){return Fs(void 0)},ez:!0,pos:S.value,dynFamily:S.value})(u)(n)),p)})}};return e(r)}},XS=function(t){return function(r){return function(e){var n=function(u){return function(f){return Be(function(p,v){var l=f.ids();u.raiseId(l)();var d=p(Ts(up(WS([oa(f.makeElement({id:l,parent:u.parent,scope:u.scope,tag:t,pos:u.pos,dynFamily:u.dynFamily})),qS(f)(l)(r)])(tr([])(function(P){return[oa(f.attributeParent({id:l,parent:P,pos:u.pos,dynFamily:u.dynFamily,ez:u.ez}))]})(u.parent))))(xs({parent:new y(l),scope:u.scope,ez:!0,raiseId:function(P){return Fs(void 0)},pos:S.value,dynFamily:S.value})(f)(e)),v);return function(){return v(f.deleteFromCache({id:l})),d()}})}};return n}}},D=function(t){return function(r){return function(e){var n=function(f){return f.length===0?hs:f.length===1?f[0]:up(f)},u=function(f){return new te(XS(t)(n(r))(qc(RS(f))))};return u(BS($s($s(function(f){return f}))(ds))(e))}}};var Es=t=>r=>e=>()=>{if(e.units[r.id]){let n=e.units[r.parent].main;e.units[r.id].main&&e.units[r.id].main.parentNode||e.units[r.id].startBeacon&&e.units[r.id].startBeacon.parentNode||(r.ez?(()=>(e.units[r.id].main?n.appendChild(e.units[r.id].main):(n.appendChild(e.units[r.id].startBeacon),n.appendChild(e.units[r.id].endBeacon)),!0))():t(r.pos)(f=>()=>t(r.dynFamily)(p=>()=>{for(var v=0,l=0,d;l<n.childNodes.length;){if(n.childNodes[l].nodeType===8&&n.childNodes[l].nodeValue==="%-%"+p){l+=1;break}l++}let P=T=>{let w=n.childNodes[T];e.units[r.id].startBeacon?(n.insertBefore(e.units[r.id].startBeacon,w),n.insertBefore(e.units[r.id].endBeacon,w)):n.insertBefore(e.units[r.id].main,w)};for(;l<n.childNodes.length;){var I;if((I=n.childNodes[l].$dekuId)&&t(e.units[I].dynFamily)(w=>()=>t(e.units[I].pos)(j=>()=>p===w&&f<=j?(P(l),!0):!1)())())return!0;if(v===f||n.childNodes[l].nodeType===8&&n.childNodes[l].nodeValue==="%-%"+p+"%-%")return P(l),!0;n.childNodes[l].nodeType===8&&n.childNodes[l].nodeValue.substring(0,3)==="%-%"&&!d&&(d=n.childNodes[l].nodeValue+"%-%"),d||v++,n.childNodes[l].nodeType===8&&n.childNodes[l].nodeValue===d&&(d=void 0,v++),l++}return!1})())())||(r.parent.indexOf("@!%")!==-1?t(r.dynFamily)(p=>()=>(e.units[r.id].main?e.units[p].endBeacon.parentNode.insertBefore(e.units[r.id].main,e.units[p].endBeacon):(e.units[p].endBeacon.parentNode.insertBefore(e.units[r.id].endBeacon,e.units[p].endBeacon),e.units[p].endBeacon.parentNode.insertBefore(e.units[r.id].startBeacon,e.units[r.id].endBeacon)),!0))()||(e.units[r.id].main?n.parentNode.replaceChild(e.units[r.id].main,n):(n.parentNode.replaceChild(e.units[r.id].endBeacon,n),e.units[r.id].endBeacon.parentNode.insertBefore(e.units[r.id].startBeacon,e.units[r.id].endBeacon))):t(r.dynFamily)(p=>()=>(e.units[r.id].startBeacon?(n.insertBefore(e.units[r.id].startBeacon,e.units[p].endBeacon),n.insertBefore(e.units[r.id].endBeacon,e.units[p].endBeacon)):n.insertBefore(e.units[r.id].main,e.units[p].endBeacon),!0))()||(e.units[r.id].startBeacon?(n.appendChild(e.units[r.id].startBeacon),n.appendChild(e.units[r.id].endBeacon)):n.appendChild(e.units[r.id].main)))}};var ws=t=>r=>e=>n=>()=>{var u,f,p=e.id;if(n.scopes[e.scope]||(n.scopes[e.scope]=[]),n.scopes[e.scope].push(p),!t(e.parent)(()=>()=>n.hydrating&&r&&(u=n.allBeacons[e.id])&&(f=n.allBeacons[`${e.id}%-%`])?(n.units[p]={listeners:{},parent:e.parent,scope:e.scope,pos:e.pos,dynFamily:e.dynFamily,startBeacon:u,endBeacon:f},u.$dekuId=p,f.$dekuId=p,!0):!1)()){let l=document.createComment(`%-%${e.id}`),d=document.createComment(`%-%${e.id}%-%`);n.units[p]={listeners:{},parent:e.parent,dynFamily:e.dynFamily,scope:e.scope,pos:e.pos,startBeacon:l,endBeacon:d},l.$dekuId=p,d.$dekuId=p}},jS=new Set(["animate","animateMotion","animateTransform","circle","clipPath","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","title","tspan","use","view"]);var Is=t=>r=>()=>r.units[t]&&r.units[t].dynFamily?r.units[t].dynFamily:(()=>{throw new Error(`No positional information for ${t}`)})(),Ps=t=>r=>()=>r.units[t]&&r.units[t].main&&r.units[t].main.parentNode&&r.units[t].main.parentNode.$dekuId?r.units[t].main.parentNode.$dekuId:r.units[t]&&r.units[t].startBeacon&&r.units[t].startBeacon.parentNode&&r.units[t].startBeacon.parentNode.$dekuId?r.units[t].startBeacon.parentNode.$dekuId:(()=>{throw new Error(`No parent information for ${t}`)})(),ap=t=>r=>()=>r.units[t]&&r.units[t].scope?r.units[t].scope:(()=>{throw new Error(`No scope information for ${t}`)})(),Ls=t=>r=>e=>n=>()=>{var u,f=e.id;if(n.scopes[e.scope]||(n.scopes[e.scope]=[]),n.scopes[e.scope].push(f),!t(e.parent)(()=>()=>n.hydrating&&r&&(u=document.documentElement.querySelector(`[data-deku-ssr="${f}"]`))?(n.units[f]={listeners:{},pos:e.pos,parent:e.parent,scope:e.scope,dynFamily:e.dynFamily,main:u},u.$dekuId=f,!0):!1)()){let v=jS.has(e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag):document.createElement(e.tag);n.units[f]={listeners:{},parent:e.parent,pos:e.pos,scope:e.scope,dynFamily:e.dynFamily,main:v},v.$dekuId=f}},Os=t=>r=>e=>n=>u=>()=>{var f=n.id,p;if(u.scopes[n.scope]||(u.scopes[n.scope]=[]),u.scopes[n.scope].push(f),!t(n.parent)(l=>()=>{if(u.hydrating&&r&&(p=document.documentElement.querySelector(`[data-deku-ssr="${l}"]`))){for(var d=0;d<p.childNodes.length;d++){let T=f.split("@-@");if(p.childNodes[d].nodeType===8&&p.childNodes[d].nodeValue===T[0]){var P=d===0||p.childNodes[d-1].nodeType!==3;P&&d!==0?p.insertBefore(document.createTextNode(""),p.childNodes[d]):P?p.prepend(document.createTextNode("")):d=d-1;break}}let I=p.childNodes[d];return u.units[f]={main:I,pos:n.pos,parent:n.parent,scope:n.scope},I.$dekuId=f,!0}return!1})()){let l=document.createTextNode("");u.units[f]={main:l,parent:n.parent,scope:n.scope,pos:n.pos,dynFamily:n.dynFamily},l.$dekuId=f}};function ip(){return{units:{},scopes:{},allBeacons:{}}}var Rs=t=>r=>e=>()=>{if(e.units[r.id]){var n=r.id,u=r.value;e.hydrating&&t&&!e.units[n]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${n}"]`))&&(e.units[n]={listeners:{},parent:r.parent,scope:r.scope,main:dom},e.scopes[r.scope]||(e.scopes[r.scope]=[]),e.scopes[r.scope].push(n)),e.units[n].main.tagName==="INPUT"&&r.key==="value"||e.units[n].main.tagName==="TEXTAREA"&&r.key==="value"?e.units[n].main.value=u:e.units[n].main.tagName==="INPUT"&&r.key==="checked"?e.units[n].main.checked=u==="true":r.key==="disabled"?e.units[n].main.disabled=u==="true":e.units[n].main.setAttribute(r.key,u)}},Ns=t=>r=>e=>()=>{if(e.units[r.id]){var n=r.id,u=r.value;if(e.hydrating&&t&&!e.units[n]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${n}"]`))&&(e.units[n]={listeners:{},parent:r.parent,scope:r.scope,main:dom},e.scopes[r.scope]||(e.scopes[r.scope]=[]),e.scopes[r.scope].push(n)),r.key==="@self@")u(e.units[n].main)();else{e.units[n].listeners[r.key]&&e.units[n].main.removeEventListener(r.key,e.units[n].listeners[r.key]);var f=p=>u(p)();e.units[n].main.addEventListener(r.key,f),e.units[n].listeners[r.key]=f}}},Us=t=>r=>e=>()=>{if(e.units[r.id]){var n=r.id;e.hydrating&&t&&!e.units[n]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${n}"]`))&&(e.units[n]={listeners:{},parent:r.parent,scope:r.scope,main:dom},e.scopes[r.scope]||(e.scopes[r.scope]=[]),e.scopes[r.scope].push(n)),e.units[n].main.removeAttribute(r.key)}},Ws=t=>r=>()=>{if(r.units[t.id]){var e=t.id;r.units[e].main.nodeValue=t.text}},Bs=t=>r=>e=>n=>u=>()=>{var f,p,v=n.id,l=n.html,d=n.verb,P=n.cache,I=n.parent,T=n.scope,w=n.pxScope;let et=t(n.parent)(()=>()=>u.hydrating&&r&&(f=document.documentElement.querySelector(`[data-deku-ssr="${v}"]`))?(u.units[v]={listeners:{},pos:n.pos,scope:T,parent:I,main:f},f.$dekuId=v,!0):!1)();if(!et){let ot=Object.entries(P);for(var j=0;j<ot.length;j++){let _t=ot[j][0];ot[j][1]===!0?l=l.replace(d+_t+d,'data-deku-attr-internal="'+_t+'"'):l=l.replace(d+_t+d,'<span style="display:contents;" data-deku-elt-internal="'+_t+'"></span>')}p=document.createElement("div"),p.innerHTML=l.trim(),u.units[v]={listeners:{},pos:n.pos,scope:T,parent:I,main:p.firstChild},p.firstChild.$dekuId=v}u.scopes[T]||(u.scopes[T]=[]),u.scopes[T].push(v),p||(p=f),p.querySelectorAll("[data-deku-attr-internal]").forEach(function(ot){var _t=ot.getAttribute("data-deku-attr-internal");let wt=_t+"@!%"+w;u.units[wt]={listeners:{},main:ot,scope:T},u.scopes[T].push(wt)}),p.querySelectorAll("[data-deku-elt-internal]").forEach(function(ot){var _t=ot.getAttribute("data-deku-elt-internal");let wt=_t+"@!%"+w;u.units[_t+"@!%"+w]={listeners:{},main:ot,scope:T},u.scopes[T].push(wt)}),et||u.units[v].main.remove()},Hs=t=>r=>()=>{var e=t.id;r.units[e]={main:t.root},t.root.$dekuId=e},op=t=>r=>e=>n=>()=>{let u=(et,j,ot)=>{if(n.units[et].startBeacon){var _t=n.units[et].startBeacon,wt=_t.nextSibling;for(n.units[j].main.insertBefore(_t,ot),_t=wt;_t&&_t!==n.units[et].endBeacon;)wt=_t.nextSibling,n.units[j].main.insertBefore(_t,ot),_t=wt}else n.units[j].main.insertBefore(n.units[et].main,ot)},f=[];f.push(e);for(var p=0;p<f.length;p++){let et=f[p],j=et.id,ot=et.parent;n.units[j].containingScope=et.scope;var v=void 0;r(et.pos)(wt=>()=>(v=wt,!0))(),v===void 0&&(v=Number.MAX_VALUE);let _t=n.units[ot].main.childNodes;for(var l=0,d=!1,P=0;l<_t.length;){var I;if(I=_t[l].$dekuId){if(r(et.dynFamily)(zr=>()=>d?!1:n.units[I].endBeacon===_t[l]&&zr===I?(n.units[j].pos=t(P),u(j,ot,_t[l]),!0):!1)()){d=!0;break}if(n.units[I].dynFamily!==n.units[j].dynFamily){l++;continue}if(d){l++;continue}P===v?(u(j,ot,_t[l]),P++,d=!0):n.units[I].endBeacon!==_t[l]&&(n.units[I].pos=t(P),P++)}l++}if(d)return;if(n.units[j].main)n.units[ot].main.appendChild(n.units[j].main);else{var T=n.units[j].startBeacon,w=T.nextSibling;for(n.units[ot].main.appendChild(T),T=w;T&&T!==n.units[j].endBeacon;)w=T.nextSibling,n.units[ot].main.appendChild(T),T=w}}},qs=t=>r=>()=>{if(r.units[t.id]){var e=t.id;if(r.units[e].containingScope&&!t.scopeEq(r.units[e].containingScope)(t.scope))return;if(r.units[e].main)r.units[e].main.remove();else{let f=document.createElement("div");var n=r.units[e].startBeacon,u=n.nextSibling;for(f.appendChild(n),n=u;n&&n!==r.units[e].endBeacon;)u=n.nextSibling,f.appendChild(n),n=u;n===r.units[e].endBeacon&&f.appendChild(n)}}},Gs=t=>r=>()=>r.units[t]!==void 0,fp=t=>r=>()=>{r.units[t.id]&&delete r.units[t.id]},zs=fp;function Vs(t,r){return r.includes(t)}var uO=typeof Array.from=="function",aO=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",iO=typeof String.prototype.fromCodePoint=="function",oO=typeof String.prototype.codePointAt=="function";var vu=function(t){var r=L(t.Applicative0()),e=_(t.Plus1());return function(n){if(n)return r(void 0);if(!n)return e;throw new Error("Failed pattern match at Control.Alternative (line 48, column 1 - line 48, column 54): "+[n.constructor.name])}};var ZS=ie(qn),t$=_e(qn),r$=ft(Qr),e$=E(er),n$=vu(Ou);var u$=function(t){return t.succ};var a$=function(t){return t.pred};var js={succ:function(t){var r=t<ZS;return r?new y(t+1|0):S.value},pred:function(t){var r=t>t$;return r?new y(t-1|0):S.value},Ord0:function(){return Qt}},cp=function(t){var r=t.Ord0(),e=J(r.Eq0()),n=Tf(r),u=u$(t),f=xf(r),p=a$(t),v=Pl(r);return function(l){var d=bc(l),P=Xa(l),I=function(T){return function(w){return function(et){return function(j){return new x(j,r$(T(j))(function(ot){return e$(n$(w(ot)(et)))(ot)}))}}}};return function(T){return function(w){if(e(T)(w))return d(T);if(n(T)(w))return P(I(u)(f)(w))(T);if(pr)return P(I(p)(v)(w))(T);throw new Error("Failed pattern match at Data.Enum (line 186, column 14 - line 190, column 51): "+[T.constructor.name,w.constructor.name])}}}};var Js=function(t){return function(r){return function(e){return(e|0)===e?t(e):r}}},vr=function(t){return t};var Oo=isFinite;var pp=function(t){return function(r){return Math.atan2(t,r)}};var lp=Math.cos;var _p=Math.floor;var ci=function(t){return function(r){return t%r}};var vp=Math.sin;var pi=3.141592653589793;var Ks=ie(qn),Qs=_e(qn);var sp=function(){return Js(y.create)(S.value)}(),v$=function(t){if(!Oo(t))return 0;if(t>=vr(Ks))return Ks;if(t<=vr(Qs))return Qs;if(pr)return xr(0)(sp(t));throw new Error("Failed pattern match at Data.Int (line 72, column 1 - line 72, column 29): "+[t.constructor.name])};var fa=function(t){return v$(_p(t))};var No=function(t){return t.toLowerCase()};var pb=function(t){return t()};var lb=function(t){throw new Error(t)};var _b=function(){return lb};var w$=_b(),I$=pb,mu=function(t){return I$(function(){return w$(t)})};var vb=function(t){return function(r){return Vs(t,r)}};var Dp=Math.random;var dp=function(t){return function(r){return function(){var n=Dp(),u=(vr(r)-vr(t)+1)*n+vr(t);return fa(u)}}};var R$=oe(Yr),N$=dr();var bb=function(t){return t};var U$=1,yp=2147483647,W$=function(){return yp-1|0}(),mb=function(t){var r=function(e){return function(n){return function(u){var f=n-e|0,p=R$(u)(f),v=p<e;return v?p+n|0:p}}};return r(U$)(W$)(t)};var B$=0,H$=48271,Ab=function(t){return function(r){return N$(sp(ci(vr(H$)*vr(r)+vr(t))(vr(yp))))}},kb=Ab(B$);var vn=function(t){return t.state};var Xo=function(t){var r=g(t);return{map:function(e){return function(n){return function(u){return r(function(f){return new x(e(f.value0),f.value1)})(n(u))}}}}};var Cp=function(t){return{Applicative0:function(){return Fp(t)},Bind1:function(){return hp(t)}}},hp=function(t){var r=ft(t.Bind1());return{bind:function(e){return function(n){return function(u){return r(e(u))(function(f){var p=n(f.value0);return p(f.value1)})}}},Apply0:function(){return jo(t)}}},jo=function(t){var r=Xo(t.Bind1().Apply0().Functor0());return{apply:ae(Cp(t)),Functor0:function(){return r}}},Fp=function(t){var r=L(t.Applicative0());return{pure:function(e){return function(n){return r(new x(e,n))}},Apply0:function(){return jo(t)}}};var Tp=function(t){var r=L(t.Applicative0()),e=Cp(t);return{state:function(n){return function(u){return r(n(u))}},Monad0:function(){return e}}};var xb=function(t){return function(r){var e=t(r);return e.value0}};var pC=Tp(Pa),lC=vn(pC);var _C=Xo(Vn);var vC=ne(xa);var sC=Rr(xa);var bC=function(t){return t};var mC=function(){var t=function(r){return new x(bb(r.newSeed),function(){var e={};for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e.newSeed=kb(r.newSeed),e}())};return lC(t)}();var wb=_C,Jo=g(wb);var Ib=function(t){return xb(bC(t))};var Pb=jo(Pa),AC=Ct(Pb),Eb=function(t){return function(r){var e=vr(r),n=vr(t),u=function(v){return n+ci(v)(e-n+1)},f=Jo(vr)(mC),p=AC(Jo(sC)(f))(Jo(vC(2))(f));return Jo(function(v){return fa(u(v))})(p)}},Lb=function(t){return function(r){var e=t<=r;return e?Eb(t)(r):Eb(r)(t)}};var Nb=function(t){return t.arbitrary};var Ub=function(){return{arbitrary:Lb(-1e6)(1e6)}}();var Wb=g(Kt),gC=g(Kr),SC=g($),$C=Gt(fe);var CC=lt(gn),hC=Nb(Ub),FC=Rr(Un);var Ko=L(Zr),TC=V(Sn(p_(an))),xC=_(He),Bb=Ar(),MC=Hr(),EC=J(Mn),wC=wu(Eo),Gr=L(_r);var re=function(t){return t},Hb={map:function(t){return function(r){return Wb(gC(SC(t)))(r)}}};var du=function(t){return function(r){return t instanceof y?r(t.value0):Ko(!1)}},IC=function(t){return function(r){return function(){var n=ap(t.id)(r)(),u=Ps(t.id)(r)(),f=Is(t.id)(r)(),p={scope:n,parent:u,dynFamily:f,id:t.id,pos:new y(t.pos),ez:!1,raiseId:TC,ctor:Zu(xC)};return Bb(op(y.create)(du)(p))(r)()}}},PC=function(t){return function(r){return function(e){return xe({doLogic:function(n){return function(u){return function(f){return u.sendToPos({id:f,pos:n})}}},ids:function(n){return function(u){return u.ids}(MC(n))},disconnectElement:function(n){return function(u){return n.disconnectElement({id:u.id,scope:u.scope,parent:u.parent,scopeEq:EC})}},toElt:function(n){return n}})(t)(r)(Bb(e))}}},LC=function(t){return function(r){return function(e){return function(n){return wC(Ir(Gr(function(u){var f=function(){var v=Wb(function(l){return function(d){return Ko(l)}})(PC({dynFamily:n.dynFamily,ez:n.ez,parent:new y(n.parent),pos:n.pos,raiseId:n.raiseId,scope:n.scope})(t)(n.ctor));return Ko(ss(v))}(),p=Ko(Ir(Gr(op(r)(e)(n))));return function(){var l=Gs(n.id)(u)();if(l){var d=ap(n.id)(u)();if(d instanceof Yu)return p();if(d instanceof Te&&n.scope instanceof Te){var P=vb(d.value0)(n.scope.value0);return P?p():f()}return f()}return f()}})))}}}},qb=function(t){var r={ids:function(){var n=Dr(t)(),u=CC(Ib(hC)({newSeed:mb(n),size:5}));return $C(Ne(FC(1))(t))(),u},makeElement:function(){var e=Ls(du)(!1);return function(n){return Ir(re(Gr(e(n))))}}(),makeDynBeacon:function(){var e=ws(du)(!1);return function(n){return Ir(re(Gr(e(n))))}}(),attributeParent:function(){var e=Es(du);return function(n){return Ir(re(Gr(e(n))))}}(),makeRoot:function(e){return Ir(re(Gr(Hs(e))))},makeText:function(){var e=Os(du)(!1)(tr(void 0));return function(n){return Ir(re(Gr(e(n))))}}(),makePursx:function(){var e=Bs(du)(!1)(tr(void 0));return function(n){return Ir(re(Gr(e(n))))}}(),setProp:function(){var e=Rs(!1);return function(n){return Ir(re(Gr(e(n))))}}(),setCb:function(){var e=Ns(!1);return function(n){return Ir(re(Gr(e(n))))}}(),unsetAttribute:function(){var e=Us(!1);return function(n){return Ir(re(Gr(e(n))))}}(),setText:function(e){return Ir(re(Gr(Ws(e))))},sendToPos:function(e){return Ir(re(Gr(IC(e))))},removeDynBeacon:function(e){return Ir(re(Gr(zs(e))))},deleteFromCache:function(e){return Ir(re(Gr(fp(e))))},giveNewParent:function(e){return LC(r)(y.create)(du)(e)},disconnectElement:function(e){return Ir(re(Gr(qs(e))))}};return r};var Mp=function(){return window};function zb(t,r,e){return t==null?r:e(t)}var Cr=function(t){return zb(t,S.value,y.create)};function Vb(t){return t.body}var KC=g($);var Xb=function(t){return KC(Cr)(function(){return Vb(t)})};var jb=N;function Ep(t){return function(){return t.document}}var Kb=fu(Qu),Qb=g(Kt),xh=vs(Hb),Yb=on(an),Mh=V(yo(Sn(Yb))),Eh=L(Zr),wp=ft(Nu),wh=ur($),Ih=jn(Xn),Ph=V(on(Yb)),Lh=g(er),Oh=Gt($);var Rh=function(t){var r=function(u){var f=Qb(e(u));return function(p){return Kb(f(p))}},e=function(u){return function(f){return function(p){if(p instanceof Xt)return Kb(Qb(n(u))(p.value0));if(p instanceof jt)return Mh;throw new Error("Failed pattern match at Deku.Toplevel (line 47, column 21 - line 49, column 22): "+[p.constructor.name])}(xh(f))}},n=function(u){return function(f){return r(u+1|0)(Ku(function(p){return function(){return void 0,wp(f(t))(p)(),Eh(void 0)}}))}};return r(0)},Nh=function(t){return function(r){return function(){var n=ip(),u=wh(Ih(Nr(0)))(function(){var f=Ms(t)(r);return function(p){return f(qb(p))}}())();return ei(Rh(n)(u))(function(f){return f(n)})()}}},Zb=function(t){return function(){var e=wp(wp(Mp)(Ep))(Xb)();return tr(Ph)(function(n){return Nh(n)(t)})(Lh(jb)(e))()}},tm=function(t){return Oh(Zb(t))};var Ip=function(){function t(){}return t.value=new t,t}();var rm={attr:function(t){return function(r){return a({key:"class",value:c(r)})}}};var em={attr:function(t){return function(r){return a({key:"class",value:c(r)})}}};var va={attr:function(t){return function(r){return a({key:"class",value:c(r)})}}};var nm={attr:function(t){return function(r){return a({key:"class",value:c(r)})}}};var Qo=function(){function t(){}return t.value=new t,t}();var um={attr:function(t){return function(r){return a({key:"href",value:c(r)})}}};var Lp=function(){function t(){}return t.value=new t,t}();var im={attr:function(t){return function(r){return a({key:"style",value:c(r)})}}};var fm=ur(Kt),Hh=L(_r),cm=function(t){var r=fi(t);return function(e){return fm(e)(function(n){return r(Lp.value)(n)})}};var Op=function(t){var r=fi(t);return function(e){return fm(e)(function(n){return r(Ip.value)(n)})}},yu=function(t){var r=Op(t);return function(e){return r(Hh(e))}};var qh=ur(Kt),pm=Ar();var Gh={append:function(t){return function(r){if(t==="")return r;if(r==="")return t;if(pr)return t+(" "+r);throw new Error("Failed pattern match at ClassName (line 36, column 1 - line 44, column 13): "+[t.constructor.name,r.constructor.name])}}},zh={mempty:"",Semigroup0:function(){return Gh}},Vh=br(Ft)(yo(zh)),Yo=function(t){return function(r){return qh(t)(function(e){return e?r:""})}},Zo=function(t){var r=Op(t),e=Vh(pm);return function(n){return r(pm(e(n)))}};var tf=void 0;var vm=function(t){return t.toInt},Np=function(t){var r=vm(t);return function(e){return r(tf)}};var Xh={toInt:function(t){return 5}},rf={Nat0:function(){return Xh}};var jh={toInt:function(t){return 1}},In={Nat0:function(){return jh}};var Jh=function(t){return function(r){return tf}},sm=function(t){var r=Jh(t);return function(e){var n=vm(e);return function(u){return function(f){return 10*f|0}(n(r(u)))}}};var ki=function(t){var r=t.Nat0();return{toInt:function(e){return sm(ki(t))(r)(e)+4|0}}};var bm=function(t){var r=t.Nat0();return{toInt:function(e){return sm(bm(t))(r)(e)+8|0}}},Pn=function(t){var r=bm(t);return{Nat0:function(){return r}}};var Kh=cp(js)(Vu),gu=function(){return vt.value}(),Su=function(t){return Np(t)},ba=function(t){var r=Su(t);return function(e){var n=r(e);return Kh(0)(n-1|0)}};var Qh=Ar();var Yh=oe(Yr);var nf=function(t){return{inhabitants:Qh(ba(t.Nat0())(gu))}};var mm={eq:function(t){return function(r){return t===r}}},Di=function(t){return t};var ma=function(t){var r=Su(t.Nat0());return function(e){return Yh(e)(r(gu))}};var di=function(t){return t.inhabitants};var km=oe(Yr),af=nn(Yr),Zh=it(Qt),$u=function(t){return t.invert},Dm=function(t){var r=t.Monoid0(),e=U(r.Semigroup0()),n=$u(t),u=V(r);return function(f){return function(p){var v=function(P){return function(I){return function(T){var w=P,et=I,j=!1,ot;function _t(wt,zr,Xr){if(km(zr)(2)===0){w=e(wt)(wt),et=af(zr)(2),T=Xr;return}if(zr===1)return j=!0,e(wt)(Xr);if(pr){w=e(wt)(wt),et=af(zr)(2),T=e(wt)(Xr);return}throw new Error("Failed pattern match at Data.Group (line 24, column 3 - line 27, column 50): "+[wt.constructor.name,zr.constructor.name,Xr.constructor.name])}for(;!j;)ot=_t(w,et,T);return ot}}},l=function(P){return function(I){var T=P,w=!1,et;function j(ot,_t){if(km(_t)(2)===0){T=e(ot)(ot),I=af(_t)(2);return}if(_t===1)return w=!0,ot;if(pr)return w=!0,v(e(ot)(ot))(af(_t)(2))(ot);throw new Error("Failed pattern match at Data.Group (line 19, column 3 - line 22, column 43): "+[ot.constructor.name,_t.constructor.name])}for(;!w;)et=j(T,I);return et}},d=Zh(p)(0);if(d instanceof st)return n(l(f)(-p|0));if(d instanceof xt)return u;if(d instanceof mt)return l(f)(p);throw new Error("Failed pattern match at Data.Group (line 14, column 11 - line 17, column 14): "+[d.constructor.name])}}};var dm=function(t){return{head:t.value0,tail:t.value1}};var tF=function(t){if(t instanceof gt)return S.value;if(t instanceof pt)return new y(new eu(t.value0,t.value1));throw new Error("Failed pattern match at Data.List.NonEmpty (line 121, column 1 - line 121, column 57): "+[t.constructor.name])},ym=function(t){var r=po(t);return function(e){return tF(r(e))}};var gm=g(zt),eF=rr(Ft),nF=ar(Ft),uF=br(Ft),aF=au(Qt),Sm=so(Qt),$m=Sm(Ft),iF=Sm(ce),oF=po(Ft);var fF=function(t){return t},cF=function(t){return t};var pF={foldl:function(t){return function(r){return function(e){return eF(t)(r)(e)}}},foldr:function(t){return function(r){return function(e){return nF(t)(r)(e)}}},foldMap:function(t){var r=uF(t);return function(e){return function(n){return r(e)(n)}}}},yi=function(t){return function(r){return xr(r)(aF(r)(t))}};var lF=function(t){var r=ba(t);return{append:function(e){return function(n){var u=function(){var f=yi(n),p=yi(e);return function(v){return f(p(v))}}();return $m(gm(function(f){return new x(f,u(f))})(r(vt.value)))}}}},_F=function(t){var r=ym(t);return function(e){var n=r(e);if(n instanceof S)return gt.value;if(n instanceof y){var u=dm(n.value0),f=function(p){return p instanceof pt&&p.value1 instanceof pt?new pt(new x(p.value0,p.value1.value0),f(new pt(p.value1.value0,p.value1.value1))):p instanceof pt&&p.value1 instanceof gt?new pt(new x(p.value0,u.head),gt.value):gt.value};return f(new pt(u.head,u.tail))}throw new Error("Failed pattern match at Data.Permutation (line 90, column 3 - line 99, column 20): "+[n.constructor.name])}},vF=_F(pF),sF=We,Wp=function(t){var r=lF(t);return{mempty:sF,Semigroup0:function(){return r}}},Cm=function(t){var r=ba(t),e=Wp(t);return{invert:function(n){return $m(gm(function(u){return new x(yi(n)(u),u)})(r(vt.value)))},Monoid0:function(){return e}}},hm=function(t){return iF(fv(vF)(oF(t)))},Fm=function(t){var r=ba(t);return function(e){return r(vt.value)}},Tm=function(t){var r=ja(t);return function(e){return cF(r(e))}},xm=function(t){var r=ja(t);return function(e){return fF(r(e))}};var Em=function(t){return function(r){return r.join(t)}};var mF=U(kr),wm={genericShowArgs:function(t){return[]}};var AF=function(t){return t.genericShowArgs};var Im=function(t){var r=AF(t);return function(e){var n=Or(e);return{"genericShow'":function(u){var f=n(vt.value),p=r(u);return p.length===0?f:"("+(Em(" ")(mF([f])(p))+")")}}}},Bp=function(t){return t["genericShow'"]};var Aa=function(t){var r=Bp(t);return function(e){var n=Bp(e);return{"genericShow'":function(u){if(u instanceof Ur)return r(u.value0);if(u instanceof Pt)return n(u.value0);throw new Error("Failed pattern match at Data.Show.Generic (line 26, column 1 - line 28, column 40): "+[u.constructor.name])}}}},Pm=function(t){var r=Wf(t);return function(e){var n=Bp(e);return function(u){return n(r(u))}}};var ka=Im(wm),DF=J(mm),dF=dr(),yF=g(zt),Wm=Pn(In),Bm=ma(Wm),gF=nn(Yr),SF=oe(Yr),$F=ur(er),Hm=au(Qt),qm=so(Qt),Lm=di(nf(Wm)),CF=Tm(Ft),hF=xm(Ft),Gm=ki(rf),FF=Dm(Cm(Gm)),zm=Vt(Bf),Om=Ze(Gn),Rm=vu(Ou),Nm=L(rn),TF=ur(zt),xF=Fm(Gm),MF=ft(Qr),EF=qm(Ft),Cu=function(){function t(){}return t.value=new t,t}(),gi=function(){function t(){}return t.value=new t,t}(),Nt=function(){function t(){}return t.value=new t,t}(),Et=function(){function t(){}return t.value=new t,t}(),Ut=function(){function t(){}return t.value=new t,t}();var wF=function(t){return t},Ee=function(){function t(){}return t.value=new t,t}(),we=function(){function t(){}return t.value=new t,t}(),Ge=function(){function t(){}return t.value=new t,t}(),ze=function(){function t(){}return t.value=new t,t}(),Ve=function(){function t(){}return t.value=new t,t}(),Xe=function(){function t(){}return t.value=new t,t}();var Vm=function(){function t(){}return t.value=new t,t}(),Xm=function(){function t(){}return t.value=new t,t}(),Hp=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),qp=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}(),jm={toPerm:Dt(dt)};var IF={to:function(t){if(t instanceof Ur)return Ee.value;if(t instanceof Pt&&t.value0 instanceof Ur)return we.value;if(t instanceof Pt&&t.value0 instanceof Pt&&t.value0.value0 instanceof Ur)return Ge.value;if(t instanceof Pt&&t.value0 instanceof Pt&&t.value0.value0 instanceof Pt&&t.value0.value0.value0 instanceof Ur)return ze.value;if(t instanceof Pt&&t.value0 instanceof Pt&&t.value0.value0 instanceof Pt&&t.value0.value0.value0 instanceof Pt&&t.value0.value0.value0.value0 instanceof Ur)return Ve.value;if(t instanceof Pt&&t.value0 instanceof Pt&&t.value0.value0 instanceof Pt&&t.value0.value0.value0 instanceof Pt&&t.value0.value0.value0.value0 instanceof Pt)return Xe.value;throw new Error("Failed pattern match at Data.Gemini (line 133, column 1 - line 133, column 32): "+[t.constructor.name])},from:function(t){if(t instanceof Ee)return new Ur(tn.value);if(t instanceof we)return new Pt(new Ur(tn.value));if(t instanceof Ge)return new Pt(new Pt(new Ur(tn.value)));if(t instanceof ze)return new Pt(new Pt(new Pt(new Ur(tn.value))));if(t instanceof Ve)return new Pt(new Pt(new Pt(new Pt(new Ur(tn.value)))));if(t instanceof Xe)return new Pt(new Pt(new Pt(new Pt(new Pt(tn.value)))));throw new Error("Failed pattern match at Data.Gemini (line 133, column 1 - line 133, column 32): "+[t.constructor.name])}},Jm={show:Pm(IF)(Aa(ka({reflectSymbol:function(){return"White"}}))(Aa(ka({reflectSymbol:function(){return"Yellow"}}))(Aa(ka({reflectSymbol:function(){return"Black"}}))(Aa(ka({reflectSymbol:function(){return"Red"}}))(Aa(ka({reflectSymbol:function(){return"Green"}}))(ka({reflectSymbol:function(){return"Blue"}})))))))};var Km=function(){return{inhabitants:[Nt.value,Et.value,Ut.value]}}(),Gp={eq:function(t){return function(r){return t instanceof Nt&&r instanceof Nt||t instanceof Et&&r instanceof Et||t instanceof Ut&&r instanceof Ut}}},PF=J(Gp),Qm={eq:function(t){return function(r){return DF(t.position)(r.position)&&PF(t.ring)(r.ring)}}},LF=J(Qm),Um=Ta(Qm),OF=function(t){return dF(t)},of=function(t){return t.toPerm},hu=function(t){return function(r){return{ring:t,direction:r}}};var Da=function(t){var r=function(e){if(e instanceof Nt)return 0;if(e instanceof Et)return 1;if(e instanceof Ut)return 2;throw new Error("Failed pattern match at Data.Gemini (line 257, column 15 - line 260, column 19): "+[e.constructor.name])};return(r(t.ring)*18|0)+Di(t.position)|0},H=function(t){return function(r){return{ring:t,position:Bm(r)}}},RF=function(t){return function(r){return new x(gF(t)(r),SF(t)(r))}},NF=function(t){var r=RF(t)(18),e=function(){return r.value0===0?Nt.value:r.value0===1?Et.value:r.value0===2?Ut.value:mu("indexToLocation")}();return{ring:e,position:Bm(r.value1)}},ct=function(t){return function(r){return{color:t,label:r}}},UF=function(){return[{canonical:H(Nt.value)(2),alternate:H(Et.value)(16)},{canonical:H(Nt.value)(7),alternate:H(Et.value)(11)},{canonical:H(Et.value)(2),alternate:H(Ut.value)(16)},{canonical:H(Et.value)(7),alternate:H(Ut.value)(11)}]}(),Ym=function(t){return xr(t)($F(oo(function(r){return LF(r.alternate)(t)})(UF))(function(r){return r.canonical}))},ff=function(t){return Da(Ym(t))},Zm=function(t){return function(r){return OF(Hm(ff(t))(r))}},WF=function(t){var r=g(t);return function(e){var n=qm(e);return function(u){return n(r(function(f){return new x(ff(f.value0),f.value1)})(u))}}},tA=function(){return WF(zt)(Ft)([new x(H(Nt.value)(12),ct(ze.value)(1)),new x(H(Nt.value)(13),ct(ze.value)(2)),new x(H(Nt.value)(14),ct(ze.value)(3)),new x(H(Nt.value)(15),ct(ze.value)(4)),new x(H(Nt.value)(16),ct(ze.value)(5)),new x(H(Nt.value)(17),ct(ze.value)(6)),new x(H(Nt.value)(0),ct(ze.value)(7)),new x(H(Nt.value)(1),ct(ze.value)(8)),new x(H(Nt.value)(3),ct(we.value)(1)),new x(H(Nt.value)(4),ct(we.value)(2)),new x(H(Nt.value)(5),ct(we.value)(3)),new x(H(Nt.value)(6),ct(we.value)(4)),new x(H(Nt.value)(7),ct(we.value)(5)),new x(H(Nt.value)(8),ct(we.value)(6)),new x(H(Nt.value)(9),ct(we.value)(7)),new x(H(Nt.value)(10),ct(we.value)(8)),new x(H(Nt.value)(11),ct(we.value)(9)),new x(H(Et.value)(12),ct(Ge.value)(1)),new x(H(Et.value)(13),ct(Ge.value)(2)),new x(H(Et.value)(14),ct(Ge.value)(3)),new x(H(Et.value)(15),ct(Ge.value)(4)),new x(H(Et.value)(16),ct(Ge.value)(5)),new x(H(Et.value)(17),ct(Ge.value)(6)),new x(H(Et.value)(0),ct(Ge.value)(7)),new x(H(Et.value)(1),ct(Ge.value)(8)),new x(H(Et.value)(3),ct(Xe.value)(1)),new x(H(Et.value)(4),ct(Xe.value)(2)),new x(H(Et.value)(5),ct(Xe.value)(3)),new x(H(Et.value)(6),ct(Xe.value)(4)),new x(H(Et.value)(7),ct(Xe.value)(5)),new x(H(Et.value)(8),ct(Xe.value)(6)),new x(H(Et.value)(9),ct(Xe.value)(7)),new x(H(Et.value)(10),ct(Xe.value)(8)),new x(H(Ut.value)(3),ct(Ve.value)(1)),new x(H(Ut.value)(4),ct(Ve.value)(2)),new x(H(Ut.value)(5),ct(Ve.value)(3)),new x(H(Ut.value)(6),ct(Ve.value)(4)),new x(H(Ut.value)(7),ct(Ve.value)(5)),new x(H(Ut.value)(8),ct(Ve.value)(6)),new x(H(Ut.value)(9),ct(Ve.value)(7)),new x(H(Ut.value)(10),ct(Ve.value)(8)),new x(H(Ut.value)(12),ct(Ee.value)(1)),new x(H(Ut.value)(13),ct(Ee.value)(2)),new x(H(Ut.value)(14),ct(Ee.value)(3)),new x(H(Ut.value)(15),ct(Ee.value)(4)),new x(H(Ut.value)(16),ct(Ee.value)(5)),new x(H(Ut.value)(17),ct(Ee.value)(6)),new x(H(Ut.value)(0),ct(Ee.value)(7)),new x(H(Ut.value)(1),ct(Ee.value)(8)),new x(H(Ut.value)(2),ct(Ee.value)(9))])}(),BF={toPerm:function(t){var r=function(){if(t.direction instanceof Cu)return Lm;if(t.direction instanceof gi)return Vi(Lm);throw new Error("Failed pattern match at Data.Gemini (line 157, column 17 - line 159, column 49): "+[t.direction.constructor.name])}();return hm(CF(mc(hF(Bt(yF)(r)(function(e){return ff(wF(function(n){return{ring:t.ring,position:n}}(e)))})))))}},HF=of(BF),Si={toPerm:function(t){return FF(HF(t.rotation))(Di(t.amount))}},qF=function(t){return t},rA=function(t){var r=Ym(t),e=qF(t);return zm(Om(Rm(Um(e)(t)))(Nm(e)))(Om(Rm(Um(r)(t)))(Nm(r)))},eA=function(t){var r=rA(t);if(r instanceof S)return new Hp(t);if(r instanceof y)return new qp(t,r.value0);throw new Error("Failed pattern match at Data.Gemini (line 234, column 3 - line 236, column 37): "+[r.constructor.name])},GF=function(){var t=g(er)(ff);return function(r){return t(rA(NF(r)))}}(),zF=function(t){return function(r){var e=Bt(Hm)(r),n=TF(xF(t))(function(u){var f=zm(e(u))(MF(GF(u))(e));if(f instanceof S)return mu("wat");if(f instanceof y)return new x(yi(t)(u),f.value0);throw new Error("Failed pattern match at Data.Gemini (line 358, column 11 - line 360, column 45): "+[f.constructor.name])});return EF(n)}},$i=function(t){var r=of(t);return function(e){return zF(r(e))}};var VF=E($),zp=function(){function t(){}return t.value=new t,t}();var nA={attr:function(t){return function(r){return a({key:"click",value:M(C(VF(r)(!0)))})}}};var Vp=function(){function t(){}return t.value=new t,t}();var uA={attr:function(t){return function(r){return a({key:"keydown",value:M(r)})}}};var Xp=function(){function t(){}return t.value=new t,t}();var aA={attr:function(t){return function(r){return a({key:"pointercancel",value:M(r)})}}};var jp=function(){function t(){}return t.value=new t,t}();var iA={attr:function(t){return function(r){return a({key:"pointerdown",value:M(r)})}}};var Jp=function(){function t(){}return t.value=new t,t}();var oA={attr:function(t){return function(r){return a({key:"pointerleave",value:M(r)})}}};var Kp=function(){function t(){}return t.value=new t,t}();var fA={attr:function(t){return function(r){return a({key:"pointermove",value:M(r)})}}};var Qp=function(){function t(){}return t.value=new t,t}();var cA={attr:function(t){return function(r){return a({key:"pointerup",value:M(r)})}}};var Yp=function(){function t(){}return t.value=new t,t}();var pA={attr:function(t){return function(r){return a({key:"src",value:c(r)})}}};var je=D("div"),lA=je(_(k)),Ln=function(t){return lA([m(t)])};var vA=function(){function t(){}return t.value=new t,t}();var sA={attr:function(t){return function(r){return a({key:"@self@",value:M(r)})}}};var Je=function(t){return function(r){return t(r)}};function tl(t){return t.key}var aT=lt(gn),bA=g(Kt)(function(t){return a({key:"tabIndex",value:new En(aT(t))})}),Ci=function(t){return np(function(r){return t(r)})},mA=function(t){return np(function(r){return t(r)})},AA=function(){return L(_r)(a({key:"autofocus",value:new En("")}))}();var Fu=function(){var t={},r="Pure",e="Throw",n="Catch",u="Sync",f="Async",p="Bind",v="Bracket",l="Fork",d="Sequential",P="Map",I="Apply",T="Alt",w="Cons",et="Resume",j="Release",ot="Finalizer",_t="Finalized",wt="Forked",zr="Fiber",Xr="Thunk";function K(z,Rt,or,Ht){this.tag=z,this._1=Rt,this._2=or,this._3=Ht}function jr(z){var Rt=function(or,Ht,Q){return new K(z,or,Ht,Q)};return Rt.tag=z,Rt}function Tu(z){return new K(r,void 0)}function Ii(z){try{z()}catch(Rt){setTimeout(function(){throw Rt},0)}}function Qe(z,Rt,or){try{return Rt(or())}catch(Ht){return z(Ht)}}function On(z,Rt,or){try{return Rt(or)()}catch(Ht){return or(z(Ht))(),Tu}}var sn=function(){var z=1024,Rt=0,or=0,Ht=new Array(z),Q=!1;function B(){var Wt;for(Q=!0;Rt!==0;)Rt--,Wt=Ht[or],Ht[or]=void 0,or=(or+1)%z,Wt();Q=!1}return{isDraining:function(){return Q},enqueue:function(Wt){var St,ir;Rt===z&&(ir=Q,B(),Q=ir),Ht[(or+Rt)%z]=Wt,Rt++,Q||B()}}}();function $f(z){var Rt={},or=0,Ht=0;return{register:function(Q){var B=or++;Q.onComplete({rethrow:!0,handler:function(Wt){return function(){Ht--,delete Rt[B]}}})(),Rt[B]=Q,Ht++},isEmpty:function(){return Ht===0},killAll:function(Q,B){return function(){if(Ht===0)return B();var Wt=0,St={};function ir(qt){St[qt]=Rt[qt].kill(Q,function(sr){return function(){delete St[qt],Wt--,z.isLeft(sr)&&z.fromLeft(sr)&&setTimeout(function(){throw z.fromLeft(sr)},0),Wt===0&&B()}})()}for(var gr in Rt)Rt.hasOwnProperty(gr)&&(Wt++,ir(gr));return Rt={},or=0,Ht=0,function(qt){return new K(u,function(){for(var sr in St)St.hasOwnProperty(sr)&&St[sr]()})}}}}}var bn=0,Lr=1,Pi=2,Li=3,Oi=4,ee=5,ha=6;function Cf(z,Rt,or){var Ht=0,Q=bn,B=or,Wt=null,St=null,ir=null,gr=null,qt=null,sr=0,Rn=0,pe=null,mn=!0;function An(Y){for(var Z,Tt,Lt;;)switch(Z=null,Tt=null,Lt=null,Q){case Pi:Q=Lr;try{B=ir(B),gr===null?ir=null:(ir=gr._1,gr=gr._2)}catch(hr){Q=ee,Wt=z.left(hr),B=null}break;case Li:z.isLeft(B)?(Q=ee,Wt=B,B=null):ir===null?Q=ee:(Q=Pi,B=z.fromRight(B));break;case Lr:switch(B.tag){case p:ir&&(gr=new K(w,ir,gr)),ir=B._2,Q=Lr,B=B._1;break;case r:ir===null?(Q=ee,B=z.right(B._1)):(Q=Pi,B=B._1);break;case u:Q=Li,B=Qe(z.left,z.right,B._1);break;case f:Q=Oi,B=On(z.left,B._1,function(hr){return function(){Ht===Y&&(Ht++,sn.enqueue(function(){Ht===Y+1&&(Q=Li,B=hr,An(Ht))}))}});return;case e:Q=ee,Wt=z.left(B._1),B=null;break;case n:ir===null?qt=new K(w,B,qt,St):qt=new K(w,B,new K(w,new K(et,ir,gr),qt,St),St),ir=null,gr=null,Q=Lr,B=B._1;break;case v:sr++,ir===null?qt=new K(w,B,qt,St):qt=new K(w,B,new K(w,new K(et,ir,gr),qt,St),St),ir=null,gr=null,Q=Lr,B=B._1;break;case l:Q=Li,Z=Cf(z,Rt,B._2),Rt&&Rt.register(Z),B._1&&Z.run(),B=z.right(Z);break;case d:Q=Lr,B=uk(z,Rt,B._1);break}break;case ee:if(ir=null,gr=null,qt===null)Q=ha,B=St||Wt||B;else switch(Z=qt._3,Lt=qt._1,qt=qt._2,Lt.tag){case n:St&&St!==Z&&sr===0?Q=ee:Wt&&(Q=Lr,B=Lt._2(z.fromLeft(Wt)),Wt=null);break;case et:St&&St!==Z&&sr===0||Wt?Q=ee:(ir=Lt._1,gr=Lt._2,Q=Pi,B=z.fromRight(B));break;case v:sr--,Wt===null&&(Tt=z.fromRight(B),qt=new K(w,new K(j,Lt._2,Tt),qt,Z),(St===Z||sr>0)&&(Q=Lr,B=Lt._3(Tt)));break;case j:qt=new K(w,new K(_t,B,Wt),qt,St),Q=Lr,St&&St!==Z&&sr===0?B=Lt._1.killed(z.fromLeft(St))(Lt._2):Wt?B=Lt._1.failed(z.fromLeft(Wt))(Lt._2):B=Lt._1.completed(z.fromRight(B))(Lt._2),Wt=null,sr++;break;case ot:sr++,qt=new K(w,new K(_t,B,Wt),qt,St),Q=Lr,B=Lt._1;break;case _t:sr--,Q=ee,B=Lt._1,Wt=Lt._2;break}break;case ha:for(var cr in pe)pe.hasOwnProperty(cr)&&(mn=mn&&pe[cr].rethrow,Ii(pe[cr].handler(B)));pe=null,St&&Wt?setTimeout(function(){throw z.fromLeft(Wt)},0):z.isLeft(B)&&mn&&setTimeout(function(){if(mn)throw z.fromLeft(B)},0);return;case bn:Q=Lr;break;case Oi:return}}function fr(Y){return function(){if(Q===ha)return mn=mn&&Y.rethrow,Y.handler(B)(),function(){};var Z=Rn++;return pe=pe||{},pe[Z]=Y,function(){pe!==null&&delete pe[Z]}}}function ut(Y,Z){return function(){if(Q===ha)return Z(z.right(void 0))(),function(){};var Tt=fr({rethrow:!1,handler:function(){return Z(z.right(void 0))}})();switch(Q){case bn:St=z.left(Y),Q=ha,B=St,An(Ht);break;case Oi:St===null&&(St=z.left(Y)),sr===0&&(Q===Oi&&(qt=new K(w,new K(ot,B(Y)),qt,St)),Q=ee,B=null,Wt=null,An(++Ht));break;default:St===null&&(St=z.left(Y)),sr===0&&(Q=ee,B=null,Wt=null)}return Tt}}function $t(Y){return function(){var Z=fr({rethrow:!1,handler:Y})();return Q===bn&&An(Ht),Z}}return{kill:ut,join:$t,onComplete:fr,isSuspended:function(){return Q===bn},run:function(){Q===bn&&(sn.isDraining()?An(Ht):sn.enqueue(function(){An(Ht)}))}}}function nk(z,Rt,or,Ht){var Q=0,B={},Wt=0,St={},ir=new Error("[ParAff] Early exit"),gr=null,qt=t;function sr(fr,ut,$t){var Y=ut,Z=null,Tt=null,Lt=0,cr={},hr,Fa;t:for(;;)switch(hr=null,Y.tag){case wt:if(Y._3===t&&(hr=B[Y._1],cr[Lt++]=hr.kill(fr,function(ak){return function(){Lt--,Lt===0&&$t(ak)()}})),Z===null)break t;Y=Z._2,Tt===null?Z=null:(Z=Tt._1,Tt=Tt._2);break;case P:Y=Y._2;break;case I:case T:Z&&(Tt=new K(w,Z,Tt)),Z=Y,Y=Y._1;break}if(Lt===0)$t(z.right(void 0))();else for(Fa=0,hr=Lt;Fa<hr;Fa++)cr[Fa]=cr[Fa]();return cr}function Rn(fr,ut,$t){var Y,Z,Tt,Lt,cr,hr;for(z.isLeft(fr)?(Y=fr,Z=null):(Z=fr,Y=null);;){if(Tt=null,Lt=null,cr=null,hr=null,gr!==null)return;if(ut===null){Ht(Y||Z)();return}if(ut._3!==t)return;switch(ut.tag){case P:Y===null?(ut._3=z.right(ut._1(z.fromRight(Z))),Z=ut._3):ut._3=Y;break;case I:if(Tt=ut._1._3,Lt=ut._2._3,Y){if(ut._3=Y,cr=!0,hr=Wt++,St[hr]=sr(ir,Y===Tt?ut._2:ut._1,function(){return function(){delete St[hr],cr?cr=!1:$t===null?Rn(Y,null,null):Rn(Y,$t._1,$t._2)}}),cr){cr=!1;return}}else{if(Tt===t||Lt===t)return;Z=z.right(z.fromRight(Tt)(z.fromRight(Lt))),ut._3=Z}break;case T:if(Tt=ut._1._3,Lt=ut._2._3,Tt===t&&z.isLeft(Lt)||Lt===t&&z.isLeft(Tt))return;if(Tt!==t&&z.isLeft(Tt)&&Lt!==t&&z.isLeft(Lt))Y=Z===Tt?Lt:Tt,Z=null,ut._3=Y;else if(ut._3=Z,cr=!0,hr=Wt++,St[hr]=sr(ir,Z===Tt?ut._2:ut._1,function(){return function(){delete St[hr],cr?cr=!1:$t===null?Rn(Z,null,null):Rn(Z,$t._1,$t._2)}}),cr){cr=!1;return}break}$t===null?ut=null:(ut=$t._1,$t=$t._2)}}function pe(fr){return function(ut){return function(){delete B[fr._1],fr._3=ut,Rn(ut,fr._2._1,fr._2._2)}}}function mn(){var fr=Lr,ut=or,$t=null,Y=null,Z,Tt;t:for(;;)switch(Z=null,Tt=null,fr){case Lr:switch(ut.tag){case P:$t&&(Y=new K(w,$t,Y)),$t=new K(P,ut._1,t,t),ut=ut._2;break;case I:$t&&(Y=new K(w,$t,Y)),$t=new K(I,t,ut._2,t),ut=ut._1;break;case T:$t&&(Y=new K(w,$t,Y)),$t=new K(T,t,ut._2,t),ut=ut._1;break;default:Tt=Q++,fr=ee,Z=ut,ut=new K(wt,Tt,new K(w,$t,Y),t),Z=Cf(z,Rt,Z),Z.onComplete({rethrow:!1,handler:pe(ut)})(),B[Tt]=Z,Rt&&Rt.register(Z)}break;case ee:if($t===null)break t;$t._1===t?($t._1=ut,fr=Lr,ut=$t._2,$t._2=t):($t._2=ut,ut=$t,Y===null?$t=null:($t=Y._1,Y=Y._2))}for(qt=ut,Tt=0;Tt<Q;Tt++)B[Tt].run()}function An(fr,ut){gr=z.left(fr);var $t;for(var Y in St)if(St.hasOwnProperty(Y)){$t=St[Y];for(Y in $t)$t.hasOwnProperty(Y)&&$t[Y]()}St=null;var Z=sr(fr,qt,ut);return function(Tt){return new K(f,function(Lt){return function(){for(var cr in Z)Z.hasOwnProperty(cr)&&Z[cr]();return Tu}})}}return mn(),function(fr){return new K(f,function(ut){return function(){return An(fr,ut)}})}}function uk(z,Rt,or){return new K(f,function(Ht){return function(){return nk(z,Rt,or,Ht)}})}return K.EMPTY=t,K.Pure=jr(r),K.Throw=jr(e),K.Catch=jr(n),K.Sync=jr(u),K.Async=jr(f),K.Bind=jr(p),K.Bracket=jr(v),K.Fork=jr(l),K.Seq=jr(d),K.ParMap=jr(P),K.ParApply=jr(I),K.ParAlt=jr(T),K.Fiber=Cf,K.Supervisor=$f,K.Scheduler=sn,K.nonCanceler=Tu,K}(),iT=Fu.Pure,oT=Fu.Throw;var fT=Fu.Sync;var DA=Fu.Async;var cT=function(){function t(e,n){return e===0&&typeof setImmediate<"u"?setImmediate(n):setTimeout(n,e)}function r(e,n){return e===0&&typeof clearImmediate<"u"?clearImmediate(n):clearTimeout(n)}return function(e,n){return Fu.Async(function(u){return function(){var f=t(n,u(e()));return function(){return Fu.Sync(function(){return e(r(n,f))})}}})}}(),pT=Fu.Seq;var cf=function(t){return t()};var hT=jn(Xn),FT=Gt(fe),pf=g(Kt),TT=Vt(ye),xT=L(_r);var MT=gs,lf=function(t){return function(r){return function(e){var n=Oc(function(p){return function(v){return function(){var d=Nr(t)();return v(e(hT(Dr(d))))(),p(r)(function(P){return FT(ue(P)(d))})()}}}),u=pf(function(p){return p})(n),f=Zu(pf(function(p){return p})(u));return f}}};var ET=function(t){return function(r){var e=Do(t)(r),n=pf(function(f){return f})(e),u=Zu(pf(function(f){return f})(n));return u}},SA=function(t){return function(r){return Je(MT)(function(e){return Je(ET(TT(e.value1)(xT(t))))(function(n){return r(new x(e.value0,n))})})}};var el=_(He),wT=pu(Ft),CA=L(_r),IT=L(Sr),PT={reflectType:function(){return"~"}},hA=Vt(ye),LT=g(Kt),OT=ia(aa),RT=Hr(),NT=J(Mn),UT=Ar();var hi={pursxToElement:function(t){return function(r){return function(e){return{cache:ra,element:new te(function(n){return function(u){return el}})}}}}},nl=function(t){return t.pursxToElement},ya=function(){return vt.value}(),ul=function(t){var r=function(e){return e instanceof te?e.value0:function(n){return function(u){return el}}};return r(t)},WT=function(t){var r=ta(t);return function(e){var n=ta(e);return function(){return function(){return function(u){var f=nl(u);return function(p){return function(v){return function(l){var d=function(I){return function(T){return Be(function(w,et){var j=T.ids(),ot=T.ids();I.raiseId(j)();var _t=f(ot)(vt.value)(l),wt=ul(_t.element),zr=w(wT([CA(T.makePursx({id:j,parent:I.parent,cache:_t.cache,dynFamily:I.dynFamily,pos:I.pos,pxScope:ot,scope:I.scope,html:r(v),verb:n(p)})),wt(I)(T),tr(el)(function(Xr){return CA(T.attributeParent({id:j,parent:Xr,pos:I.pos,dynFamily:I.dynFamily,ez:!1}))})(I.parent)]),et);return function(){return et(T.deleteFromCache({id:j})),zr()}})}},P=new te(d);return P}}}}}}}},ga=function(t){var r=WT(t)(PT)()();return function(){return function(){return function(e){return r(e)(vt.value)}}}};var _f=function(){return function(t){var r=nl(t);return function(e){var n=ta(e);return function(u){var f=Nc(u)();return{pursxToElement:function(p){return function(v){return function(l){var d=r(p)(vt.value)(l);return{cache:ea(n(vt.value))(!0)(d.cache),element:new te(function(P){return function(I){return hA(LT(OT(Po)(function(T){if(T.value instanceof En)return I.setProp({id:n(vt.value)+("@!%"+p),key:T.key,value:T.value.value0});if(T.value instanceof oi)return I.setCb({id:n(vt.value)+("@!%"+p),key:T.key,value:T.value.value0});if(T.value instanceof Io)return I.unsetAttribute({id:n(vt.value)+("@!%"+p),key:T.key});throw new Error("Failed pattern match at Deku.Pursx (line 2487, column 52 - line 2504, column 38): "+[T.value.constructor.name])}))(f(vt.value)(l)))(function(){var T=ul(d.element);return T}()(P)(I))}})}}}}}}}}};var BT=function(t){return function(r){return function(e){return xe({doLogic:function(n){return function(u){return function(f){return u.sendToPos({id:f,pos:n})}}},ids:function(n){return function(u){return u.ids}(RT(n))},disconnectElement:function(n){return function(u){return n.disconnectElement({id:u.id,scope:u.scope,parent:u.parent,scopeEq:NT})}},toElt:function(n){return n}})(t)(r)(UT(e))}}},FA=function(){return function(t){var r=nl(t);return function(e){var n=ta(e);return function(u){var f=Nc(u)();return{pursxToElement:function(p){return function(v){return function(l){var d=r(p)(vt.value)(l);return{cache:ea(n(vt.value))(!1)(d.cache),element:new te(function(P){return function(I){return hA(BT({parent:new y(n(vt.value)+("@!%"+p)),scope:P.scope,raiseId:function(T){return IT(void 0)},pos:P.pos,ez:!1,dynFamily:S.value})(I)(function(T){return T}(f(vt.value)(l))))(function(){var T=ul(d.element);return T}()(P)(I))}})}}}}}}}}};var Sa=ma(Pn(In)),al=function(t){return{amount:Sa(t),rotation:hu(Ut.value)(gi.value)}},il=function(t){return{amount:Sa(t),rotation:hu(Ut.value)(Cu.value)}},ol=function(t){return{amount:Sa(t),rotation:hu(Nt.value)(gi.value)}},fl=function(t){return{amount:Sa(t),rotation:hu(Nt.value)(Cu.value)}},cl=function(t){return{amount:Sa(t),rotation:hu(Et.value)(gi.value)}},pl=function(t){return{amount:Sa(t),rotation:hu(Et.value)(Cu.value)}};var vf=function(t){return function(){console.log(t)}};var ll=function(t){return function(r){return Je(SA(t))(function(e){return Je(lf(t)(e.value1))(function(n){return r({event:e.value1,ref:n,pusher:e.value0})})})}},$a=function(t){return t.event},sf=function(t){return function(r){return t.pusher(r)}},bf=function(t){return t.ref},Fi=function(t){return function(r){return function(){var n=t.ref();return t.pusher(r(n))()}}};var JT=dr(),KT=Q_(Zr)(Zn)(Qn),QT=br(Ft)(Wp(ki(rf))),YT=of(Si),ZT=$i(jm),tx=$i(Si),rx=function(t){return JT(t)},ex=function(t){var r=tu(t);return function(e){return rx(r(e))}},xA=function(t){var r=[fl(1),ol(1),pl(1),cl(1),il(1),al(1)];return function(){var n=KT(1e3)(dp(0)(5))(),u=QT(function(f){return YT(ex(r)(f))})(n);return Fi(t)(ZT(u))()}},MA=function(t){var r=function(){var e=Fi(t);return function(n){return e(tx(n))}}();return function(e){return function(n){return n==="q"?r(ol(1)):n==="w"?r(fl(1)):n==="t"?r(cl(1)):n==="y"?r(pl(1)):n==="o"?r(al(1)):n==="p"?r(il(1)):vf(n)}(tl(e))}};var Af=function(){function t(){}return t.value=new t,t}(),EA=function(){function t(){}return t.value=new t,t}(),Ca=function(){function t(){}return t.value=new t,t}();var Ti={append:function(t){return function(r){return t+r}}},xi={mempty:0,Semigroup0:function(){return Ti}},kf={invert:function(t){return-t},Monoid0:function(){return xi}},ux=function(t){return t*2*pi},wA=function(t){return vp(t)},ax=function(t){return t/(2*pi)},ix=function(t){return t*180/pi},ox=function(t){return t*pi/180},IA=function(t){return lp(t)},_l=function(t){return function(r){if(r instanceof EA)return t;if(r instanceof Af)return ox(t);if(r instanceof Ca)return ux(t);throw new Error("Failed pattern match at Data.Angle (line 23, column 3 - line 26, column 38): "+[r.constructor.name])}},PA=function(t){return function(r){if(r instanceof EA)return t;if(r instanceof Af)return ix(t);if(r instanceof Ca)return ax(t);throw new Error("Failed pattern match at Data.Angle (line 30, column 3 - line 33, column 36): "+[r.constructor.name])}},LA=function(t){return function(r){return pp(t)(r)}};var Mi={append:function(t){return function(r){return{x:t.x+r.x,y:t.y+r.y}}}},sl={mempty:{x:0,y:0},Semigroup0:function(){return Mi}},Df={invert:function(t){return{x:-t.x,y:-t.y}},Monoid0:function(){return sl}};var df=function(t){return LA(t.y)(t.x)};var fx=ur($),cx=U(Mi),px=$u(Df),lx=V(xi),_x=U(Ti),vx=$u(kf),sx=$i(Si),bx=function(t){return function(r){return fx(t)(function(e){return e.ringCenter(r)})}},OA=function(t){return{x:t.clientX,y:t.clientY}},ml=function(t){return function(r){var e=OA(r);return function(){var u=bf(t.drag)();if(u instanceof S)return void 0;if(u instanceof y)return sf(t.drag)(new y({currentPoint:e,chosen:u.value0.chosen,initialPoint:u.value0.initialPoint,location:u.value0.location}))();throw new Error("Failed pattern match at Gemini.Component.Puzzle.Actions (line 52, column 3 - line 60, column 14): "+[u.constructor.name])}}},RA=function(t){return function(r){var e=OA(r);return sf(t.drag)(new y({location:eA(t.location),chosen:S.value,initialPoint:e,currentPoint:e}))}},Ei=function(t){if(t.location instanceof Hp)return t.location.value0;if(t.location instanceof qp){if(t.chosen instanceof y&&t.chosen.value0 instanceof Vm)return t.location.value0;if(t.chosen instanceof y&&t.chosen.value0 instanceof Xm)return t.location.value1;if(t.chosen instanceof S)return t.location.value0;throw new Error("Failed pattern match at Gemini.Component.Puzzle.Actions (line 129, column 7 - line 133, column 24): "+[t.chosen.constructor.name])}throw new Error("Failed pattern match at Gemini.Component.Puzzle.Actions (line 126, column 3 - line 133, column 24): "+[t.location.constructor.name])},mx=function(t){var r=function(e){return function(n){return function(){var f=bx(t.domInfo)(e)(),p=cx(n)(px(f));return df(p)}}};return function(){var n=bf(t.drag)();if(n instanceof S)return lx;if(n instanceof y){var u=Ei(n.value0),f=r(u.ring)(n.value0.initialPoint)(),p=r(u.ring)(n.value0.currentPoint)();return _x(p)(vx(f))}throw new Error("Failed pattern match at Gemini.Component.Puzzle.Actions (line 106, column 3 - line 112, column 43): "+[n.constructor.name])}},Ax=function(t){var r=Su(t.Nat0()),e=ma(t);return function(n){var u=PA(n)(Ca.value),f=vr(r(gu));return e(fa(f*u+.5))}},kx=Ax(Pn(In)),NA=function(t){return function(r){return function(){ml(t)(r)();var n=bf(t.drag)();if(n instanceof S)return void 0;if(n instanceof y){var u=mx(t)(),f=Ei(n.value0),p=kx(u),v={amount:p,rotation:{ring:f.ring,direction:Cu.value}};return sf(t.drag)(S.value)(),Fi(t.gemini)(sx(v))()}throw new Error("Failed pattern match at Gemini.Component.Puzzle.Actions (line 77, column 3 - line 85, column 56): "+[n.constructor.name])}}};var BA=()=>({ringRadius:Dx(),leftRingCenter:Al(".left.gemini-ring"),centerRingCenter:Al(".center.gemini-ring"),rightRingCenter:Al(".right.gemini-ring")});function Al(t){let e=document.querySelector(t).getBoundingClientRect(),n=e.width,u=e.left,f=e.top,p=n/2;return{x:u+p,y:f+p}}function WA(t){return document.querySelector(t).getBoundingClientRect().width}function Dx(){let t=WA(".gemini-ring"),r=WA(".disk");return(t-r)/2}var yx=Xl(Nu),HA=ur($)(BA)(function(t){return{ringRadius:t.ringRadius,ringCenter:function(r){if(r instanceof Nt)return t.leftRingCenter;if(r instanceof Et)return t.centerRingCenter;if(r instanceof Ut)return t.rightRingCenter;throw new Error("Failed pattern match at Gemini.DomInfo (line 40, column 15 - line 43, column 45): "+[r.constructor.name])}}}),qA={ringRadius:0,ringCenter:V(Sn(sl))},yf=function(t){return function(r){return Ku(function(e){return function(){var u=ei(t)(yx(r)(e))();return u}})}};var yl=Sv(Ft)(Qt),wi=g(zt);var Cx=ur($),hx=V(xi),Fx=ft(Qr),Tx=kn(dn)(Qr),xx=vu(Ou),Mx=J(Gp),Ex=$u(Df),wx=U(Mi),Ix=L(rn),gl=U(Ti),Px=$u(kf),zA=lt(Uf),Lx=dv(Qt),jA=Pn(In),VA=ur(Kt),Ox=lt(Jm),Rx=ga({reflectType:function(){return"<div ~diskAttrs~ />"}})()()(_f()(hi)({reflectType:function(){return"diskAttrs"}})({reflectSymbol:function(){return"diskAttrs"}})),kl=Vt(ye),Nx=Zo(va),XA=L(_r),Dl=g(Kt),Ux=cm(im),Wx=ge(iA),Bx=di(nf(jA)),dl=yu(va),Hx=di(Km),qx=U(Bi(Eu))(C("gemini-ring "))(function(t){if(t instanceof Nt)return"left";if(t instanceof Et)return"center";if(t instanceof Ut)return"right";throw new Error("Failed pattern match at Gemini.Component.Puzzle (line 109, column 8 - line 112, column 29): "+[t.constructor.name])}),Gx=function(){return yl(wi(Da)([H(Et.value)(2),H(Et.value)(7)]))}();var zx=function(){return yl(wi(Da)([H(Et.value)(16),H(Et.value)(11)]))}(),Vx=function(t){return yf($a(t.drag))(function(r){return Cx(t.domInfo)(function(e){return{drag:r,domInfo:e}})})},Xx=function(t){return function(r){return xr(hx)(Fx(r.drag)(function(e){var n=Ei(e);return Tx(xx(Mx(t)(n.ring)))(function(){var u=Ex(r.domInfo.ringCenter(n.ring)),f=function(){var p=wx(u);return function(v){return df(p(v))}}();return Ix(gl(f(e.currentPoint))(Px(f(e.initialPoint))))})}))}},jx=function(t){var r=43*(1+IA(t)),e=43*(1+wA(t));return"left: "+(zA(r)+("%; top: "+(zA(e)+"%")))},Jx=function(){return yl(wi(Da)([H(Nt.value)(2),H(Nt.value)(7),H(Ut.value)(16),H(Ut.value)(11)]))}(),Kx=function(t){var r=Ei(t);if(r.ring instanceof Nt)return zx;if(r.ring instanceof Et)return Jx;if(r.ring instanceof Ut)return Gx;throw new Error("Failed pattern match at Gemini.Component.Puzzle (line 116, column 3 - line 119, column 32): "+[r.ring.constructor.name])},Qx=function(t){return function(r){if(r instanceof S)return!1;if(r instanceof y)return Lx(Da(t))(Kx(r.value0));throw new Error("Failed pattern match at Gemini.Component.Puzzle (line 87, column 1 - line 87, column 44): "+[t.constructor.name,r.constructor.name])}},Yx=function(t){var r=Su(t.Nat0());return function(e){var n=_l(vr(Di(e))/vr(r(gu)))(Ca.value);return gl(n)(_l(-90)(Af.value))}},Zx=Yx(jA),tM=function(t){return function(r){var e=Zx(t.position),n=Vx(r),u=VA(n)(Xx(t.ring)),f=VA(r.gemini)(function(){var p=Zm(t);return function(v){return No(Ox(function(l){return l.color}(p(v))))}}());return Rx(ya)({diskAttrs:kl(Nx([XA("disk"),f,Yo(Dl(Qx(t))($a(r.drag)))("hidden")]))(kl(Ux(Dl(jx)(kl(XA(e))(Dl(gl(e))(u)))))(Wx(jp.value)(Ci(RA({drag:r.drag,location:t})))))})}},JA=function(t){var r=function(n){return Bt(wi)(Bx)(function(u){var f={ring:n,position:u};return tM(f)(t)})},e=function(n){return je([dl(qx(n))])(r(n))};return je([dl("gemini")])(Xi([[je([dl("background")])([])],wi(e)(Hx)]))};var KA=t=>new ResizeObserver(r=>t(r)()),QA=t=>r=>()=>r.observe(t),Sl=t=>()=>t.disconnect();var $l=function(){var t=function(){var r=cf(Hn(Nr(V(Sn(on(an)))))),e=KA(function(n){if(n.length===1)return function(){var f=Hn(Dr(r))();return f(n[0].target)()};throw new Error("Failed pattern match at Resize (line 52, column 15 - line 54, column 30): "+[n.constructor.name])});return{ref:r,ob:e}}();return{event:Ku(function(r){return function(){return Hn(ue(r)(t.ref))(),Sl(t.ob)}}),listen:function(r){return function(){Sl(t.ob)();var n=Hn(Dr(t.ref))();return n(r)(),QA(r)(t.ob)()}}}}();var Sf=_f(),gf=FA(),tk=Sf(hi),uM=ga({reflectType:function(){return`
    <a target="_blank" rel="noopener noreferrer" ~linkAttrs~>
        <img ~imgAttrs~ />
        <span ~labelAttrs~>~label~</span>
    </a>
  `}})()()(Sf(gf(Sf(tk({reflectType:function(){return"linkAttrs"}})({reflectSymbol:function(){return"linkAttrs"}}))({reflectType:function(){return"labelAttrs"}})({reflectSymbol:function(){return"labelAttrs"}}))({reflectType:function(){return"label"}})({reflectSymbol:function(){return"label"}}))({reflectType:function(){return"imgAttrs"}})({reflectSymbol:function(){return"imgAttrs"}})),Ke=Vt(ye),aM=yu(nm),iM=ge(um),oM=yu(em),fM=ge(pA),cM=yu(rm),pM=ga({reflectType:function(){return`
    <div class="flex justify-center">
      <button class="action-button" ~buttonAttrs~>
        Scramble
      </button>
    </div>
  `}})()()(tk({reflectType:function(){return"buttonAttrs"}})({reflectSymbol:function(){return"buttonAttrs"}})),lM=ge(nA),YA=yu(va),_M=ga({reflectType:function(){return`
    <div ~attrs~>
      <div class="flex flex-col gap-12 items-center">
        ~header~
        ~puzzle~
        ~footer~
      </div>
      <div class="right-panel" data-todo="recorded-moves">
      </div>
    </div>
  `}})()()(Sf(gf(gf(gf(hi)({reflectType:function(){return"puzzle"}})({reflectSymbol:function(){return"puzzle"}}))({reflectType:function(){return"header"}})({reflectSymbol:function(){return"header"}}))({reflectType:function(){return"footer"}})({reflectSymbol:function(){return"footer"}}))({reflectType:function(){return"attrs"}})({reflectSymbol:function(){return"attrs"}})),vM=Zo(va),ZA=L(_r),sM=ur(Kt),bM=ge(sA),mM=ge(uA),AM=ge(fA),kM=ge(cA),DM=ge(oA),dM=ge(aA),yM=function(t){return function(r){return function(e){return uM(ya)({linkAttrs:Ke(aM("flex items-center p-2 underline decoration-sky-500/30"))(iM(Qo.value)(r)),imgAttrs:Ke(oM("h-[20px] m-2"))(fM(Yp.value)(t)),labelAttrs:cM("decoration-sky-500/30"),label:m(e)})}}},gM=function(t){return pM(ya)({buttonAttrs:lM(zp.value)(xA(t))})},SM=je([])([je([YA("text-2xl")])([Ln("Q: Rotate left disk counter clockwise"),Ln("W: Rotate left disk clockwise"),Ln("T: Rotate center disk counter clockwise"),Ln("Y: Rotate center disk clockwise"),Ln("O: Rotate right disk counter clockwise"),Ln("P: Rotate right disk clockwise")]),je([YA("fixed bottom-0 left-0")])([yM("./github.png")("https://github.com/CharlesTaylor7/gemini")("View Source")])]),rk=Je(ll(tA))(function(t){return Je(ll(S.value))(function(r){var e=yf($l.event)(C(HA));return Je(lf(qA)(e))(function(n){return _M(ya)(function(){var u={gemini:t,drag:r,domInfo:n},f=Ci(NA(u));return{header:gM(t),attrs:Ke(vM([ZA("mt-12 w-full h-full flex justify-center fixed"),Yo(sM($a(r))(Ia))("cursor-grabbing")]))(Ke(bM(vA.value)(function(p){return $l.listen(p)}))(Ke(AA)(Ke(bA(ZA(0)))(Ke(mM(Vp.value)(mA(MA(t))))(Ke(AM(Kp.value)(Ci(ml(u))))(Ke(kM(Qp.value)(f))(Ke(DM(Jp.value)(f))(dM(Xp.value)(f))))))))),puzzle:JA({gemini:$a(t),drag:r,domInfo:n}),footer:SM}}())})})});var ek=tm(rk);ek();})();
//# sourceMappingURL=index.js.map
