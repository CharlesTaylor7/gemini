(()=>{var yk=function(t){return function(r){return function(e){return function(n){return function(u){return n<u?t:n===u?r:e}}}}};var T_=yk;var x_=function(t){return function(r){return t===r}},M_=x_,E_=x_;var St=function(){function t(){}return t.value=new t,t}();var Gr=function(t){return t.reflectSymbol};var Ke=function(t){return function(r){return r[t]}};var lu={eq:E_};var _c={eq:M_};var X=function(t){return t.eq},Ck=X(_c);var oi=function(t){var r=X(t);return function(e){return function(n){return Ck(r(e)(n))(!1)}}};var K=function(){function t(){}return t.value=new t,t}(),Q=function(){function t(){}return t.value=new t,t}(),ct=function(){function t(){}return t.value=new t,t}();var _u={eq:function(t){return function(r){return t instanceof K&&r instanceof K||t instanceof Q&&r instanceof Q||t instanceof ct&&r instanceof ct}}};var w_=function(t){return function(r){return t-r|0}};var I_=function(t){return function(r){return t+r|0}},P_=function(t){return function(r){return t*r|0}},L_=function(t){return function(r){return t+r}},R_=function(t){return function(r){return t*r}};var fi={add:L_,zero:0,mul:R_,one:1},vu={add:I_,zero:0,mul:P_,one:1};var pe=function(t){return t.mul};var gr=function(t){return t.add};var kn=function(t){return t.sub};var Co={sub:w_,Semiring0:function(){return vu}};var Ht=function(){return{compare:T_(K.value)(ct.value)(Q.value),Eq0:function(){return lu}}}();var ft=function(t){return t.compare};var su=function(t){var r=ft(t);return function(e){return function(n){return function(u){return r(e(n))(e(u))}}}};var O_=function(t){var r=ft(t);return function(e){return function(n){var u=r(e)(n);return!(u instanceof K)}}},sc=function(t){var r=ft(t);return function(e){return function(n){var u=r(e)(n);return u instanceof K}}};var mc=function(t){var r=ft(t);return function(e){return function(n){var u=r(e)(n);return!(u instanceof Q)}}};var N_=t=>{for(var r=0,e=t.length;r<e;r++)t[r]()},To=(t,r)=>{for(var e=0,n=t.length;e<n;e++)r(t[e])},bc=(t,r)=>{for(let e in t)r(t[e])},Dc=()=>({}),Ac=(t,r,e)=>{e[t]=r},kc=(t,r)=>{delete r[t]};var U_=function(t){return function(r){for(var e=r.length,n=new Array(e),u=0;u<e;u++)n[u]=t(r[u]);return n}};var mu={compose:function(t){return function(r){return function(e){return t(r(e))}}}},ea=function(t){return t.compose};var dt=function(t){return t.identity},yt={identity:function(t){return t},Semigroupoid0:function(){return mu}};var vr=!0;var Rt=function(t){return function(r){return function(e){return t(e)(r)}}},C=function(t){return function(r){return t}};var ci=function(t){return function(r){return r(t)}};var g=function(t){return t.map},Jt=function(t){var r=g(t);return function(e){return function(n){return r(n)(e)}}},qt=function(t){return g(t)(C(void 0))},I=function(t){var r=g(t);return function(e){return function(n){return r(C(n))(e)}}};var ne={map:ea(mu)},Vt={map:U_};var B_=function(t){return function(r){return t+r}},W_=function(t){return function(r){return t.length===0?r:r.length===0?t:t.concat(r)}};var q_={append:function(t){return function(r){return void 0}}},xo={append:B_};var Mr={append:W_};var B=function(t){return t.append},G_=function(t){var r=B(t);return{append:function(e){return function(n){return function(u){return r(e(u))(n(u))}}}}};var Gt=function(t){return t.alt};var Bk=dt(yt);var Ct=function(t){return t.apply};var qn=function(t){var r=Ct(t),e=g(t.Functor0());return function(n){return function(u){return r(e(C(Bk))(n))(u)}}},br=function(t){var r=Ct(t),e=g(t.Functor0());return function(n){return function(u){return function(i){return r(e(n)(u))(i)}}}};var P=function(t){return t.pure};var pi=function(t){var r=Ct(t.Apply0()),e=P(t);return function(n){return function(u){return r(e(n))(u)}}};var N=function(t){return t};var Du=N;var j_=function(t){return function(r){return function(){return t(r())}}},J_=function(t){return function(){return t}},K_=function(t){return function(r){return function(){return r(t())()}}};function $r(t){return function(){return{value:t}}}var sr=function(t){return function(){return t.value}},Q_=function(t){return function(r){return function(){var e=t(r.value);return r.value=e.state,e.value}}},Zr=function(t){return function(r){return function(){return r.value=t}}};var Gk=dt(yt),le=function(t){return t.discard};var pt=function(t){return t.bind},tn=function(t){return Rt(pt(t))};var Y_=function(t){var r=pt(t);return function(e){return function(n){return function(u){return r(e(u))(n)}}}};var _e={discard:function(t){return pt(t)}};var na=function(t){var r=pt(t);return function(e){return r(e)(Gk)}};var ve=function(t){var r=pt(t.Bind1()),e=P(t.Applicative0());return function(n){return function(u){return r(n)(function(i){return r(u)(function(p){return e(i(p))})})}}};var zk=String.fromCharCode(65535),Vk=String.fromCharCode(0),Xk=Number.POSITIVE_INFINITY,jk=Number.NEGATIVE_INFINITY;var se=function(t){return t.top};var Au={top:2147483647,bottom:-2147483648,Ord0:function(){return Ht}};var Se=function(t){return t.bottom};var rv=function(t){return t.toString()},ev=function(t){var r=t.toString();return isNaN(r+".0")?r:r+".0"};var _i={show:ev},rn={show:rv};var at=function(t){return t.show};var Or=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Et=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}();var en=function(){function t(){}return t.value=new t,t}();var Sc=function(t){return t.from};var nd=dt(yt),S=function(){function t(){}return t.value=new t,t}(),y=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}();var Kt=function(t){return function(r){return function(e){if(e instanceof S)return t;if(e instanceof y)return r(e.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,r.constructor.name,e.constructor.name])}}},aa=Kt(!0)(C(!1)),vi=Kt(!1)(C(!0));var Zt={map:function(t){return function(r){return r instanceof y?new y(t(r.value0)):S.value}}},ud=g(Zt);var kr=function(t){return Kt(t)(nd)},dr=function(){return function(t){if(t instanceof y)return t.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[t.constructor.name])}};var du={apply:function(t){return function(r){if(t instanceof y)return ud(t.value0)(r);if(t instanceof S)return S.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[t.constructor.name,r.constructor.name])}},Functor0:function(){return Zt}};var hr={bind:function(t){return function(r){if(t instanceof y)return r(t.value0);if(t instanceof S)return S.value;throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): "+[t.constructor.name,r.constructor.name])}},Apply0:function(){return du}};var he=function(){return{pure:y.create,Apply0:function(){return du}}}();var $c={alt:function(t){return function(r){return t instanceof S?r:t}},Functor0:function(){return Zt}},ad=function(){return{empty:S.value,Alt0:function(){return $c}}}(),zn={Applicative0:function(){return he},Plus1:function(){return ad}};var Qt=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Yt=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}();var yu=function(t){return function(r){return function(e){if(e instanceof Qt)return t(e.value0);if(e instanceof Yt)return r(e.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[t.constructor.name,r.constructor.name,e.constructor.name])}}},hc=function(){return yu(C(S.value))(y.create)}();var dn=function(t){return t};var gu={map:function(t){return function(r){return t(r)}}};var uv={apply:function(t){return function(r){return t(r)}},Functor0:function(){return gu}},id={bind:function(t){return function(r){return r(t)}},Apply0:function(){return uv}},od={pure:dn,Apply0:function(){return uv}},si={Applicative0:function(){return od},Bind1:function(){return id}};var av=function(t){return Math.min(Math.abs(t),2147483647)},iv=function(t){return function(r){return r===0?0:r>0?Math.floor(t/r):-Math.floor(t/-r)}},ov=function(t){return function(r){if(r===0)return 0;var e=Math.abs(r);return(t%e+e)%e}};var fv={Ring0:function(){return Co}};var Ce=function(t){return t.mod};var me={degree:av,div:iv,mod:ov,CommutativeRing0:function(){return fv}},yn=function(t){return t.div};var Sn={mempty:void 0,Semigroup0:function(){return q_}};var J=function(t){return t.mempty},Vn=function(t){var r=J(t),e=G_(t.Semigroup0());return{mempty:function(n){return r},Semigroup0:function(){return e}}};var Cc=function(t){return function(){return t}},cv=function(t){return function(r){return function(){return r(t())()}}};var pv=function(t,r,e){var n=0,u;return function(i){if(n===2)return u;if(n===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+r+", line "+i+")",r,i);return n=1,u=e(),n=2,u}},ia={Applicative0:function(){return ue},Bind1:function(){return oa}},oa={bind:cv,Apply0:function(){return Fc(0)}},ue={pure:Cc,Apply0:function(){return Fc(0)}},lv=pv("functorEffect","Effect",function(){return{map:pi(ue)}}),Fc=pv("applyEffect","Effect",function(){return{apply:ve(ia),Functor0:function(){return lv(0)}}}),$=lv(20),mi=Fc(23),vd=br(mi),Tc=function(t){return{append:vd(B(t))}},$n=function(t){var r=Tc(t.Semigroup0());return{mempty:Cc(J(t)),Semigroup0:function(){return r}}};var _v=function(t){return function(){return{value:t}}};var Cr=function(t){return function(){return t.value}},vv=function(t){return function(r){return function(){var e=t(r.value);return r.value=e.state,e.value}}},zr=function(t){return function(r){return function(){r.value=t}}};var md=qt($),Vr=_v,bd=vv,Mo=function(t){return bd(function(r){var e=t(r);return{state:e,value:e}})},bi=function(t){return function(r){return md(Mo(t)(r))}};var gd=function(t,r,e){var n=0,u;return function(i){if(n===2)return u;if(n===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+r+", line "+i+")",r,i);return n=1,u=e(),n=2,u}},Sd=Q_,Ne=function(t){return Sd(function(r){var e=t(r);return{state:e,value:e}})},Xr={map:j_};var Ec={Applicative0:function(){return Er},Bind1:function(){return Di}},Di={bind:K_,Apply0:function(){return wc(0)}},Er={pure:J_,Apply0:function(){return wc(0)}},wc=gd("applyST","Control.Monad.ST.Internal",function(){return{apply:ve(Ec),Functor0:function(){return Xr}}}),Eo=wc(47),$d=br(Eo);var hd=P(Er),Ic=function(t){return{append:$d(B(t))}};var mv=function(t){var r=Ic(t.Semigroup0());return{mempty:hd(J(t)),Semigroup0:function(){return r}}};var Su={liftST:Du,Monad0:function(){return ia}},$u=function(t){return t.liftST};var Cd=function(t,r){if(t<1)return[];var e=new Array(t);return e.fill(r)},Fd=function(t,r){for(var e=[],n=0,u=0;u<t;u++)e[n++]=r;return e},Td=typeof Array.prototype.fill=="function"?Cd:Fd,xd=function(){function t(u,i){this.head=u,this.tail=i}var r={};function e(u){return function(i){return new t(u,i)}}function n(u){for(var i=[],p=0,_=u;_!==r;)i[p++]=_.head,_=_.tail;return i}return function(u,i){return n(u(e)(r)(i))}}(),Ue=function(t){return t.length},bv=function(t,r,e){return e.length===0?t({}):r(e[0])(e.slice(1))},Dv=function(t,r,e,n){return n<0||n>=e.length?r:t(e[n])};var Av=function(t,r,e,n){for(var u=0,i=n.length;u<i;u++)if(e(n[u]))return t(u);return r};var kv=function(t,r,e,n){if(e<0||e>=n.length)return r;var u=n.slice();return u.splice(e,1),t(u)};var dv=function(){function t(r,e,n,u,i,p){var _,l,d,w,x,M,R;for(_=i+(p-i>>1),_-i>1&&t(r,e,u,n,i,_),p-_>1&&t(r,e,u,n,_,p),l=i,d=_,w=i;l<_&&d<p;)x=u[l],M=u[d],R=e(r(x)(M)),R>0?(n[w++]=M,++d):(n[w++]=x,++l);for(;l<_;)n[w++]=u[l++];for(;d<p;)n[w++]=u[d++]}return function(r,e,n){var u;return n.length<2?n:(u=n.slice(0),t(r,e,u,n.slice(0),0,n.length),u)}}();var yv=function(t,r){return t[r]};function hn(){return[]}var gv=function(t,r){return r.push.apply(r,t)};var Sv=function(t,r,e,n){return n.splice.apply(n,[t,r].concat(e))};function Ed(t){return t}var $v=Ed;function wd(t){return t.slice()}var hv=wd;var Id=function(){function t(r,e,n,u,i,p){var _,l,d,w,x,M,R;for(_=i+(p-i>>1),_-i>1&&t(r,e,u,n,i,_),p-_>1&&t(r,e,u,n,_,p),l=i,d=_,w=i;l<_&&d<p;)x=u[l],M=u[d],R=e(r(x)(M)),R>0?(n[w++]=M,++d):(n[w++]=x,++l);for(;l<_;)n[w++]=u[l++];for(;d<p;)n[w++]=u[d++]}return function(r,e,n){return n.length<2||t(r,e,n,n.slice(0),0,n.length),n}}();var Po=function(r){return function(e){return function(){return r(e)}}},Pc=function(r){return function(e){return function(n){return function(){return r(e,n)}}}};var Lc=function(r){return function(e){return function(n){return function(u){return function(i){return function(){return r(e,n,u,i)}}}}}};var Ai=Po($v);var Rc=Lc(Sv);var Be=function(t){return Pc(gv)([t])};var Lo=Po(hv);var Cv=function(t){return function(r){return t&&r}},Fv=function(t){return function(r){return t||r}},Tv=function(t){return!t};var fa=function(t){return t.tt};var hu=function(t){return t.not};var ca=function(t){return t.disj},Cn={ff:!1,tt:!0,implies:function(t){return function(r){return ca(Cn)(hu(Cn)(t))(r)}},conj:Cv,disj:Fv,not:Tv};var pa=function(t){return t.conj};var Nc=g(Xr),xv=hu(Cn),Oc=qt(Xr),Nd=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}(),Ud=function(t){return function(){var e=sr(t.value1)();return t.value0(e)}},Mv=function(t){return function(){var e=sr(t.value1)();return Ne(function(n){return n+1|0})(t.value1)(),t.value0(e)}},Ev=function(t){return function(r){return function(e){return function(){for(var u=$r(!1)();Nc(xv)(sr(u))();)(function(){var p=Ud(r)();return p instanceof y&&t(p.value0)?(Be(p.value0)(e)(),Oc(Mv(r))()):Oc(Zr(!0)(u))()})();return{}}}}};var Uc=function(t){return Nc(Nd.create(t))($r(0))},Bc=function(t){return function(r){return function(){for(var n=$r(!1)();Nc(xv)(sr(n))();)(function(){var i=Mv(t)();if(i instanceof y)return r(i.value0)();if(i instanceof S)return Oc(Zr(!0)(n))();throw new Error("Failed pattern match at Data.Array.ST.Iterator (line 42, column 5 - line 44, column 47): "+[i.constructor.name])})();return{}}}};var Iv=function(t){return function(r){return function(e){for(var n=r,u=e.length,i=u-1;i>=0;i--)n=t(e[i])(n);return n}}},Pv=function(t){return function(r){return function(e){for(var n=r,u=e.length,i=0;i<u;i++)n=t(n)(e[i]);return n}}};var v=function(t){return t.empty};var T=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}(),Wc=function(t){return function(r){return t(r.value0)(r.value1)}};var Nr=function(t){return t.value1};var Cu={map:function(t){return function(r){return new T(r.value0,t(r.value1))}}};var Te=function(t){return t.value0};var la=function(t){return function(r){return function(e){return t(new T(r,e))}}};var gi=function(t){return t};var Zd=function(t){var r=pa(t);return{append:function(e){return function(n){return r(e)(n)}}}};var Gc=function(t){var r=Zd(t);return{mempty:fa(t),Semigroup0:function(){return r}}};var Dr=function(){return N};var Uv=Dr();var jr=function(){return Uv};var Uo=function(){return function(){return function(){return function(){return function(t){return Uv}}}}};var ny=Uo()()()(),yr=function(t){return t.foldr};var sa=function(t){var r=qn(t.Apply0()),e=P(t);return function(n){var u=yr(n);return function(i){return u(function(p){return r(i(p))})(e(void 0))}}},Xn=function(t){var r=sa(t);return function(e){return Rt(r(e))}};var er=function(t){return t.foldl};var jn={foldr:function(t){return function(r){return function(e){if(e instanceof S)return r;if(e instanceof y)return t(e.value0)(r);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,r.constructor.name,e.constructor.name])}}},foldl:function(t){return function(r){return function(e){if(e instanceof S)return r;if(e instanceof y)return t(r)(e.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,r.constructor.name,e.constructor.name])}}},foldMap:function(t){var r=J(t);return function(e){return function(n){if(n instanceof S)return r;if(n instanceof y)return e(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[e.constructor.name,n.constructor.name])}}}};var Wv=function(t){var r=yr(t);return function(e){var n=B(e.Semigroup0()),u=J(e);return function(i){return r(function(p){return function(_){return n(i(p))(_)}})(u)}}},wt={foldr:Iv,foldl:Pv,foldMap:function(t){return Wv(wt)(t)}};var Ar=function(t){return t.foldMap};var Ci=function(t){var r=Ar(t);return function(e){return ny(gi)(r(Gc(e)))}};var Jn=function(t){return function(r){return function(e){return t(r,e)}}},Bo=function(t){return function(r){return function(e){return function(n){return t(r,e,n)}}}},ma=function(t){return function(r){return function(e){return function(n){return function(u){return t(r,e,n,u)}}}}};var Hv=function(t){return function(r){for(var e=r.length,n=Array(e),u=0;u<e;u++)n[u]=t(u)(r[u]);return n}};var Fn=function(t){return t.mapWithIndex};var Kn={mapWithIndex:Hv,Functor0:function(){return Vt}};var Vv=function(){function t(u){return[u]}function r(u){return function(i){return[u,i]}}function e(u){return function(i){return function(p){return[u,i,p]}}}function n(u){return function(i){return u.concat(i)}}return function(u){return function(i){return function(p){return function(_){return function(l){function d(w,x){switch(x-w){case 0:return p([]);case 1:return i(t)(_(l[w]));case 2:return u(i(r)(_(l[w])))(_(l[w+1]));case 3:return u(u(i(e)(_(l[w])))(_(l[w+1])))(_(l[w+2]));default:var M=w+Math.floor((x-w)/4)*2;return u(i(n)(d(w,M)))(d(M,x))}}return d(0,l.length)}}}}}}();var Ny=dt(yt),Me=function(t){return t.traverse};var us=function(t){var r=Me(t);return function(e){return r(e)(Ny)}},Qn={traverse:function(t){var r=t.Apply0();return Vv(Ct(r))(g(r.Functor0()))(P(t))},sequence:function(t){return us(Qn)(t)},Functor0:function(){return Vt},Foldable1:function(){return wt}},xn=function(t){return t.sequence};var as=function(t){return function(r){return function(e){return function(n){return function(u){return function(i){for(var p=[],_=i;;){var l=u(_);if(t(l))return p;var d=r(l);p.push(e(d)),_=n(d)}}}}}}};var is=function(t){return function(r){return function(e){return function(n){return function(u){return function(i){for(var p=[],_=i;;){var l=u(_);p.push(e(l));var d=n(l);if(t(d))return p;_=r(d)}}}}}}};var Gy=X(_u);var xi=function(t){return t.foldl1},os=function(t){var r=xi(t);return function(e){return r(function(n){return function(u){var i=Gy(e(n)(u))(Q.value);return i?n:u}})}};var fs=function(t){var r=xi(t);return function(e){var n=g(e);return function(u){var i=B(u);return function(p){var _=r(i),l=n(p);return function(d){return _(l(d))}}}}};var Jy=dr(),Da=function(t){return t.unfoldr1};var Aa={unfoldr1:is(aa)(Jy)(Te)(Nr)},cs=function(t){var r=Da(t);return function(e){return function(n){var u=function(i){if(i<=0)return new T(n,S.value);if(vr)return new T(n,new y(i-1|0));throw new Error("Failed pattern match at Data.Unfoldable1 (line 68, column 5 - line 68, column 39): "+[i.constructor.name])};return r(u)(e-1|0)}}};var rp=function(t){return cs(t)(1)};var Ky=dr(),We=function(t){return t.unfoldr};var En={unfoldr:as(aa)(Ky)(Te)(Nr),Unfoldable10:function(){return Aa}},Qy=function(t){var r=We(t);return function(e){return function(n){var u=function(i){var p=i<=0;return p?S.value:new y(new T(n,i-1|0))};return r(u)(e)}}},ps=function(t){return function(r){var e=Qy(r);return function(n){var u=xn(n)(t);return function(i){return function(p){return u(e(i)(p))}}}}};var eg=qt(Xr);var ng=g(Zt);var ug=dr();var ag=X(_u);var ep=function(){return Jn(yv)},ig=ep(),np=function(){return Bo(bv)(C(S.value))(function(t){return function(r){return new y({head:t,tail:r})}})}();var Go=function(t){return Bo(dv)(t)(function(r){if(r instanceof Q)return 1;if(r instanceof ct)return 0;if(r instanceof K)return-1;throw new Error("Failed pattern match at Data.Array (line 897, column 38 - line 900, column 11): "+[r.constructor.name])})};var wn=function(){return ma(Dv)(y.create)(S.value)}(),up=function(t){return wn(t)(Ue(t)-1|0)};var ap=function(t){return wn(t)(0)};var ls=function(t){return function(r){return function(){var n=hn(),u=Uc(function(i){return wn(r)(i)})();return Bc(u)(function(i){return eg(function(){var _=hn();Be(i)(_)(),Ev(t(i))(u)(_)();var l=Ai(_)();return Be(l)(n)()})})(),Ai(n)()}()}},zo=function(t){var r=ls(function(n){return function(u){return ag(t(n)(u))(ct.value)}}),e=Go(t);return function(n){return r(e(n))}};var ip=function(){return ma(Av)(y.create)(S.value)}(),Ei=function(t){return function(r){return ng(ig(r))(ip(t)(r))}};var _s=function(){return ma(kv)(y.create)(S.value)}(),op=function(t){return function(r){return function(e){return e.length===0?[]:Kt(e)(function(n){return ug(_s(n)(e))})(ip(t(r))(e))}}};var Vo=function(t){return t.foldrWithIndex};var fg=g(Cu),cg=g(Zt),xu=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}(),bs=function(t){var r=We(t);return{unfoldr1:function(e){return function(n){return Wc(xu.create)(fg(r(cg(e)))(e(n)))}}}};var zt=function(){function t(){}return t.value=new t,t}(),nr=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}();var He={foldr:function(t){return function(r){var e=function(){var u=function(i){return function(p){var _=i,l=!1,d;function w(x,M){if(M instanceof zt)return l=!0,x;if(M instanceof nr){_=new nr(M.value0,x),p=M.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[x.constructor.name,M.constructor.name])}for(;!l;)d=w(_,p);return d}};return u(zt.value)}(),n=er(He)(Rt(t))(r);return function(u){return n(e(u))}}},foldl:function(t){var r=function(e){return function(n){var u=e,i=!1,p;function _(l,d){if(d instanceof zt)return i=!0,l;if(d instanceof nr){u=t(l)(d.value0),n=d.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[d.constructor.name])}for(;!i;)p=_(u,n);return p}};return r},foldMap:function(t){var r=B(t.Semigroup0()),e=J(t);return function(n){return er(He)(function(u){var i=r(u);return function(p){return i(n(p))}})(e)}}},As=er(He);var _g={unfoldr1:function(t){return function(r){var e=function(n){return function(u){var i=n,p=!1,_;function l(d,w){var x=t(d);if(x.value1 instanceof y){i=x.value1.value0,u=new nr(x.value0,w);return}if(x.value1 instanceof S)return p=!0,As(Rt(nr.create))(zt.value)(new nr(x.value0,w));throw new Error("Failed pattern match at Data.List.Types (line 135, column 22 - line 137, column 61): "+[x.constructor.name])}for(;!p;)_=l(i,u);return _}};return e(r)(zt.value)}}},fp={unfoldr:function(t){return function(r){var e=function(n){return function(u){var i=n,p=!1,_;function l(d,w){var x=t(d);if(x instanceof S)return p=!0,As(Rt(nr.create))(zt.value)(w);if(x instanceof y){i=x.value0.value1,u=new nr(x.value0.value0,w);return}throw new Error("Failed pattern match at Data.List.Types (line 142, column 22 - line 144, column 52): "+[x.constructor.name])}for(;!p;)_=l(i,u);return _}};return e(r)(zt.value)}},Unfoldable10:function(){return _g}},ks=bs(fp);var cp=function(t){if(t instanceof zt)return S.value;if(t instanceof nr)return new y({head:t.value0,tail:t.value1});throw new Error("Failed pattern match at Data.List (line 259, column 1 - line 259, column 66): "+[t.constructor.name])};var pp=function(){var t=function(r){return function(e){var n=r,u=!1,i;function p(_,l){if(l instanceof zt)return u=!0,_;if(l instanceof nr){n=new nr(l.value0,_),e=l.value1;return}throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[_.constructor.name,l.constructor.name])}for(;!u;)i=p(n,e);return i}};return t(zt.value)}();var Eu=function(t,r,e){var n=0,u;return function(i){if(n===2)return u;if(n===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+r+", line "+i+")",r,i);return n=1,u=e(),n=2,u}};var Ut=function(){function t(){}return t.value=new t,t}(),Xt=function(){function t(r,e,n,u,i,p){this.value0=r,this.value1=e,this.value2=n,this.value3=u,this.value4=i,this.value5=p}return t.create=function(r){return function(e){return function(n){return function(u){return function(i){return function(p){return new t(r,e,n,u,i,p)}}}}}},t}(),ys=function(){function t(){}return t.value=new t,t}(),Ii=function(){function t(r,e,n){this.value0=r,this.value1=e,this.value2=n}return t.create=function(r){return function(e){return function(n){return new t(r,e,n)}}},t}(),ya=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}();var Xo=function(){function t(r,e,n){this.value0=r,this.value1=e,this.value2=n}return t.create=function(r){return function(e){return function(n){return new t(r,e,n)}}},t}(),ds=function(){function t(r,e,n){this.value0=r,this.value1=e,this.value2=n}return t.create=function(r){return function(e){return function(n){return new t(r,e,n)}}},t}(),Ee=function(t,r,e,n){if(e instanceof Ut){if(n instanceof Ut)return new Xt(1,1,t,r,e,n);if(n instanceof Xt)return new Xt(1+n.value0|0,1+n.value1|0,t,r,e,n);throw new Error("Failed pattern match at Data.Map.Internal (line 680, column 5 - line 684, column 39): "+[n.constructor.name])}if(e instanceof Xt){if(n instanceof Ut)return new Xt(1+e.value0|0,1+e.value1|0,t,r,e,n);if(n instanceof Xt)return new Xt(1+function(){var u=e.value0>n.value0;return u?e.value0:n.value0}()|0,(1+e.value1|0)+n.value1|0,t,r,e,n);throw new Error("Failed pattern match at Data.Map.Internal (line 686, column 5 - line 690, column 68): "+[n.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 678, column 32 - line 690, column 68): "+[e.constructor.name])},gg=function(){return Rt(ya.create)(ys.value)}(),Sg=function(t){return function(r){return function(e){var n=function(u){var i=!1,p;function _(l){if(l instanceof ys)return i=!0,e(void 0);if(l instanceof Ii)return i=!0,r(l.value0,l.value1,l.value2);if(l instanceof ya){u=t(l.value1)(l.value0);return}throw new Error("Failed pattern match at Data.Map.Internal (line 918, column 8 - line 924, column 20): "+[l.constructor.name])}for(;!i;)p=_(u);return p};return n}}};var Jo=function(t){return function(r){return new Xt(1,1,t,r,Ut.value,Ut.value)}},qe=function(){var t=function(n){if(n instanceof Ut)return 0;if(n instanceof Xt)return n.value0;throw new Error("Failed pattern match at Data.Map.Internal (line 735, column 12 - line 737, column 26): "+[n.constructor.name])},r=function(n,u,i,p,_,l,d){return l instanceof Xt&&l.value0>t(d)?Ee(l.value2,l.value3,Ee(n,u,i,l.value4),Ee(p,_,l.value5,d)):Ee(p,_,Ee(n,u,i,l),d)},e=function(n,u,i,p,_,l,d){return l instanceof Xt&&t(_)<=l.value0?Ee(l.value2,l.value3,Ee(i,p,_,l.value4),Ee(n,u,l.value5,d)):Ee(i,p,_,Ee(n,u,l,d))};return function(n,u,i,p){if(i instanceof Ut)return p instanceof Ut?Jo(n)(u):p instanceof Xt&&p.value0>1?r(n,u,i,p.value2,p.value3,p.value4,p.value5):Ee(n,u,i,p);if(i instanceof Xt){if(p instanceof Xt){if(p.value0>(i.value0+1|0))return r(n,u,i,p.value2,p.value3,p.value4,p.value5);if(i.value0>(p.value0+1|0))return e(n,u,i.value2,i.value3,i.value4,i.value5,p)}return p instanceof Ut&&i.value0>1?e(n,u,i.value2,i.value3,i.value4,i.value5,p):Ee(n,u,i,p)}throw new Error("Failed pattern match at Data.Map.Internal (line 695, column 40 - line 716, column 34): "+[i.constructor.name])}}(),lp=Eu("unsafeSplit","Data.Map.Internal",function(){return function(t,r,e){if(e instanceof Ut)return new Xo(S.value,Ut.value,Ut.value);if(e instanceof Xt){var n=t(r)(e.value2);if(n instanceof K){var u=lp(771)(t,r,e.value4);return new Xo(u.value0,u.value1,qe(e.value2,e.value3,u.value2,e.value5))}if(n instanceof Q){var u=lp(774)(t,r,e.value5);return new Xo(u.value0,qe(e.value2,e.value3,e.value4,u.value1),u.value2)}if(n instanceof ct)return new Xo(new y(e.value3),e.value4,e.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 769, column 5 - line 777, column 30): "+[n.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 765, column 34 - line 777, column 30): "+[e.constructor.name])}}),gs=lp(764),Ss=Eu("unsafeSplitLast","Data.Map.Internal",function(){return function(t,r,e,n){if(n instanceof Ut)return new ds(t,r,e);if(n instanceof Xt){var u=Ss(757)(n.value2,n.value3,n.value4,n.value5);return new ds(u.value0,u.value1,qe(t,r,e,u.value2))}throw new Error("Failed pattern match at Data.Map.Internal (line 754, column 37 - line 758, column 57): "+[n.constructor.name])}}),$g=Ss(753),$s=function(t,r){if(t instanceof Ut)return r;if(t instanceof Xt){var e=$g(t.value2,t.value3,t.value4,t.value5);return qe(e.value0,e.value1,e.value2,r)}throw new Error("Failed pattern match at Data.Map.Internal (line 742, column 25 - line 746, column 38): "+[t.constructor.name,r.constructor.name])};var _p=Eu("unsafeUnionWith","Data.Map.Internal",function(){return function(t,r,e,n){if(e instanceof Ut)return n;if(n instanceof Ut)return e;if(n instanceof Xt){var u=gs(t,n.value2,e),i=_p(787)(t,r,u.value1,n.value4),p=_p(788)(t,r,u.value2,n.value5);if(u.value0 instanceof y)return qe(n.value2,r(u.value0.value0)(n.value3),i,p);if(u.value0 instanceof S)return qe(n.value2,n.value3,i,p);throw new Error("Failed pattern match at Data.Map.Internal (line 789, column 5 - line 793, column 46): "+[u.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 782, column 42 - line 793, column 46): "+[e.constructor.name,n.constructor.name])}}),hg=_p(781),Cg=function(t){var r=ft(t);return function(e){return function(n){return function(u){return hg(r,e,n,u)}}}},hs=function(t){return Cg(t)(C)};var Cs=function(t){var r=ft(t);return function(e){var n=function(u){var i=!1,p;function _(l){if(l instanceof Ut)return i=!0,!1;if(l instanceof Xt){var d=r(e)(l.value2);if(d instanceof K){u=l.value4;return}if(d instanceof Q){u=l.value5;return}if(d instanceof ct)return i=!0,!0;throw new Error("Failed pattern match at Data.Map.Internal (line 457, column 7 - line 460, column 19): "+[d.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 454, column 8 - line 460, column 19): "+[l.constructor.name])}for(;!i;)p=_(u);return p};return n}};var wu=function(t){var r=ft(t);return function(e){var n=function(u){var i=!1,p;function _(l){if(l instanceof Ut)return i=!0,S.value;if(l instanceof Xt){var d=r(e)(l.value2);if(d instanceof K){u=l.value4;return}if(d instanceof Q){u=l.value5;return}if(d instanceof ct)return i=!0,new y(l.value3);throw new Error("Failed pattern match at Data.Map.Internal (line 281, column 7 - line 284, column 22): "+[d.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 278, column 8 - line 284, column 22): "+[l.constructor.name])}for(;!i;)p=_(u);return p};return n}},Fg=function(t){return function(r){if(r instanceof Ut)return t;if(r instanceof Xt)return r.value4 instanceof Ut?r.value5 instanceof Ut?new Ii(r.value2,r.value3,t):new Ii(r.value2,r.value3,new ya(r.value5,t)):r.value5 instanceof Ut?new Ii(r.value2,r.value3,new ya(r.value4,t)):new Ii(r.value2,r.value3,new ya(r.value4,new ya(r.value5,t)));throw new Error("Failed pattern match at Data.Map.Internal (line 951, column 17 - line 966, column 56): "+[r.constructor.name])}},Tg=Sg(Fg),xg=function(){var t=function(r,e,n){return new y(new T(new T(r,e),n))};return Tg(t)(function(r){return S.value})}(),Fs=function(t){var r=We(t)(xg);return function(e){return r(gg(e))}};var Pi=function(t){var r=ft(t);return function(e){return function(n){var u=function(i){if(i instanceof Ut)return Jo(e)(n);if(i instanceof Xt){var p=r(e)(i.value2);if(p instanceof K)return qe(i.value2,i.value3,u(i.value4),i.value5);if(p instanceof Q)return qe(i.value2,i.value3,i.value4,u(i.value5));if(p instanceof ct)return new Xt(i.value0,i.value1,e,n,i.value4,i.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 469, column 7 - line 472, column 35): "+[p.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 466, column 8 - line 472, column 35): "+[i.constructor.name])};return u}}};var Ts={foldr:function(t){return function(r){var e=Eu("go","Data.Map.Internal",function(){return function(u,i){if(u instanceof Ut)return i;if(u instanceof Xt)return e(170)(u.value4,t(u.value3)(e(170)(u.value5,i)));throw new Error("Failed pattern match at Data.Map.Internal (line 167, column 26 - line 170, column 43): "+[u.constructor.name])}}),n=e(167);return function(u){return n(u,r)}}},foldl:function(t){return function(r){var e=Eu("go","Data.Map.Internal",function(){return function(u,i){if(i instanceof Ut)return u;if(i instanceof Xt)return e(176)(t(e(176)(u,i.value4))(i.value3),i.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 173, column 26 - line 176, column 43): "+[i.constructor.name])}}),n=e(173);return function(u){return n(r,u)}}},foldMap:function(t){var r=J(t),e=B(t.Semigroup0());return function(n){var u=function(i){if(i instanceof Ut)return r;if(i instanceof Xt)return e(u(i.value4))(e(n(i.value3))(u(i.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 179, column 10 - line 182, column 28): "+[i.constructor.name])};return u}}},Mg={foldrWithIndex:function(t){return function(r){var e=Eu("go","Data.Map.Internal",function(){return function(u,i){if(u instanceof Ut)return i;if(u instanceof Xt)return e(190)(u.value4,t(u.value2)(u.value3)(e(190)(u.value5,i)));throw new Error("Failed pattern match at Data.Map.Internal (line 187, column 26 - line 190, column 45): "+[u.constructor.name])}}),n=e(187);return function(u){return n(u,r)}}},foldlWithIndex:function(t){return function(r){var e=Eu("go","Data.Map.Internal",function(){return function(u,i){if(i instanceof Ut)return u;if(i instanceof Xt)return e(196)(t(i.value2)(e(196)(u,i.value4))(i.value3),i.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 193, column 26 - line 196, column 45): "+[i.constructor.name])}}),n=e(193);return function(u){return n(r,u)}}},foldMapWithIndex:function(t){var r=J(t),e=B(t.Semigroup0());return function(n){var u=function(i){if(i instanceof Ut)return r;if(i instanceof Xt)return e(u(i.value4))(e(n(i.value2)(i.value3))(u(i.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 199, column 10 - line 202, column 30): "+[i.constructor.name])};return u}},Foldable0:function(){return Ts}},xs=function(){return Vo(Mg)(function(t){return function(r){return function(e){return new nr(t,e)}}})(zt.value)}();var on=function(){return Ut.value}(),Ko=function(t){var r=Pi(t);return function(e){return er(e)(function(n){return function(u){return r(u.value0)(u.value1)(n)}})(on)}};var Ms=function(t){var r=ft(t);return function(e){var n=function(u){if(u instanceof Ut)return Ut.value;if(u instanceof Xt){var i=r(e)(u.value2);if(i instanceof K)return qe(u.value2,u.value3,n(u.value4),u.value5);if(i instanceof Q)return qe(u.value2,u.value3,u.value4,n(u.value5));if(i instanceof ct)return $s(u.value4,u.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 496, column 7 - line 499, column 43): "+[i.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 493, column 8 - line 499, column 43): "+[u.constructor.name])};return n}};var ga=function(t){var r=ft(t);return function(e){return function(n){return function(u){var i=gs(r,n,u),p=e(i.value0);if(p instanceof S)return $s(i.value1,i.value2);if(p instanceof y)return qe(n,p.value0,i.value1,i.value2);throw new Error("Failed pattern match at Data.Map.Internal (line 512, column 3 - line 516, column 41): "+[p.constructor.name])}}}};var Pu=function(t){return t.filterMap};var bp=Dr(),qg=Ar(He),Gg=er(He),zg=yr(He);var Vg=function(t){return bp(hs(t))};var mp=function(t){return xs(t)};var ws=function(t){return Jo(t)(void 0)};var Dp=function(t){return{append:Vg(t)}},Qo=function(t){return bp(Cs(t))};var Xg=function(t){var r=Pi(t);return function(e){return function(n){return r(e)(void 0)(n)}}};var Is={foldMap:function(t){var r=qg(t);return function(e){var n=r(e);return function(u){return n(mp(u))}}},foldl:function(t){return function(r){var e=Gg(t)(r);return function(n){return e(mp(n))}}},foldr:function(t){return function(r){var e=zg(t)(r);return function(n){return e(mp(n))}}}};var Ps=on,Yo=function(t){var r=er(t);return function(e){var n=Xg(e);return r(function(u){return function(i){return n(i)(u)}})(Ps)}};var Ls=function(t){var r=Dp(t);return{mempty:Ps,Semigroup0:function(){return r}}};var Rs=function(t){return bp(Ms(t))};function Os(t){return function(r){return function(){return setTimeout(r,t)}}}function Ns(t){return function(){clearTimeout(t)}}var Jg=ft(Ht);var Us=Os;var Kg={eq:function(t){return function(r){return t===r}}},Zo={compare:function(t){return function(r){return Jg(t)(r)}},Eq0:function(){return Kg}};var Bs=Ns;var In=function(r){return function(e){return r(e)()}};var Ri=function(r){return function(e){return function(){return r(e)}}};var bS=function(t){var r=B(Tc(t));return{append:function(e){return function(n){return In(function(u){return r(Ri(e)(u))(Ri(n)(u))})}}}};var Hs=function(t){var r=J($n(t)),e=bS(t.Semigroup0());return{mempty:In(function(n){return r}),Semigroup0:function(){return e}}};var Lu=function(t){return t.keepLatest};function dp(t){return function(r){return t===r}}var qs=dp;var Vs=function(t,r,e){var n=0,u;return function(i){if(n===2)return u;if(n===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+r+", line "+i+")",r,i);return n=1,u=e(),n=2,u}},Xs=Xn(ue),ef=Xs(jn),Ru=P(ue),Ge=$u(Su),kS=$n(Sn),Ni=qt($),dS=B(Mr),js=J(Hs(Sn)),yS=J(Ls(Zo)),gS=Rs(Zo),SS=B(Dp(Zo)),$S=Xs(Is),hS=Ct(mi),CS=g($);var FS=function(t){return function(r){return function(e,n){var u=Vr(S.value)(),i=t(e,function(_){return zr(new y(_))(u)()}),p=r(e,function(_){var l=Cr(u)();return ef(l)(function(d){return function(){return n(_(d))}})()});return function(){return i(),p()}}}},TS=function(t){return function(r){return function(e,n){var u=Vr(S.value)(),i=t(e,function(_){var l=Cr(u)();return ef(l)(function(d){return function(){return n(d(_))}})()}),p=r(e,function(_){return zr(new y(_))(u)()});return function(){return i(),p()}}}},Ou=function(t){var r=Ar(t)(kS);return function(e){return function(n,u){var i=Ge(hn)();return r(function(p){return function(){var l=p(n,u);return Ni(Ge(Be(l)(i)))()}})(e)(),function(){var _=Ge(Lo(i))();return N_(_)}}}},Gs=function(t){var r=ga(t),e=wu(t);return function(){var u=Vr(on)();return{event:function(i){return function(p,_){return Ni(Mo(r(function(l){if(l instanceof S)return new y([_]);if(l instanceof y)return new y(dS(l.value0)([_]));throw new Error("Failed pattern match at FRP.Event (line 568, column 17 - line 570, column 51): "+[l.constructor.name])})(i))(u))(),Ni(Mo(r(function(l){if(l instanceof S)return S.value;if(l instanceof y)return new y(op(qs)(_)(l.value0));throw new Error("Failed pattern match at FRP.Event (line 577, column 17 - line 579, column 65): "+[l.constructor.name])})(i))(u))}},push:function(i){var p=Cr(u)(),_=e(i.address)(p);if(_ instanceof S)return void 0;if(_ instanceof y)return To(_.value0,function(l){return l(i.payload)});throw new Error("Failed pattern match at FRP.Event (line 586, column 9 - line 588, column 95): "+[_.constructor.name])}}}},xS=function(t){return function(r,e){var n=Vr(Ru(void 0))(),u=t(r,function(i){var p=Cr(n)();p();var _=i(r,e);return zr(_)(n)()});return function(){var p=Cr(n)();return p(),u()}}},Bt={map:function(t){return function(r){return function(e,n){return r(e,function(u){return n(t(u))})}}}},MS=g(Bt),Oi=function(t){return function(r){return function(e,n){return r(e,function(u){var i=t(u);if(i instanceof y)return n(i.value0);if(i instanceof S)return void 0;throw new Error("Failed pattern match at FRP.Event (line 225, column 31 - line 227, column 35): "+[i.constructor.name])})}}},yp=function(t){return Oi(function(r){var e=t(r);if(e)return new y(r);if(!e)return S.value;throw new Error("Failed pattern match at FRP.Event (line 141, column 13 - line 143, column 25): "+[e.constructor.name])})},rf=function(){var r=Dc(),e=Vr(0)();return{event:function(n,u){var i=Vr(u)(),p=Cr(e)();return Ac(p,i,r),bi(function(_){return _+1|0})(e)(),function(){return zr(js)(i)(),kc(p,r),void 0}},push:function(n){return bc(r,function(u){var i=Cr(u)();return i(n)})}}},ES=function(t){return function(r,e){var n=rf(),u=t(n.event),i=n.event(r,e),p=u(r,n.push);return function(){return p(),i()}}},wS={compact:Oi(dt(yt)),separate:function(t){return{left:Oi(function(r){if(r instanceof Qt)return new y(r.value0);if(r instanceof Yt)return S.value;throw new Error("Failed pattern match at FRP.Event (line 124, column 13 - line 126, column 33): "+[r.constructor.name])})(t),right:Oi(function(r){if(r instanceof Yt)return new y(r.value0);if(r instanceof Qt)return S.value;throw new Error("Failed pattern match at FRP.Event (line 131, column 13 - line 133, column 32): "+[r.constructor.name])})(t)}}},Ui={filter:yp,filterMap:Oi,partition:function(t){return function(r){return{yes:yp(t)(r),no:yp(function(e){return!t(e)})(r)}}},partitionMap:function(t){return function(r){return{left:Pu(Ui)(function(){var e=yu(y.create)(C(S.value));return function(n){return e(t(n))}}())(r),right:Pu(Ui)(function(e){return hc(t(e))})(r)}}},Compactable0:function(){return wS},Functor1:function(){return Bt}},IS=function(t){return function(r){return function(e,n){var u=Vr(S.value)(),i=Ge(hn)(),p=Vr(S.value)(),_=Ge(hn)(),l=Vr(!0)(),d=t(e,function(R){var st=Cr(l)();if(st)return Ni(Ge(Be(R)(i)))();zr(new y(R))(u)();var it=Cr(p)();return ef(it)(function(Ft){return function(){return n(Ft(R))}})()}),w=r(e,function(R){var st=Cr(l)();if(st)return Ni(Ge(Be(R)(_)))();zr(new y(R))(p)();var it=Cr(u)();return ef(it)(function(Ft){return function(){return n(R(Ft))}})()});zr(!1)(l)();var x=Ge(Lo(i))(),M=Ge(Lo(_))();return function(){return x.length===0?zr(up(M))(p)():To(x,function(R){return zr(new y(R))(u)(),To(M,function(st){return zr(new y(st))(p)(),n(st(R))})})}(),Ge(Rc(0)(Ue(x))([])(i))(),Ge(Rc(0)(Ue(M))([])(_))(),function(){return d(),w()}}}},Bi=function(t){return function(r){return r}(Sp(345).subscribe)(t)},Sp=Vs("backdoor","FRP.Event",function(){var t=function(){var e=Dc(),n=Vr(0)();return{event:function(u,i){var p=Vr(i)(),_=Cr(n)();return Ac(_,p,e),bi(function(l){return l+1|0})(n)(),function(){return zr(js)(p)(),kc(_,e),void 0}},push:function(u){return function(){return bc(e,function(i){var p=Cr(i)();return p(u)})}}}};return{createO:rf,makeEvent:function(){var r=function(e){return function(n,u){return n?Ru(void 0):e(function(i){return function(){return u(i)}})()}};return r}(),makeEventO:function(){var r=function(e){return function(n,u){return n?Ru(void 0):e(u)}};return r}(),makePureEvent:function(){var r=function(e){return function(n,u){return e(function(i){return function(){return u(i)}})()}};return r}(),makeLemmingEvent:function(){var r=function(e){return function(n,u){var i=function(p){return function(_){return function(){return p(n,In(_))}}};return e(i)(function(p){return function(){return u(p)}})()}};return r}(),makeLemmingEventO:function(){var r=function(e){return function(n,u){var i=function(p,_){return p(n,_)};return e(i,u)}};return r}(),create:t,createPure:t,createPureO:rf,subscribe:function(){var r=function(e){return function(n){return function(){return e(!1,In(n))}}};return r}(),subscribeO:function(){var r=function(e,n){return e(!1,n)};return r}(),subscribePureO:function(){var r=function(e,n){return e(!0,n)};return r}(),subscribePure:function(){var r=function(){var e=function(n){return function(u){return function(){return n(!0,In(u))}}};return e}();return r}(),bus:function(){var r=function(e){return function(n,u){var i=zs(819)();return u(e(i.push)(i.event)),Ru(void 0)}};return r}(),memoize:function(){var r=function(e){return function(n){return function(u,i){var p=rf();return i(n(p.event)),e(u,p.push)}}};return r}(),hot:function(){var r=function(e){return function(){var u=zs(837)(),i=Bi(e)(u.push)();return{event:u.event,unsubscribe:i}}};return r}(),mailbox:function(){var r=function(e){return function(){var u=Gs(e)();return{event:u.event,push:function(i){return function(){return u.push(i)}}}}};return r}(),mailboxed:function(){var r=function(e){var n=Gs(e);return function(u){return function(i){return function(p,_){var l=n();return _(i(l.event)),u(p,l.push)}}}};return r}(),delay:function(){var r=function(e){return function(n){return function(u,i){var p=Vr(yS)(),_=n(u,function(l){var d=Vr(S.value)(),w=Us(e)(function(){i(l);var M=Cr(d)();return Kt(Ru(void 0))(function(R){return bi(gS(R))(p)})(M)()})();return zr(new y(w))(d)(),bi(SS(ws(w)))(p)()});return function(){var d=Cr(p)();return $S(d)(Bs)(),_()}}}};return r}()}}),zs=Vs("create","FRP.Event",function(){return function(){return void 0,function(r){return r}(Sp(461).create)()}}),Wi=Sp(678);var $p=function(t){return function(r){return r}(Wi.bus)(t)};var Sa=function(t){return function(r){return r}(Wi.makeEvent)(t)};var hp=function(t){return function(r){return r}(Wi.makeLemmingEvent)(t)},fn=function(t){return function(r){return r}(Wi.makeLemmingEventO)(t)};var nf=function(t){return function(r){return r}(Wi.memoize)(t)};var Js={apply:function(t){return function(r){return IS(t)(MS(ci)(r))}},Functor0:function(){return Bt}},PS=br(Js),LS=function(t){return{append:PS(B(t))}},ir={pure:function(t){return function(r,e){return e(t),Ru(void 0)}},Apply0:function(){return Js}},RS=P(ir);var uf=function(t){var r=LS(t.Semigroup0());return{mempty:RS(J(t)),Semigroup0:function(){return r}}};var ae={alt:function(t){return function(r){return function(e,n){return hS(CS(function(u){return function(i){return function(){return u(),i()}}})(function(){return t(e,n)}))(function(){return r(e,n)})()}}},Functor0:function(){return Bt}};var cn={empty:function(t,r){return Ru(void 0)},Alt0:function(){return ae}},OS={Applicative0:function(){return ir},Plus1:function(){return cn}},$a={keepLatest:xS,sampleOnRight:FS,sampleOnLeft:TS,fix:ES,Alternative0:function(){return OS},Filterable1:function(){return Ui}};var Fp=function(t){var r=Gr(t);return function(){return function(e){return function(n){return Ke(r(e))(n)}}}};var ze=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),ha=function(){function t(){}return t.value=new t,t}();var Tp=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),xp=function(){function t(){}return t.value=new t,t}(),Mp=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Ys=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Ep=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Nu=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),ie=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}();var Zn={eq:function(t){return function(r){return t instanceof ze&&r instanceof ze?t.value0===r.value0:t instanceof ha&&r instanceof ha}}};var wp=function(t){return new Ep(t)},Ca=function(t){return new Nu(t)};var Zs=function(t,r){for(var e=r[r.length-1],n=r.length-2;n>=0;n--)e=t(r[n])(e);return e},tm=function(t,r){for(var e=r[0],n=r.length,u=1;u<n;u++)e=t(e)(r[u]);return e},HS=function(){function t(p){this.fn=p}var r={},e=function(p,_){this.head=p,this.tail=_};function n(p){return new e(p,r)}function u(p){return function(_){return new e(p,_)}}function i(p){for(var _=[],l=p;l!==r;)_.push(l.head),l=l.tail;return _}return function(p,_,l){var d=function(x,M){return p(_(u)(l(x)))(M)},w=function(x,M,R){if(M===0)return x;var st=R[M-1];return new t(function(){var it=w(d(st,x),M-1,R);return it})};return function(x){for(var M=_(n)(l(x[x.length-1])),R=w(M,x.length-1,x);R instanceof t;)R=R.fn();return _(i)(R)}}}();var em=function(t){return t};var nm=Qn;var qi=Vt;var zS=wt,Fa={foldMap1:function(t){return fs(Fa)(qi)(t)},foldr1:Jn(Zs),foldl1:Jn(tm),Foldable0:function(){return zS}};var i$=dr(),o$=ep();var f$=em;var Gi=function(t){return t};var am=function(t){return function(r){return i$(t(Gi(r)))}},Ip=am(ap);var im=am(np);var Pp=function(t){return function(r){return t(Gi(r))}};var zi=Pp(Ue);var c$=function(t){var r=Pp(t);return function(e){return f$(r(e))}};var om=function(t){return c$(zo(t))};var fm=function(){return Pp(o$)},p$=fm(),cm=function(t){var r=Da(t);return function(e){var n=zi(e),u=function(i){return new T(p$(e)(i),function(){var p=i<(n-1|0);return p?new y(i+1|0):S.value}())};return r(u)(0)}};var Ta=function(t){return t.reflectType};function _m(t){return function(){var r={};for(var e in t)hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r}}var xa={};function Rp(t){return t()}function vm(t){return function(r){return function(e){return function(n){var u=e;function i(_){return function(l){return r(l)(_)(n[_])}}for(var p in n)hasOwnProperty.call(n,p)&&(u=t(u)(i(p)));return u}}}}function lf(t){return function(r){var e=[];for(var n in r)hasOwnProperty.call(r,n)&&e.push(t(n)(r[n]));return e}}var m$=Object.keys||lf(function(t){return function(){return t}});function Op(t){return function(r){return function(e){return function(){return e[t]=r,e}}}}var Np=function(t){return function(r){return function(){return delete r[t],r}}};var g$=yr(wt);var S$=lf(function(t){return function(r){return r}});var $$=_m;var sm=function(t){return function(r){return Rp(function(){var n=$$(r)();return t(n)(),n})}};var Ma=function(t){return function(r){return sm(Op(t)(r))}};var mm=vm(ci),h$=function(t){var r=B(t.Semigroup0()),e=J(t);return function(n){return mm(function(u){return function(i){return function(p){return r(u)(n(i)(p))}}})(e)}},bm={foldl:function(t){return mm(function(r){return function(e){return t(r)}})},foldr:function(t){return function(r){return function(e){return g$(t)(r)(S$(e))}}},foldMap:function(t){var r=h$(t);return function(e){return r(C(e))}}};var Up=function(t){return sm(Np(t))};var E$=Lu($a),w$=g(Bt),I$=Ou(wt);var P$=pt(Di);var Ea=P(Er),L$=g(Xr);var dm=Xn(Er),R$=dm(jn);var pn=qt(Xr);var O$=dm(wt);var N$=g(Vt),Am=B(Ic(xo)),U$=sa(Er)(wt),B$=B(Mr),W$=er(bm),H$=qn(Eo),km=function(){function t(){}return t.value=new t,t}(),Bp=function(){function t(){}return t.value=new t,t}(),q$=function(){function t(){}return t.value=new t,t}();var Ve=function(t){return function(r){return function(e){var n=function(u){return u(r)(e)};return function(u){if(u instanceof Ep)return I$(N$(Ve(t)(r)(e))(u.value0));if(u instanceof Nu)return E$(w$(Ve(t)(r)(e))(u.value0));if(u instanceof ie)return n(t.toElt(u.value0));if(u instanceof Ys)return fn(function(i,p){var _=$r(xa)(),l=i(u.value0,function(d){var w=t.ids(e)(),x=$r(Ea(void 0))(),M=t.ids(e)(),R=$r(Ea(void 0))(),st=$r([])(),it=$r(Ea(void 0))(),Ft=L$(ze.create)(function(){if(r.scope instanceof ha)return t.ids(e);if(r.scope instanceof ze)return Am(Ea(r.scope.value0))(Am(Ea("!"))(t.ids(e)));throw new Error("Failed pattern match at Bolson.Control (line 547, column 17 - line 549, column 67): "+[r.scope.constructor.name])}())(),Tt=$r(km.value)(),ar=i(d,function(Le){var V=sr(Tt)();if(Le instanceof Mp&&V instanceof Bp){var or=sr(st)();return U$(function(An){return function(){return p(t.doLogic(Le.value0)(e)(An))}})(or)()}if(Le instanceof xp&&V instanceof Bp){pn(Zr(q$.value)(Tt))();var Re=function(){var fu=sr(st)();O$(fu)(function(Bn){return R$(r.parent)(function(qr){return function(){return p(t.disconnectElement(e)({id:Bn,parent:qr,scope:Ft}))}})})();var Un=sr(x)();Un();var pc=sr(R)();return pc(),pn(Ne(Up(w))(_))(),pn(Ne(Up(M))(_))()};return pn(Zr(Re)(it))(),Re()}if(Le instanceof Tp&&V instanceof km){pn(Zr(Bp.value)(Tt))();var go=i(Ve(t)(function(){var An={};for(var fu in r)({}).hasOwnProperty.call(r,fu)&&(An[fu]=r[fu]);return An.scope=Ft,An.raiseId=function(Un){return pn(Ne(B$([Un]))(st))},An}())(e)(Le.value0),p);return pn(Ne(Ma(M)(go))(_))(),pn(Zr(go)(R))()}return void 0});pn(Zr(ar)(x))(),pn(Ne(Ma(w)(ar))(_))();var ke=sr(it)();return ke()});return function(){return P$(sr(_))(W$(H$)(Ea(void 0)))(),l()}});throw new Error("Failed pattern match at Bolson.Control (line 520, column 17 - line 610, column 20): "+[u.constructor.name])}}}};var _f=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}();var Wp=function(t){var r=!1,e;function n(u){if(u.value0 instanceof zt&&u.value1 instanceof zt)return r=!0,S.value;if(u.value0 instanceof zt){t=new _f(pp(u.value1),zt.value);return}if(u.value0 instanceof nr)return r=!0,new y(new T(u.value0.value0,new _f(u.value0.value1,u.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 82, column 1 - line 82, column 63): "+[u.constructor.name])}for(;!r;)e=n(t);return e},Hp=function(t){return function(r){return new _f(t.value0,new nr(r,t.value1))}};var ym=function(t){return t.value0 instanceof zt&&t.value1 instanceof zt};var qp=function(){return new _f(zt.value,zt.value)}();var wa=function(){function t(){}return t.value=new t,t}(),vf=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}();var Sm=function(t){return function(r){if(t instanceof wa)return r;if(r instanceof wa)return t;if(t instanceof vf)return new vf(t.value0,Hp(t.value1)(r));throw new Error("Failed pattern match at Data.CatList (line 108, column 1 - line 108, column 54): "+[t.constructor.name,r.constructor.name])}},V$=function(t){return function(r){return function(e){var n=function(i){return function(p){return function(_){var l=i,d=p,w=!1,x;function M(R,st,it){if(it instanceof zt)return w=!0,st;if(it instanceof nr){l=R,d=R(st)(it.value0),_=it.value1;return}throw new Error("Failed pattern match at Data.CatList (line 124, column 3 - line 124, column 59): "+[R.constructor.name,st.constructor.name,it.constructor.name])}for(;!w;)x=M(l,d,_);return x}}},u=function(i){return function(p){var _=i,l=!1,d;function w(x,M){var R=Wp(x);if(R instanceof S)return l=!0,n(function(st){return function(it){return it(st)}})(r)(M);if(R instanceof y){_=R.value0.value1,p=new nr(t(R.value0.value0),M);return}throw new Error("Failed pattern match at Data.CatList (line 120, column 14 - line 122, column 67): "+[R.constructor.name])}for(;!l;)d=w(_,p);return d}};return u(e)(zt.value)}}},$m=function(t){if(t instanceof wa)return S.value;if(t instanceof vf)return new y(new T(t.value0,function(){var r=ym(t.value1);return r?wa.value:V$(Sm)(wa.value)(t.value1)}()));throw new Error("Failed pattern match at Data.CatList (line 99, column 1 - line 99, column 61): "+[t.constructor.name])};var hm=function(){return wa.value}(),Cm=Sm;var Fm={append:Cm};var Tm=function(t){return function(r){return Cm(t)(new vf(r,qp))}};var j$=function(t,r,e){var n=0,u;return function(i){if(n===2)return u;if(n===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+r+", line "+i+")",r,i);return n=1,u=e(),n=2,u}},J$=B(Fm);var Gp=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}(),sf=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),ji=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}(),K$=function(t){var r=!1,e;function n(u){var i=function(l){return l},p=function(l){return function(d){return new Gp(l.value0,J$(l.value1)(d))}};if(u.value0 instanceof sf){var _=$m(u.value1);if(_ instanceof S)return r=!0,new sf(u.value0.value0);if(_ instanceof y){t=p(i(_.value0.value0)(u.value0.value0))(_.value0.value1);return}throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[_.constructor.name])}if(u.value0 instanceof ji)return r=!0,new ji(u.value0.value0,function(l){return p(u.value0.value1(l))(u.value1)});throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[u.value0.constructor.name])}for(;!r;)e=n(t);return e};var Q$=function(t){return function(r){return function(e){var n=K$(e);if(n instanceof sf)return r(n.value0);if(n instanceof ji)return t(n.value0)(n.value1);throw new Error("Failed pattern match at Control.Monad.Free (line 213, column 17 - line 215, column 20): "+[n.constructor.name])}}},xm=function(t){var r=g(t);return Q$(function(e){return function(n){return new Qt(r(n)(e))}})(Yt.create)},zp=function(t){return new Gp(t,hm)},Mm=function(t){return zp(new ji(t,N))};var Y$={Applicative0:function(){return Vp},Bind1:function(){return mf}},Z$={map:function(t){return function(r){return tn(mf)(function(){var e=P(Vp);return function(n){return e(t(n))}}())(r)}}},mf={bind:function(t){return function(r){return new Gp(t.value0,Tm(t.value1)(r))}},Apply0:function(){return Em(0)}},Vp={pure:function(t){return zp(sf.create(t))},Apply0:function(){return Em(0)}},Em=j$("freeApply","Control.Monad.Free",function(){return{apply:ve(Y$),Functor0:function(){return Z$}}});var th=P(Vp);var Br=function(t){return zp(new ji(t,function(r){return th(r)}))};var rh=dt(yt);var Ia={dimap:function(t){return function(r){return function(e){return function(n){return r(e(t(n)))}}}}},Pm=function(t){return t.dimap},Pa=function(t){var r=Pm(t);return function(e){return r(e)(rh)}};var eh=P(ir);var nh=function(t){return t},Pn=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Ji=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Df=function(){function t(){}return t.value=new t,t}(),uh=function(t){return t};var Af=Dr(),a=uh,kf=function(t){return function(r){return a({key:"data-"+t,value:new Pn(r)})}};var c=function(){return Pn.create}();var E=function(){return Ji.create}(),df=function(){var t=g(ne)(g($)(C(!0)));return function(r){return nh(t(r))}}(),Ki=function(t){return t.attr};var Wr=function(t){var r=Ki(t);return function(e){return function(n){return eh(r(e)(n))}}};var Lm=g(Bt),ah=Pa(Ia);var ih=Dr();var oh=function(t){return function(r){var e=function(n){var u=function(i){return i instanceof ie?new ie(ah(function(p){return{pos:t,dynFamily:p.dynFamily,ez:p.ez,parent:p.parent,raiseId:p.raiseId,scope:p.scope}})(i.value0)):i instanceof Nu?new Nu(Lm(u)(i.value0)):i};return u(n)};return e(r)}},Rm=function(t){return oh(y.create(t))};var Om=function(t){return $p(t)};var fh=function(t){var r=function(n){return new Nu(ih(n))},e=Om(t);return r(Lm(function(n){return n})(e))},Nm=function(t){return fh(la(t))};var Wm=g(Bt);var Xp=Ou(wt),La=P(ir),Hm=v(cn),qm=P(Er);var lh=Dr(),_h=jr(),vh=X(Zn),Gm=Gt(ae),sh=B(Mr),mh=Fn(Kn),Bm=g(ne);var bh=function(t){return function(r){return function(e){return Wm(function(n){return t.setText(function(u){return{id:r,text:u}}(n))})(e)}}},Dh=function(t){return function(r){return function(e){return Wm(function(n){return function(u){if(u.value instanceof Pn)return t.setProp({id:r,key:u.key,value:u.value.value0});if(u.value instanceof Ji)return t.setCb({id:r,key:u.key,value:u.value.value0});if(u.value instanceof Df)return t.unsetAttribute({id:r,key:u.key});throw new Error("Failed pattern match at Deku.Control (line 72, column 28 - line 75, column 47): "+[u.value.constructor.name])}(Af(n))})(e)}}};var Ah=function(t){var r=function(n){return function(u){return fn(function(i,p){var _=u.ids();n.raiseId(_)();var l=i(Xp([La(u.makeText({id:_,parent:n.parent,pos:n.pos,scope:n.scope,dynFamily:n.dynFamily})),bh(u)(_)(t),Kt(Hm)(function(d){return La(u.attributeParent({id:_,parent:d,pos:n.pos,dynFamily:n.dynFamily,ez:n.ez}))})(n.parent)]),p);return function(){return p(u.deleteFromCache({id:_})),l()}})}},e=new ie(r);return e},D=function(t){return Ah(La(t))};var kh=function(){return{doLogic:function(t){return function(r){return function(e){return r.sendToPos({id:e,pos:t})}}},ids:function(t){return function(r){return r.ids}(_h(t))},disconnectElement:function(t){return function(r){return t.disconnectElement({id:r.id,scope:r.scope,parent:r.parent,scopeEq:vh})}},toElt:function(t){return t}}},dh=kh();var zm=function(t){return function(r){return function(e){return Ve(dh)(t)(r)(e)}}},Vm=function(t){return function(r){var e=function(n){return function(u){return fn(function(i,p){return i(Gm(La(u.makeRoot({id:"deku-root",root:t})))(zm({parent:new y("deku-root"),scope:new ze("rootScope"),raiseId:function(_){return qm(void 0)},ez:!0,pos:S.value,dynFamily:S.value})(u)(n)),p)})}};return e(r)}},yh=function(t){return function(r){return function(e){var n=function(u){return function(i){return fn(function(p,_){var l=i.ids();u.raiseId(l)();var d=p(Gm(Xp(sh([La(i.makeElement({id:l,parent:u.parent,scope:u.scope,tag:t,pos:u.pos,dynFamily:u.dynFamily})),Dh(i)(l)(r)])(Kt([])(function(w){return[La(i.attributeParent({id:l,parent:w,pos:u.pos,dynFamily:u.dynFamily,ez:u.ez}))]})(u.parent))))(zm({parent:new y(l),scope:u.scope,ez:!0,raiseId:function(w){return qm(void 0)},pos:S.value,dynFamily:S.value})(i)(e)),_);return function(){return _(i.deleteFromCache({id:l})),d()}})}};return n}}},A=function(t){return function(r){return function(e){var n=function(i){return i.length===0?Hm:i.length===1?i[0]:Xp(i)},u=function(i){return new ie(yh(t)(n(r))(wp(lh(i))))};return u(mh(Bm(Bm(function(i){return i}))(Rm))(e))}}};var Xm=t=>r=>e=>()=>{if(e.units[r.id]){let n=e.units[r.parent].main;e.units[r.id].main&&e.units[r.id].main.parentNode||e.units[r.id].startBeacon&&e.units[r.id].startBeacon.parentNode||(r.ez?(()=>(e.units[r.id].main?n.appendChild(e.units[r.id].main):(n.appendChild(e.units[r.id].startBeacon),n.appendChild(e.units[r.id].endBeacon)),!0))():t(r.pos)(i=>()=>t(r.dynFamily)(p=>()=>{for(var _=0,l=0,d;l<n.childNodes.length;){if(n.childNodes[l].nodeType===8&&n.childNodes[l].nodeValue==="%-%"+p){l+=1;break}l++}let w=M=>{let R=n.childNodes[M];e.units[r.id].startBeacon?(n.insertBefore(e.units[r.id].startBeacon,R),n.insertBefore(e.units[r.id].endBeacon,R)):n.insertBefore(e.units[r.id].main,R)};for(;l<n.childNodes.length;){var x;if((x=n.childNodes[l].$dekuId)&&t(e.units[x].dynFamily)(R=>()=>t(e.units[x].pos)(it=>()=>p===R&&i<=it?(w(l),!0):!1)())())return!0;if(_===i||n.childNodes[l].nodeType===8&&n.childNodes[l].nodeValue==="%-%"+p+"%-%")return w(l),!0;n.childNodes[l].nodeType===8&&n.childNodes[l].nodeValue.substring(0,3)==="%-%"&&!d&&(d=n.childNodes[l].nodeValue+"%-%"),d||_++,n.childNodes[l].nodeType===8&&n.childNodes[l].nodeValue===d&&(d=void 0,_++),l++}return!1})())())||(r.parent.indexOf("@!%")!==-1?t(r.dynFamily)(p=>()=>(e.units[r.id].main?e.units[p].endBeacon.parentNode.insertBefore(e.units[r.id].main,e.units[p].endBeacon):(e.units[p].endBeacon.parentNode.insertBefore(e.units[r.id].endBeacon,e.units[p].endBeacon),e.units[p].endBeacon.parentNode.insertBefore(e.units[r.id].startBeacon,e.units[r.id].endBeacon)),!0))()||(e.units[r.id].main?n.parentNode.replaceChild(e.units[r.id].main,n):(n.parentNode.replaceChild(e.units[r.id].endBeacon,n),e.units[r.id].endBeacon.parentNode.insertBefore(e.units[r.id].startBeacon,e.units[r.id].endBeacon))):t(r.dynFamily)(p=>()=>(e.units[r.id].startBeacon?(n.insertBefore(e.units[r.id].startBeacon,e.units[p].endBeacon),n.insertBefore(e.units[r.id].endBeacon,e.units[p].endBeacon)):n.insertBefore(e.units[r.id].main,e.units[p].endBeacon),!0))()||(e.units[r.id].startBeacon?(n.appendChild(e.units[r.id].startBeacon),n.appendChild(e.units[r.id].endBeacon)):n.appendChild(e.units[r.id].main)))}};var jm=t=>r=>e=>n=>()=>{var u,i,p=e.id;if(n.scopes[e.scope]||(n.scopes[e.scope]=[]),n.scopes[e.scope].push(p),!t(e.parent)(()=>()=>n.hydrating&&r&&(u=n.allBeacons[e.id])&&(i=n.allBeacons[`${e.id}%-%`])?(n.units[p]={listeners:{},parent:e.parent,scope:e.scope,pos:e.pos,dynFamily:e.dynFamily,startBeacon:u,endBeacon:i},u.$dekuId=p,i.$dekuId=p,!0):!1)()){let l=document.createComment(`%-%${e.id}`),d=document.createComment(`%-%${e.id}%-%`);n.units[p]={listeners:{},parent:e.parent,dynFamily:e.dynFamily,scope:e.scope,pos:e.pos,startBeacon:l,endBeacon:d},l.$dekuId=p,d.$dekuId=p}},gh=new Set(["animate","animateMotion","animateTransform","circle","clipPath","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","title","tspan","use","view"]);var Jm=t=>r=>()=>r.units[t]&&r.units[t].dynFamily?r.units[t].dynFamily:(()=>{throw new Error(`No positional information for ${t}`)})(),Km=t=>r=>()=>r.units[t]&&r.units[t].main&&r.units[t].main.parentNode&&r.units[t].main.parentNode.$dekuId?r.units[t].main.parentNode.$dekuId:r.units[t]&&r.units[t].startBeacon&&r.units[t].startBeacon.parentNode&&r.units[t].startBeacon.parentNode.$dekuId?r.units[t].startBeacon.parentNode.$dekuId:(()=>{throw new Error(`No parent information for ${t}`)})(),jp=t=>r=>()=>r.units[t]&&r.units[t].scope?r.units[t].scope:(()=>{throw new Error(`No scope information for ${t}`)})(),Qm=t=>r=>e=>n=>()=>{var u,i=e.id;if(n.scopes[e.scope]||(n.scopes[e.scope]=[]),n.scopes[e.scope].push(i),!t(e.parent)(()=>()=>n.hydrating&&r&&(u=document.documentElement.querySelector(`[data-deku-ssr="${i}"]`))?(n.units[i]={listeners:{},pos:e.pos,parent:e.parent,scope:e.scope,dynFamily:e.dynFamily,main:u},u.$dekuId=i,!0):!1)()){let _=gh.has(e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag):document.createElement(e.tag);n.units[i]={listeners:{},parent:e.parent,pos:e.pos,scope:e.scope,dynFamily:e.dynFamily,main:_},_.$dekuId=i}},Ym=t=>r=>e=>n=>u=>()=>{var i=n.id,p;if(u.scopes[n.scope]||(u.scopes[n.scope]=[]),u.scopes[n.scope].push(i),!t(n.parent)(l=>()=>{if(u.hydrating&&r&&(p=document.documentElement.querySelector(`[data-deku-ssr="${l}"]`))){for(var d=0;d<p.childNodes.length;d++){let M=i.split("@-@");if(p.childNodes[d].nodeType===8&&p.childNodes[d].nodeValue===M[0]){var w=d===0||p.childNodes[d-1].nodeType!==3;w&&d!==0?p.insertBefore(document.createTextNode(""),p.childNodes[d]):w?p.prepend(document.createTextNode("")):d=d-1;break}}let x=p.childNodes[d];return u.units[i]={main:x,pos:n.pos,parent:n.parent,scope:n.scope},x.$dekuId=i,!0}return!1})()){let l=document.createTextNode("");u.units[i]={main:l,parent:n.parent,scope:n.scope,pos:n.pos,dynFamily:n.dynFamily},l.$dekuId=i}};function Jp(){return{units:{},scopes:{},allBeacons:{}}}var Zm=t=>r=>e=>()=>{if(e.units[r.id]){var n=r.id,u=r.value;e.hydrating&&t&&!e.units[n]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${n}"]`))&&(e.units[n]={listeners:{},parent:r.parent,scope:r.scope,main:dom},e.scopes[r.scope]||(e.scopes[r.scope]=[]),e.scopes[r.scope].push(n)),e.units[n].main.tagName==="INPUT"&&r.key==="value"||e.units[n].main.tagName==="TEXTAREA"&&r.key==="value"?e.units[n].main.value=u:e.units[n].main.tagName==="INPUT"&&r.key==="checked"?e.units[n].main.checked=u==="true":r.key==="disabled"?e.units[n].main.disabled=u==="true":e.units[n].main.setAttribute(r.key,u)}},tb=t=>r=>e=>()=>{if(e.units[r.id]){var n=r.id,u=r.value;if(e.hydrating&&t&&!e.units[n]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${n}"]`))&&(e.units[n]={listeners:{},parent:r.parent,scope:r.scope,main:dom},e.scopes[r.scope]||(e.scopes[r.scope]=[]),e.scopes[r.scope].push(n)),r.key==="@self@")u(e.units[n].main)();else{e.units[n].listeners[r.key]&&e.units[n].main.removeEventListener(r.key,e.units[n].listeners[r.key]);var i=p=>u(p)();e.units[n].main.addEventListener(r.key,i),e.units[n].listeners[r.key]=i}}},rb=t=>r=>e=>()=>{if(e.units[r.id]){var n=r.id;e.hydrating&&t&&!e.units[n]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${n}"]`))&&(e.units[n]={listeners:{},parent:r.parent,scope:r.scope,main:dom},e.scopes[r.scope]||(e.scopes[r.scope]=[]),e.scopes[r.scope].push(n)),e.units[n].main.removeAttribute(r.key)}},eb=t=>r=>()=>{if(r.units[t.id]){var e=t.id;r.units[e].main.nodeValue=t.text}},nb=t=>r=>e=>n=>u=>()=>{var i,p,_=n.id,l=n.html,d=n.verb,w=n.cache,x=n.parent,M=n.scope,R=n.pxScope;let st=t(n.parent)(()=>()=>u.hydrating&&r&&(i=document.documentElement.querySelector(`[data-deku-ssr="${_}"]`))?(u.units[_]={listeners:{},pos:n.pos,scope:M,parent:x,main:i},i.$dekuId=_,!0):!1)();if(!st){let Ft=Object.entries(w);for(var it=0;it<Ft.length;it++){let Tt=Ft[it][0];Ft[it][1]===!0?l=l.replace(d+Tt+d,'data-deku-attr-internal="'+Tt+'"'):l=l.replace(d+Tt+d,'<span style="display:contents;" data-deku-elt-internal="'+Tt+'"></span>')}p=document.createElement("div"),p.innerHTML=l.trim(),u.units[_]={listeners:{},pos:n.pos,scope:M,parent:x,main:p.firstChild},p.firstChild.$dekuId=_}u.scopes[M]||(u.scopes[M]=[]),u.scopes[M].push(_),p||(p=i),p.querySelectorAll("[data-deku-attr-internal]").forEach(function(Ft){var Tt=Ft.getAttribute("data-deku-attr-internal");let ar=Tt+"@!%"+R;u.units[ar]={listeners:{},main:Ft,scope:M},u.scopes[M].push(ar)}),p.querySelectorAll("[data-deku-elt-internal]").forEach(function(Ft){var Tt=Ft.getAttribute("data-deku-elt-internal");let ar=Tt+"@!%"+R;u.units[Tt+"@!%"+R]={listeners:{},main:Ft,scope:M},u.scopes[M].push(ar)}),st||u.units[_].main.remove()},ub=t=>r=>()=>{var e=t.id;r.units[e]={main:t.root},t.root.$dekuId=e},Kp=t=>r=>e=>n=>()=>{let u=(st,it,Ft)=>{if(n.units[st].startBeacon){var Tt=n.units[st].startBeacon,ar=Tt.nextSibling;for(n.units[it].main.insertBefore(Tt,Ft),Tt=ar;Tt&&Tt!==n.units[st].endBeacon;)ar=Tt.nextSibling,n.units[it].main.insertBefore(Tt,Ft),Tt=ar}else n.units[it].main.insertBefore(n.units[st].main,Ft)},i=[];i.push(e);for(var p=0;p<i.length;p++){let st=i[p],it=st.id,Ft=st.parent;n.units[it].containingScope=st.scope;var _=void 0;r(st.pos)(ar=>()=>(_=ar,!0))(),_===void 0&&(_=Number.MAX_VALUE);let Tt=n.units[Ft].main.childNodes;for(var l=0,d=!1,w=0;l<Tt.length;){var x;if(x=Tt[l].$dekuId){if(r(st.dynFamily)(ke=>()=>d?!1:n.units[x].endBeacon===Tt[l]&&ke===x?(n.units[it].pos=t(w),u(it,Ft,Tt[l]),!0):!1)()){d=!0;break}if(n.units[x].dynFamily!==n.units[it].dynFamily){l++;continue}if(d){l++;continue}w===_?(u(it,Ft,Tt[l]),w++,d=!0):n.units[x].endBeacon!==Tt[l]&&(n.units[x].pos=t(w),w++)}l++}if(d)return;if(n.units[it].main)n.units[Ft].main.appendChild(n.units[it].main);else{var M=n.units[it].startBeacon,R=M.nextSibling;for(n.units[Ft].main.appendChild(M),M=R;M&&M!==n.units[it].endBeacon;)R=M.nextSibling,n.units[Ft].main.appendChild(M),M=R}}},ab=t=>r=>()=>{if(r.units[t.id]){var e=t.id;if(r.units[e].containingScope&&!t.scopeEq(r.units[e].containingScope)(t.scope))return;if(r.units[e].main)r.units[e].main.remove();else{let i=document.createElement("div");var n=r.units[e].startBeacon,u=n.nextSibling;for(i.appendChild(n),n=u;n&&n!==r.units[e].endBeacon;)u=n.nextSibling,i.appendChild(n),n=u;n===r.units[e].endBeacon&&i.appendChild(n)}}},ib=t=>r=>()=>r.units[t]!==void 0,Qp=t=>r=>()=>{r.units[t.id]&&delete r.units[t.id]},ob=Qp;function fb(t,r){return r.includes(t)}var RU=typeof Array.from=="function",OU=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",NU=typeof String.prototype.fromCodePoint=="function",UU=typeof String.prototype.codePointAt=="function";var Ln=function(t){var r=P(t.Applicative0()),e=v(t.Plus1());return function(n){if(n)return r(void 0);if(!n)return e;throw new Error("Failed pattern match at Control.Alternative (line 48, column 1 - line 48, column 54): "+[n.constructor.name])}};var Fh=se(Au),Th=Se(Au),xh=pt(hr),Mh=I(Zt),Eh=Ln(zn);var wh=function(t){return t.succ};var Ih=function(t){return t.pred};var pb={succ:function(t){var r=t<Fh;return r?new y(t+1|0):S.value},pred:function(t){var r=t>Th;return r?new y(t-1|0):S.value},Ord0:function(){return Ht}},Yp=function(t){var r=t.Ord0(),e=X(r.Eq0()),n=sc(r),u=wh(t),i=mc(r),p=Ih(t),_=O_(r);return function(l){var d=rp(l),w=Da(l),x=function(M){return function(R){return function(st){return function(it){return new T(it,xh(M(it))(function(Ft){return Mh(Eh(R(Ft)(st)))(Ft)}))}}}};return function(M){return function(R){if(e(M)(R))return d(M);if(n(M)(R))return w(x(u)(i)(R))(M);if(vr)return w(x(p)(_)(R))(M);throw new Error("Failed pattern match at Data.Enum (line 186, column 14 - line 190, column 51): "+[M.constructor.name,R.constructor.name])}}}};var lb=function(t){return function(r){return function(e){return(e|0)===e?t(e):r}}},ur=function(t){return t};var yf=isFinite;var Zp=function(t){return function(r){return Math.atan2(t,r)}};var tl=Math.cos;var rl=Math.floor;var Yi=function(t){return function(r){return t%r}};var el=Math.sin;var Zi=3.141592653589793;var _b=se(Au),vb=Se(Au);var nl=function(){return lb(y.create)(S.value)}(),Bh=function(t){if(!yf(t))return 0;if(t>=ur(_b))return _b;if(t<=ur(vb))return vb;if(vr)return kr(0)(nl(t));throw new Error("Failed pattern match at Data.Int (line 72, column 1 - line 72, column 29): "+[t.constructor.name])};var Ra=function(t){return Bh(rl(t))};var Na=function(t){return t.toLowerCase()};var Cb=function(t){return t()};var Fb=function(t){throw new Error(t)};var Tb=function(){return Fb};var aC=Tb(),iC=Cb,Bu=function(t){return iC(function(){return aC(t)})};var xb=function(t){return function(r){return fb(t,r)}};var fl=Math.random;var Ff=function(t){return function(r){return function(){var n=fl(),u=(ur(r)-ur(t)+1)*n+ur(t);return Ra(u)}}};var pC=Ce(me),lC=dr();var Eb=function(t){return t};var _C=1,cl=2147483647,vC=function(){return cl-1|0}(),wb=function(t){var r=function(e){return function(n){return function(u){var i=n-e|0,p=pC(u)(i),_=p<e;return _?p+n|0:p}}};return r(_C)(vC)(t)};var sC=0,mC=48271,Ib=function(t){return function(r){return lC(nl(Yi(ur(mC)*ur(r)+ur(t))(ur(cl))))}},Pb=Ib(sC);var Rn=function(t){return t.state};var If=function(t){var r=g(t);return{map:function(e){return function(n){return function(u){return r(function(i){return new T(e(i.value0),i.value1)})(n(u))}}}}};var vl=function(t){return{Applicative0:function(){return ml(t)},Bind1:function(){return sl(t)}}},sl=function(t){var r=pt(t.Bind1());return{bind:function(e){return function(n){return function(u){return r(e(u))(function(i){var p=n(i.value0);return p(i.value1)})}}},Apply0:function(){return Pf(t)}}},Pf=function(t){var r=If(t.Bind1().Apply0().Functor0());return{apply:ve(vl(t)),Functor0:function(){return r}}},ml=function(t){var r=P(t.Applicative0());return{pure:function(e){return function(n){return r(new T(e,n))}},Apply0:function(){return Pf(t)}}};var bl=function(t){var r=P(t.Applicative0()),e=vl(t);return{state:function(n){return function(u){return r(n(u))}},Monad0:function(){return e}}};var zb=function(t){return function(r){var e=t(r);return e.value0}};var OC=bl(si),NC=Rn(OC);var UC=If(gu);var BC=pe(fi);var WC=gr(fi);var HC=function(t){return t};var qC=function(){var t=function(r){return new T(Eb(r.newSeed),function(){var e={};for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e.newSeed=Pb(r.newSeed),e}())};return NC(t)}();var jb=UC,Lf=g(jb);var Jb=function(t){return zb(HC(t))};var Kb=Pf(si),GC=Ct(Kb),Xb=function(t){return function(r){var e=ur(r),n=ur(t),u=function(_){return n+Yi(_)(e-n+1)},i=Lf(ur)(qC),p=GC(Lf(WC)(i))(Lf(BC(2))(i));return Lf(function(_){return Ra(u(_))})(p)}},Qb=function(t){return function(r){var e=t<=r;return e?Xb(t)(r):Xb(r)(t)}};var tD=function(t){return t.arbitrary};var rD=function(){return{arbitrary:Qb(-1e6)(1e6)}}();var eD=g(Bt),JC=g(ne),KC=g($),QC=qt(Xr);var YC=at(rn),ZC=tD(rD),tF=gr(vu);var Rf=P(ue),rF=J(Vn(mv(Sn))),eF=v(cn),nD=Dr(),nF=jr(),uF=X(Zn),aF=na(mf),Jr=P(ir);var oe=function(t){return t},uD={map:function(t){return function(r){return eD(JC(KC(t)))(r)}}};var Gu=function(t){return function(r){return t instanceof y?r(t.value0):Rf(!1)}},iF=function(t){return function(r){return function(){var n=jp(t.id)(r)(),u=Km(t.id)(r)(),i=Jm(t.id)(r)(),p={scope:n,parent:u,dynFamily:i,id:t.id,pos:new y(t.pos),ez:!1,raiseId:rF,ctor:Ca(eF)};return nD(Kp(y.create)(Gu)(p))(r)()}}},oF=function(t){return function(r){return function(e){return Ve({doLogic:function(n){return function(u){return function(i){return u.sendToPos({id:i,pos:n})}}},ids:function(n){return function(u){return u.ids}(nF(n))},disconnectElement:function(n){return function(u){return n.disconnectElement({id:u.id,scope:u.scope,parent:u.parent,scopeEq:uF})}},toElt:function(n){return n}})(t)(r)(nD(e))}}},fF=function(t){return function(r){return function(e){return function(n){return aF(Br(Jr(function(u){var i=function(){var _=eD(function(l){return function(d){return Rf(l)}})(oF({dynFamily:n.dynFamily,ez:n.ez,parent:new y(n.parent),pos:n.pos,raiseId:n.raiseId,scope:n.scope})(t)(n.ctor));return Rf(Mm(_))}(),p=Rf(Br(Jr(Kp(r)(e)(n))));return function(){var l=ib(n.id)(u)();if(l){var d=jp(n.id)(u)();if(d instanceof ha)return p();if(d instanceof ze&&n.scope instanceof ze){var w=xb(d.value0)(n.scope.value0);return w?p():i()}return i()}return i()}})))}}}},aD=function(t){var r={ids:function(){var n=sr(t)(),u=YC(Jb(ZC)({newSeed:wb(n),size:5}));return QC(Ne(tF(1))(t))(),u},makeElement:function(){var e=Qm(Gu)(!1);return function(n){return Br(oe(Jr(e(n))))}}(),makeDynBeacon:function(){var e=jm(Gu)(!1);return function(n){return Br(oe(Jr(e(n))))}}(),attributeParent:function(){var e=Xm(Gu);return function(n){return Br(oe(Jr(e(n))))}}(),makeRoot:function(e){return Br(oe(Jr(ub(e))))},makeText:function(){var e=Ym(Gu)(!1)(Kt(void 0));return function(n){return Br(oe(Jr(e(n))))}}(),makePursx:function(){var e=nb(Gu)(!1)(Kt(void 0));return function(n){return Br(oe(Jr(e(n))))}}(),setProp:function(){var e=Zm(!1);return function(n){return Br(oe(Jr(e(n))))}}(),setCb:function(){var e=tb(!1);return function(n){return Br(oe(Jr(e(n))))}}(),unsetAttribute:function(){var e=rb(!1);return function(n){return Br(oe(Jr(e(n))))}}(),setText:function(e){return Br(oe(Jr(eb(e))))},sendToPos:function(e){return Br(oe(Jr(iF(e))))},removeDynBeacon:function(e){return Br(oe(Jr(ob(e))))},deleteFromCache:function(e){return Br(oe(Jr(Qp(e))))},giveNewParent:function(e){return fF(r)(y.create)(Gu)(e)},disconnectElement:function(e){return Br(oe(Jr(ab(e))))}};return r};var Al=function(){return window};function oD(t,r,e){return t==null?r:e(t)}var Ir=function(t){return oD(t,S.value,y.create)};function fD(t){return t.body}var SF=g($);var cD=function(t){return SF(Ir)(function(){return fD(t)})};var pD=N;function kl(t){return function(){return t.document}}var _D=Lu($a),vD=g(Bt),eT=xm(uD),sD=$n(Sn),nT=J(uf(Vn(sD))),uT=P(ue),dl=pt(oa),aT=Jt($),iT=$u(Su),oT=J($n(sD)),fT=g(Zt),cT=qt($);var pT=function(t){var r=function(u){var i=vD(e(u));return function(p){return _D(i(p))}},e=function(u){return function(i){return function(p){if(p instanceof Qt)return _D(vD(n(u))(p.value0));if(p instanceof Yt)return nT;throw new Error("Failed pattern match at Deku.Toplevel (line 47, column 21 - line 49, column 22): "+[p.constructor.name])}(eT(i))}},n=function(u){return function(i){return r(u+1|0)(Sa(function(p){return function(){return void 0,dl(i(t))(p)(),uT(void 0)}}))}};return r(0)},lT=function(t){return function(r){return function(){var n=Jp(),u=aT(iT($r(0)))(function(){var i=Vm(t)(r);return function(p){return i(aD(p))}}())();return Bi(pT(n)(u))(function(i){return i(n)})()}}},mD=function(t){return function(){var e=dl(dl(Al)(kl))(cD)();return Kt(oT)(function(n){return lT(n)(t)})(fT(pD)(e))()}},bD=function(t){return cT(mD(t))};var yl=function(){function t(){}return t.value=new t,t}();var DD={attr:function(t){return function(r){return a({key:"class",value:c(r)})}}};var AD={attr:function(t){return function(r){return a({key:"class",value:c(r)})}}};var nu={attr:function(t){return function(r){return a({key:"class",value:c(r)})}}};var kD={attr:function(t){return function(r){return a({key:"class",value:c(r)})}}};var Nf=function(){function t(){}return t.value=new t,t}();var dD={attr:function(t){return function(r){return a({key:"href",value:c(r)})}}};var gl=function(){function t(){}return t.value=new t,t}();var Ha={attr:function(t){return function(r){return a({key:"style",value:c(r)})}}};var gD=Jt(Bt),SD=P(ir),io=function(t){var r=Ki(t);return function(e){return gD(e)(function(n){return r(gl.value)(n)})}},Uf=function(t){var r=io(t);return function(e){return r(SD(e))}},$l=function(t){var r=Ki(t);return function(e){return gD(e)(function(n){return r(yl.value)(n)})}},uu=function(t){var r=$l(t);return function(e){return r(SD(e))}};var mT=Jt(Bt),$D=Dr();var bT={append:function(t){return function(r){if(t==="")return r;if(r==="")return t;if(vr)return t+(" "+r);throw new Error("Failed pattern match at ClassName (line 31, column 1 - line 39, column 13): "+[t.constructor.name,r.constructor.name])}}},DT={mempty:"",Semigroup0:function(){return bT}},AT=Ar(wt)(uf(DT)),On=function(t){return function(r){return mT(t)(function(e){return e?r:""})}},qa=function(t){var r=$l(t),e=AT($D);return function(n){return r($D(e(n)))}};var Ga=void 0;var Cl=function(t){return t.toInt},Hf=function(t){var r=Cl(t);return function(e){return r(Ga)}};var hD={toInt:function(t){return 5}},qf={Nat0:function(){return hD}};var CD={toInt:function(t){return 1}},Ie={Nat0:function(){return CD}};var FD=function(t){return function(r){return Ga}},Fl=function(t){var r=FD(t);return function(e){var n=Cl(e);return function(u){return function(i){return 10*i|0}(n(r(u)))}}};var oo=function(t){var r=t.Nat0();return{toInt:function(e){return Fl(oo(t))(r)(e)+4|0}}};var TD=function(t){var r=t.Nat0();return{toInt:function(e){return Fl(TD(t))(r)(e)+8|0}}},Pe=function(t){var r=TD(t);return{Nat0:function(){return r}}};var rM=Yp(pb)(Aa),ln=function(t){return Hf(t)(St.value)},fo=function(t){var r=ln(t);return rM(0)(r-1|0)};var xD=function(t){return function(r){return r.join(t)}};var nM=B(Mr),xl={genericShowArgs:function(t){return[]}};var uM=function(t){return t.genericShowArgs};var Ml=function(t){var r=uM(t);return function(e){var n=Gr(e);return{"genericShow'":function(u){var i=n(St.value),p=r(u);return p.length===0?i:"("+(xD(" ")(nM([i])(p))+")")}}}},Tl=function(t){return t["genericShow'"]};var zu=function(t){var r=Tl(t);return function(e){var n=Tl(e);return{"genericShow'":function(u){if(u instanceof Or)return r(u.value0);if(u instanceof Et)return n(u.value0);throw new Error("Failed pattern match at Data.Show.Generic (line 26, column 1 - line 28, column 40): "+[u.constructor.name])}}}},El=function(t){var r=Sc(t);return function(e){var n=Tl(e);return function(u){return n(r(u))}}};var iM=Dr(),oM=X(lu),ED=Ce(me),fM=yn(me),wl=function(){function t(){}return t.value=new t,t}(),Il=function(){function t(){}return t.value=new t,t}(),Gf=function(){function t(){}return t.value=new t,t}(),cM=function(){function t(){}return t.value=new t,t}();var za=function(t){return{inhabitants:iM(fo(t.Nat0()))}};var wD={eq:function(t){return function(r){return t===r}}},je=function(t){return t},pM=function(){var t=oM(0);return function(r){return t(function(e){return ED(e)(2)}(r))}}(),_n=function(t){var r=ln(t.Nat0());return function(e){return ED(e)(r)}},Pl=function(t){var r=_n(t);return{zero:0,one:r(1),add:function(e){return function(n){return r(e+n|0)}},mul:function(e){return function(n){return r(e*n|0)}}}},Ll=function(t){var r=_n(t),e=Pl(t);return{sub:function(n){return function(u){return r(n-u|0)}},Semiring0:function(){return e}}};var ID=function(t){var r=ln(t.Nat0()),e=kn(Ll(t));return function(n){return function(u){var i=fM(r)(2),p=je(e(u)(n)),_=p===0;if(_)return Gf.value;var l=pM(r)&&p===i;if(l)return cM.value;var d=p<=i;return d?wl.value:Il.value}}};var vn=function(t){return t.inhabitants};var Rl=function(t){return{head:t.value0,tail:t.value1}};var lM=wu(Ht),_M=Ko(Ht)(wt),vM=g(Vt);var Vf=function(t){return function(r){return kr(r)(lM(r)(t))}};var sM=function(t){var r=fo(t);return{append:function(e){return function(n){var u=function(){var i=Vf(n),p=Vf(e);return function(_){return i(p(_))}}();return _M(vM(function(i){return new T(i,u(i))})(r))}}}};var mM=on,LD=function(t){var r=sM(t);return{mempty:mM,Semigroup0:function(){return r}}};var RD=function(t){var r=fo(t);return function(e){return r}};var Xa=Ml(xl);var bM=X(wD),DM=dr(),Xf=Pe(Ie),WD=_n(Xf),AM=yn(me),kM=Ce(me),HD=Jt(Zt),qD=wu(Ht),GD=Ko(Ht),dM=vn(za(Xf)),zD=GD(wt),VD=Jt(Vt),yM=gr(Pl(Xf)),Bl=Gt($c),ND=qn(du),Nl=Ln(zn),Ul=P(he),gM=le(_e)(hr),SM=tn(hr),$M=os(Fa),hM=su(Ht),CM=cm(ks),UD=g(qi),FM=xn(nm)(he),TM=Ci(wt)(Cn),xM=Jt(qi),MM=Fs(En),EM=RD(oo(qf)),wM=pt(hr),Dt=function(){function t(){}return t.value=new t,t}(),_t=function(){function t(){}return t.value=new t,t}(),kt=function(){function t(){}return t.value=new t,t}();var Pr=function(){function t(){}return t.value=new t,t}(),Lr=function(){function t(){}return t.value=new t,t}(),Kr=function(){function t(){}return t.value=new t,t}(),Qr=function(){function t(){}return t.value=new t,t}(),Yr=function(){function t(){}return t.value=new t,t}(),fe=function(){function t(){}return t.value=new t,t}();var XD=function(){function t(){}return t.value=new t,t}(),jD=function(){function t(){}return t.value=new t,t}(),Wl=function(){function t(r){this.value0=r}return t.create=function(r){return new t(r)},t}(),Hl=function(){function t(r,e){this.value0=r,this.value1=e}return t.create=function(r){return function(e){return new t(r,e)}},t}(),JD={toPerm:dt(yt)};var IM={to:function(t){if(t instanceof Or)return Pr.value;if(t instanceof Et&&t.value0 instanceof Or)return Lr.value;if(t instanceof Et&&t.value0 instanceof Et&&t.value0.value0 instanceof Or)return Kr.value;if(t instanceof Et&&t.value0 instanceof Et&&t.value0.value0 instanceof Et&&t.value0.value0.value0 instanceof Or)return Qr.value;if(t instanceof Et&&t.value0 instanceof Et&&t.value0.value0 instanceof Et&&t.value0.value0.value0 instanceof Et&&t.value0.value0.value0.value0 instanceof Or)return Yr.value;if(t instanceof Et&&t.value0 instanceof Et&&t.value0.value0 instanceof Et&&t.value0.value0.value0 instanceof Et&&t.value0.value0.value0.value0 instanceof Et)return fe.value;throw new Error("Failed pattern match at Data.Gemini (line 117, column 1 - line 117, column 32): "+[t.constructor.name])},from:function(t){if(t instanceof Pr)return new Or(en.value);if(t instanceof Lr)return new Et(new Or(en.value));if(t instanceof Kr)return new Et(new Et(new Or(en.value)));if(t instanceof Qr)return new Et(new Et(new Et(new Or(en.value))));if(t instanceof Yr)return new Et(new Et(new Et(new Et(new Or(en.value)))));if(t instanceof fe)return new Et(new Et(new Et(new Et(new Et(en.value)))));throw new Error("Failed pattern match at Data.Gemini (line 117, column 1 - line 117, column 32): "+[t.constructor.name])}},jf={show:El(IM)(zu(Xa({reflectSymbol:function(){return"White"}}))(zu(Xa({reflectSymbol:function(){return"Yellow"}}))(zu(Xa({reflectSymbol:function(){return"Black"}}))(zu(Xa({reflectSymbol:function(){return"Red"}}))(zu(Xa({reflectSymbol:function(){return"Green"}}))(Xa({reflectSymbol:function(){return"Blue"}})))))))};var ja=function(){return{inhabitants:[Dt.value,_t.value,kt.value]}}(),Ja={eq:function(t){return function(r){return t instanceof Dt&&r instanceof Dt||t instanceof _t&&r instanceof _t||t instanceof kt&&r instanceof kt}}},KD=X(Ja),PM={compare:function(t){return function(r){if(t instanceof Dt&&r instanceof Dt)return ct.value;if(t instanceof Dt)return K.value;if(r instanceof Dt)return Q.value;if(t instanceof _t&&r instanceof _t)return ct.value;if(t instanceof _t)return K.value;if(r instanceof _t)return Q.value;if(t instanceof kt&&r instanceof kt)return ct.value;throw new Error("Failed pattern match at Data.Gemini (line 0, column 0 - line 0, column 0): "+[t.constructor.name,r.constructor.name])}},Eq0:function(){return Ja}},LM=su(PM),QD={eq:function(t){return function(r){return bM(t.position)(r.position)&&KD(t.ring)(r.ring)}}},YD=X(QD),BD=oi(QD),RM={eq:function(t){return function(r){return t instanceof Pr&&r instanceof Pr||t instanceof Lr&&r instanceof Lr||t instanceof Kr&&r instanceof Kr||t instanceof Qr&&r instanceof Qr||t instanceof Yr&&r instanceof Yr||t instanceof fe&&r instanceof fe}}},OM={compare:function(t){return function(r){if(t instanceof Pr&&r instanceof Pr)return ct.value;if(t instanceof Pr)return K.value;if(r instanceof Pr)return Q.value;if(t instanceof Lr&&r instanceof Lr)return ct.value;if(t instanceof Lr)return K.value;if(r instanceof Lr)return Q.value;if(t instanceof Kr&&r instanceof Kr)return ct.value;if(t instanceof Kr)return K.value;if(r instanceof Kr)return Q.value;if(t instanceof Qr&&r instanceof Qr)return ct.value;if(t instanceof Qr)return K.value;if(r instanceof Qr)return Q.value;if(t instanceof Yr&&r instanceof Yr)return ct.value;if(t instanceof Yr)return K.value;if(r instanceof Yr)return Q.value;if(t instanceof fe&&r instanceof fe)return ct.value;throw new Error("Failed pattern match at Data.Gemini (line 0, column 0 - line 0, column 0): "+[t.constructor.name,r.constructor.name])}},Eq0:function(){return RM}},NM=su(OM),UM=function(t){return DM(t)},Ol=function(t){return t},ql=function(t){return t.toPerm},Je=function(t){var r=function(e){if(e instanceof Dt)return 0;if(e instanceof _t)return 1;if(e instanceof kt)return 2;throw new Error("Failed pattern match at Data.Gemini (line 227, column 15 - line 230, column 19): "+[e.constructor.name])};return(r(t.ring)*18|0)+je(t.position)|0},U=function(t){return function(r){return{ring:t,position:WD(r)}}},BM=function(t){var r=ID(t),e=kn(Ll(t));return function(n){return function(u){var i=function(d){return function(w){var x=r(d)(w);return x instanceof wl||x instanceof Gf}},p=function(d){return function(w){var x=r(d)(w);return x instanceof Il||x instanceof Gf}},_=function(d){return function(w){return function(x){var M=d,R=w,st=!1,it;function Ft(Tt,ar,ke){var Le=function(or){return function(Re){if(i(or)(ar)&&je(e(ke)(or))<n){M=Re,R=or,x=ke;return}if(p(or)(ke)&&je(e(or)(ar))<n){M=Re,R=ar,x=or;return}if(i(or)(ke)&&p(or)(ar)){M=Re,R=ar,x=ke;return}if(vr)return st=!0,!1;throw new Error("Failed pattern match at Data.Gemini (line 413, column 5 - line 420, column 26): "+[or.constructor.name,Re.constructor.name])}},V=cp(Tt);if(V instanceof S)return st=!0,!0;if(V instanceof y)return Le(V.value0.head)(V.value0.tail);throw new Error("Failed pattern match at Data.Gemini (line 409, column 5 - line 411, column 47): "+[V.constructor.name])}for(;!st;)it=Ft(M,R,x);return it}}},l=Rl(u);return _(l.tail)(l.head)(l.head)}}},WM=BM(Xf),HM=function(t){return function(r){return new T(AM(t)(r),kM(t)(r))}},ZD=function(t){var r=HM(t)(18),e=function(){return r.value0===0?Dt.value:r.value0===1?_t.value:r.value0===2?kt.value:Bu("indexToLocation")}();return{ring:e,position:WD(r.value1)}},lt=function(t){return function(r){return{color:t,label:r}}},tA=function(){return[{canonical:U(Dt.value)(2),alternate:U(_t.value)(16)},{canonical:U(Dt.value)(7),alternate:U(_t.value)(11)},{canonical:U(_t.value)(2),alternate:U(kt.value)(16)},{canonical:U(_t.value)(7),alternate:U(kt.value)(11)}]}(),rA=function(t){return kr(t)(HD(Ei(function(r){return YD(r.alternate)(t)})(tA))(function(r){return r.canonical}))},po=function(t){return Je(rA(t))},Jf=function(t){return function(r){return UM(qD(po(t))(r))}},qM=function(t){var r=g(t);return function(e){var n=GD(e);return function(u){return n(r(function(i){return new T(po(i.value0),i.value1)})(u))}}},eA=function(){return qM(Vt)(wt)([new T(U(Dt.value)(12),lt(Qr.value)(1)),new T(U(Dt.value)(13),lt(Qr.value)(2)),new T(U(Dt.value)(14),lt(Qr.value)(3)),new T(U(Dt.value)(15),lt(Qr.value)(4)),new T(U(Dt.value)(16),lt(Qr.value)(5)),new T(U(Dt.value)(17),lt(Qr.value)(6)),new T(U(Dt.value)(0),lt(Qr.value)(7)),new T(U(Dt.value)(1),lt(Qr.value)(8)),new T(U(Dt.value)(3),lt(Lr.value)(1)),new T(U(Dt.value)(4),lt(Lr.value)(2)),new T(U(Dt.value)(5),lt(Lr.value)(3)),new T(U(Dt.value)(6),lt(Lr.value)(4)),new T(U(Dt.value)(7),lt(Lr.value)(5)),new T(U(Dt.value)(8),lt(Lr.value)(6)),new T(U(Dt.value)(9),lt(Lr.value)(7)),new T(U(Dt.value)(10),lt(Lr.value)(8)),new T(U(Dt.value)(11),lt(Lr.value)(9)),new T(U(_t.value)(12),lt(Kr.value)(1)),new T(U(_t.value)(13),lt(Kr.value)(2)),new T(U(_t.value)(14),lt(Kr.value)(3)),new T(U(_t.value)(15),lt(Kr.value)(4)),new T(U(_t.value)(16),lt(Kr.value)(5)),new T(U(_t.value)(17),lt(Kr.value)(6)),new T(U(_t.value)(0),lt(Kr.value)(7)),new T(U(_t.value)(1),lt(Kr.value)(8)),new T(U(_t.value)(3),lt(fe.value)(1)),new T(U(_t.value)(4),lt(fe.value)(2)),new T(U(_t.value)(5),lt(fe.value)(3)),new T(U(_t.value)(6),lt(fe.value)(4)),new T(U(_t.value)(7),lt(fe.value)(5)),new T(U(_t.value)(8),lt(fe.value)(6)),new T(U(_t.value)(9),lt(fe.value)(7)),new T(U(_t.value)(10),lt(fe.value)(8)),new T(U(kt.value)(3),lt(Yr.value)(1)),new T(U(kt.value)(4),lt(Yr.value)(2)),new T(U(kt.value)(5),lt(Yr.value)(3)),new T(U(kt.value)(6),lt(Yr.value)(4)),new T(U(kt.value)(7),lt(Yr.value)(5)),new T(U(kt.value)(8),lt(Yr.value)(6)),new T(U(kt.value)(9),lt(Yr.value)(7)),new T(U(kt.value)(10),lt(Yr.value)(8)),new T(U(kt.value)(12),lt(Pr.value)(1)),new T(U(kt.value)(13),lt(Pr.value)(2)),new T(U(kt.value)(14),lt(Pr.value)(3)),new T(U(kt.value)(15),lt(Pr.value)(4)),new T(U(kt.value)(16),lt(Pr.value)(5)),new T(U(kt.value)(17),lt(Pr.value)(6)),new T(U(kt.value)(0),lt(Pr.value)(7)),new T(U(kt.value)(1),lt(Pr.value)(8)),new T(U(kt.value)(2),lt(Pr.value)(9))])}(),lo={toPerm:function(t){return zD(VD(dM)(function(r){var e=U(t.ring)(je(r)),n=U(t.ring)(je(yM(r)(t.amount)));return new T(po(e),po(n))}))}},GM=function(t){return kr(t)(HD(Ei(function(r){return YD(r.canonical)(t)})(tA))(function(r){return r.alternate}))},Gl=function(t){var r=rA(t),e=GM(t);return Bl(ND(Nl(BD(e)(t)))(Ul(e)))(ND(Nl(BD(r)(t)))(Ul(r)))},nA=function(t){var r=Gl(t);if(r instanceof S)return new Wl(t);if(r instanceof y)return new Hl(t,r.value0);throw new Error("Failed pattern match at Data.Gemini (line 204, column 3 - line 206, column 37): "+[r.constructor.name])},zM=function(t){return function(r){var e=function(n){return gM(Nl(KD(n.ring)(t)))(function(){return Ul(n)})};return Bl(e(r))(SM(e)(Gl(r)))}},VM=function(t){return function(r){var e=om(LM(function(_){return function(l){return l.ring}(Ol(_))}))(r),n=zi(e),u=function(_){return _.ring}(Ol(Ip($M(hM(zi))(e)))),i=function(_){return _ instanceof Pr||_ instanceof Lr?9:8},p=n>2;return p?!1:Kt(!1)(function(){var _=WM(i(t)),l=UD(function(d){return function(w){return w.position}(Ol(d))});return function(d){return _(CM(l(d)))}}())(FM(UD(zM(u))(r)))}},uA=function(t){return TM(function(r){var e=im(r);return VM(e.head.value1.color)(xM(r)(function(n){return ZD(n.value0)}))})(zo(NM(function(r){return r.value1.color}))(MM(t)))},XM=function(){var t=g(Zt)(po);return function(r){return t(Gl(ZD(r)))}}(),jM=function(t){return function(r){var e=Rt(qD)(r),n=VD(EM(t))(function(u){var i=Bl(e(u))(wM(XM(u))(e));if(i instanceof S)return Bu("wat");if(i instanceof y)return new T(Vf(t)(u),i.value0);throw new Error("Failed pattern match at Data.Gemini (line 328, column 11 - line 330, column 45): "+[i.constructor.name])});return zD(n)}},_o=function(t){var r=ql(t);return function(e){return jM(r(e))}};var JM=I($),zl=function(){function t(){}return t.value=new t,t}();var aA={attr:function(t){return function(r){return a({key:"click",value:E(C(JM(r)(!0)))})}}};var Vl=function(){function t(){}return t.value=new t,t}();var iA={attr:function(t){return function(r){return a({key:"keydown",value:E(r)})}}};var Xl=function(){function t(){}return t.value=new t,t}();var oA={attr:function(t){return function(r){return a({key:"pointercancel",value:E(r)})}}};var jl=function(){function t(){}return t.value=new t,t}();var fA={attr:function(t){return function(r){return a({key:"pointerdown",value:E(r)})}}};var Jl=function(){function t(){}return t.value=new t,t}();var cA={attr:function(t){return function(r){return a({key:"pointerleave",value:E(r)})}}};var Kl=function(){function t(){}return t.value=new t,t}();var pA={attr:function(t){return function(r){return a({key:"pointermove",value:E(r)})}}};var Ql=function(){function t(){}return t.value=new t,t}();var lA={attr:function(t){return function(r){return a({key:"pointerup",value:E(r)})}}};var Yl=function(){function t(){}return t.value=new t,t}();var _A={attr:function(t){return function(r){return a({key:"touchcancel",value:E(r)})}}};var Zl=function(){function t(){}return t.value=new t,t}();var vA={attr:function(t){return function(r){return a({key:"touchend",value:E(r)})}}};var t_=function(){function t(){}return t.value=new t,t}();var sA={attr:function(t){return function(r){return a({key:"touchmove",value:E(r)})}}};var r_=function(){function t(){}return t.value=new t,t}();var mA={attr:function(t){return function(r){return a({key:"touchstart",value:E(r)})}}};var e_=function(){function t(){}return t.value=new t,t}();var bA={attr:function(t){return function(r){return a({key:"src",value:c(r)})}}};var Xu=A("div");var n_=function(){function t(){}return t.value=new t,t}();var AA={attr:function(t){return function(r){return a({key:"@self@",value:E(r)})}}};var sn=function(t){return function(r){return t(r)}};function a_(t){return t.key}var _E=at(rn),Ka=function(t){return df(function(r){return t(function(e){return e.changedTouches.item(0)}(r))})},kA=g(Bt)(function(t){return a({key:"tabIndex",value:new Pn(_E(t))})}),ju=function(t){return df(function(r){return t(r)})},dA=function(t){return df(function(r){return t(r)})},yA=function(){return P(ir)(a({key:"autofocus",value:new Pn("")}))}();var Ju=function(){var t={},r="Pure",e="Throw",n="Catch",u="Sync",i="Async",p="Bind",_="Bracket",l="Fork",d="Sequential",w="Map",x="Apply",M="Alt",R="Cons",st="Resume",it="Release",Ft="Finalizer",Tt="Finalized",ar="Forked",ke="Fiber",Le="Thunk";function V(z,Ot,pr,Wt){this.tag=z,this._1=Ot,this._2=pr,this._3=Wt}function or(z){var Ot=function(pr,Wt,Y){return new V(z,pr,Wt,Y)};return Ot.tag=z,Ot}function Re(z){return new V(r,void 0)}function go(z){try{z()}catch(Ot){setTimeout(function(){throw Ot},0)}}function An(z,Ot,pr){try{return Ot(pr())}catch(Wt){return z(Wt)}}function fu(z,Ot,pr){try{return Ot(pr)()}catch(Wt){return pr(z(Wt))(),Re}}var Un=function(){var z=1024,Ot=0,pr=0,Wt=new Array(z),Y=!1;function H(){var Nt;for(Y=!0;Ot!==0;)Ot--,Nt=Wt[pr],Wt[pr]=void 0,pr=(pr+1)%z,Nt();Y=!1}return{isDraining:function(){return Y},enqueue:function(Nt){var gt,fr;Ot===z&&(fr=Y,H(),Y=fr),Wt[(pr+Ot)%z]=Nt,Ot++,Y||H()}}}();function pc(z){var Ot={},pr=0,Wt=0;return{register:function(Y){var H=pr++;Y.onComplete({rethrow:!0,handler:function(Nt){return function(){Wt--,delete Ot[H]}}})(),Ot[H]=Y,Wt++},isEmpty:function(){return Wt===0},killAll:function(Y,H){return function(){if(Wt===0)return H();var Nt=0,gt={};function fr(jt){gt[jt]=Ot[jt].kill(Y,function(mr){return function(){delete gt[jt],Nt--,z.isLeft(mr)&&z.fromLeft(mr)&&setTimeout(function(){throw z.fromLeft(mr)},0),Nt===0&&H()}})()}for(var Tr in Ot)Ot.hasOwnProperty(Tr)&&(Nt++,fr(Tr));return Ot={},pr=0,Wt=0,function(jt){return new V(u,function(){for(var mr in gt)gt.hasOwnProperty(mr)&&gt[mr]()})}}}}}var Bn=0,qr=1,So=2,$o=3,ho=4,ce=5,ai=6;function lc(z,Ot,pr){var Wt=0,Y=Bn,H=pr,Nt=null,gt=null,fr=null,Tr=null,jt=null,mr=0,cu=0,de=null,Wn=!0;function Hn(Z){for(var et,Mt,Lt;;)switch(et=null,Mt=null,Lt=null,Y){case So:Y=qr;try{H=fr(H),Tr===null?fr=null:(fr=Tr._1,Tr=Tr._2)}catch(Rr){Y=ce,Nt=z.left(Rr),H=null}break;case $o:z.isLeft(H)?(Y=ce,Nt=H,H=null):fr===null?Y=ce:(Y=So,H=z.fromRight(H));break;case qr:switch(H.tag){case p:fr&&(Tr=new V(R,fr,Tr)),fr=H._2,Y=qr,H=H._1;break;case r:fr===null?(Y=ce,H=z.right(H._1)):(Y=So,H=H._1);break;case u:Y=$o,H=An(z.left,z.right,H._1);break;case i:Y=ho,H=fu(z.left,H._1,function(Rr){return function(){Wt===Z&&(Wt++,Un.enqueue(function(){Wt===Z+1&&(Y=$o,H=Rr,Hn(Wt))}))}});return;case e:Y=ce,Nt=z.left(H._1),H=null;break;case n:fr===null?jt=new V(R,H,jt,gt):jt=new V(R,H,new V(R,new V(st,fr,Tr),jt,gt),gt),fr=null,Tr=null,Y=qr,H=H._1;break;case _:mr++,fr===null?jt=new V(R,H,jt,gt):jt=new V(R,H,new V(R,new V(st,fr,Tr),jt,gt),gt),fr=null,Tr=null,Y=qr,H=H._1;break;case l:Y=$o,et=lc(z,Ot,H._2),Ot&&Ot.register(et),H._1&&et.run(),H=z.right(et);break;case d:Y=qr,H=Dk(z,Ot,H._1);break}break;case ce:if(fr=null,Tr=null,jt===null)Y=ai,H=gt||Nt||H;else switch(et=jt._3,Lt=jt._1,jt=jt._2,Lt.tag){case n:gt&&gt!==et&&mr===0?Y=ce:Nt&&(Y=qr,H=Lt._2(z.fromLeft(Nt)),Nt=null);break;case st:gt&&gt!==et&&mr===0||Nt?Y=ce:(fr=Lt._1,Tr=Lt._2,Y=So,H=z.fromRight(H));break;case _:mr--,Nt===null&&(Mt=z.fromRight(H),jt=new V(R,new V(it,Lt._2,Mt),jt,et),(gt===et||mr>0)&&(Y=qr,H=Lt._3(Mt)));break;case it:jt=new V(R,new V(Tt,H,Nt),jt,gt),Y=qr,gt&&gt!==et&&mr===0?H=Lt._1.killed(z.fromLeft(gt))(Lt._2):Nt?H=Lt._1.failed(z.fromLeft(Nt))(Lt._2):H=Lt._1.completed(z.fromRight(H))(Lt._2),Nt=null,mr++;break;case Ft:mr++,jt=new V(R,new V(Tt,H,Nt),jt,gt),Y=qr,H=Lt._1;break;case Tt:mr--,Y=ce,H=Lt._1,Nt=Lt._2;break}break;case ai:for(var _r in de)de.hasOwnProperty(_r)&&(Wn=Wn&&de[_r].rethrow,go(de[_r].handler(H)));de=null,gt&&Nt?setTimeout(function(){throw z.fromLeft(Nt)},0):z.isLeft(H)&&Wn&&setTimeout(function(){if(Wn)throw z.fromLeft(H)},0);return;case Bn:Y=qr;break;case ho:return}}function lr(Z){return function(){if(Y===ai)return Wn=Wn&&Z.rethrow,Z.handler(H)(),function(){};var et=cu++;return de=de||{},de[et]=Z,function(){de!==null&&delete de[et]}}}function ot(Z,et){return function(){if(Y===ai)return et(z.right(void 0))(),function(){};var Mt=lr({rethrow:!1,handler:function(){return et(z.right(void 0))}})();switch(Y){case Bn:gt=z.left(Z),Y=ai,H=gt,Hn(Wt);break;case ho:gt===null&&(gt=z.left(Z)),mr===0&&(Y===ho&&(jt=new V(R,new V(Ft,H(Z)),jt,gt)),Y=ce,H=null,Nt=null,Hn(++Wt));break;default:gt===null&&(gt=z.left(Z)),mr===0&&(Y=ce,H=null,Nt=null)}return Mt}}function ht(Z){return function(){var et=lr({rethrow:!1,handler:Z})();return Y===Bn&&Hn(Wt),et}}return{kill:ot,join:ht,onComplete:lr,isSuspended:function(){return Y===Bn},run:function(){Y===Bn&&(Un.isDraining()?Hn(Wt):Un.enqueue(function(){Hn(Wt)}))}}}function bk(z,Ot,pr,Wt){var Y=0,H={},Nt=0,gt={},fr=new Error("[ParAff] Early exit"),Tr=null,jt=t;function mr(lr,ot,ht){var Z=ot,et=null,Mt=null,Lt=0,_r={},Rr,ii;t:for(;;)switch(Rr=null,Z.tag){case ar:if(Z._3===t&&(Rr=H[Z._1],_r[Lt++]=Rr.kill(lr,function(Ak){return function(){Lt--,Lt===0&&ht(Ak)()}})),et===null)break t;Z=et._2,Mt===null?et=null:(et=Mt._1,Mt=Mt._2);break;case w:Z=Z._2;break;case x:case M:et&&(Mt=new V(R,et,Mt)),et=Z,Z=Z._1;break}if(Lt===0)ht(z.right(void 0))();else for(ii=0,Rr=Lt;ii<Rr;ii++)_r[ii]=_r[ii]();return _r}function cu(lr,ot,ht){var Z,et,Mt,Lt,_r,Rr;for(z.isLeft(lr)?(Z=lr,et=null):(et=lr,Z=null);;){if(Mt=null,Lt=null,_r=null,Rr=null,Tr!==null)return;if(ot===null){Wt(Z||et)();return}if(ot._3!==t)return;switch(ot.tag){case w:Z===null?(ot._3=z.right(ot._1(z.fromRight(et))),et=ot._3):ot._3=Z;break;case x:if(Mt=ot._1._3,Lt=ot._2._3,Z){if(ot._3=Z,_r=!0,Rr=Nt++,gt[Rr]=mr(fr,Z===Mt?ot._2:ot._1,function(){return function(){delete gt[Rr],_r?_r=!1:ht===null?cu(Z,null,null):cu(Z,ht._1,ht._2)}}),_r){_r=!1;return}}else{if(Mt===t||Lt===t)return;et=z.right(z.fromRight(Mt)(z.fromRight(Lt))),ot._3=et}break;case M:if(Mt=ot._1._3,Lt=ot._2._3,Mt===t&&z.isLeft(Lt)||Lt===t&&z.isLeft(Mt))return;if(Mt!==t&&z.isLeft(Mt)&&Lt!==t&&z.isLeft(Lt))Z=et===Mt?Lt:Mt,et=null,ot._3=Z;else if(ot._3=et,_r=!0,Rr=Nt++,gt[Rr]=mr(fr,et===Mt?ot._2:ot._1,function(){return function(){delete gt[Rr],_r?_r=!1:ht===null?cu(et,null,null):cu(et,ht._1,ht._2)}}),_r){_r=!1;return}break}ht===null?ot=null:(ot=ht._1,ht=ht._2)}}function de(lr){return function(ot){return function(){delete H[lr._1],lr._3=ot,cu(ot,lr._2._1,lr._2._2)}}}function Wn(){var lr=qr,ot=pr,ht=null,Z=null,et,Mt;t:for(;;)switch(et=null,Mt=null,lr){case qr:switch(ot.tag){case w:ht&&(Z=new V(R,ht,Z)),ht=new V(w,ot._1,t,t),ot=ot._2;break;case x:ht&&(Z=new V(R,ht,Z)),ht=new V(x,t,ot._2,t),ot=ot._1;break;case M:ht&&(Z=new V(R,ht,Z)),ht=new V(M,t,ot._2,t),ot=ot._1;break;default:Mt=Y++,lr=ce,et=ot,ot=new V(ar,Mt,new V(R,ht,Z),t),et=lc(z,Ot,et),et.onComplete({rethrow:!1,handler:de(ot)})(),H[Mt]=et,Ot&&Ot.register(et)}break;case ce:if(ht===null)break t;ht._1===t?(ht._1=ot,lr=qr,ot=ht._2,ht._2=t):(ht._2=ot,ot=ht,Z===null?ht=null:(ht=Z._1,Z=Z._2))}for(jt=ot,Mt=0;Mt<Y;Mt++)H[Mt].run()}function Hn(lr,ot){Tr=z.left(lr);var ht;for(var Z in gt)if(gt.hasOwnProperty(Z)){ht=gt[Z];for(Z in ht)ht.hasOwnProperty(Z)&&ht[Z]()}gt=null;var et=mr(lr,jt,ot);return function(Mt){return new V(i,function(Lt){return function(){for(var _r in et)et.hasOwnProperty(_r)&&et[_r]();return Re}})}}return Wn(),function(lr){return new V(i,function(ot){return function(){return Hn(lr,ot)}})}}function Dk(z,Ot,pr){return new V(i,function(Wt){return function(){return bk(z,Ot,pr,Wt)}})}return V.EMPTY=t,V.Pure=or(r),V.Throw=or(e),V.Catch=or(n),V.Sync=or(u),V.Async=or(i),V.Bind=or(p),V.Bracket=or(_),V.Fork=or(l),V.Seq=or(d),V.ParMap=or(w),V.ParApply=or(x),V.ParAlt=or(M),V.Fiber=lc,V.Supervisor=pc,V.Scheduler=Un,V.nonCanceler=Re,V}(),vE=Ju.Pure,sE=Ju.Throw;var mE=Ju.Sync;var gA=Ju.Async;var bE=function(){function t(e,n){return e===0&&typeof setImmediate<"u"?setImmediate(n):setTimeout(n,e)}function r(e,n){return e===0&&typeof clearImmediate<"u"?clearImmediate(n):clearTimeout(n)}return function(e,n){return Ju.Async(function(u){return function(){var i=t(n,u(e()));return function(){return Ju.Sync(function(){return e(r(n,i))})}}})}}(),DE=Ju.Seq;var Kf=function(t){return t()};var IE=$u(Su),PE=qt(Xr),Qf=g(Bt),LE=Gt(ae),RE=P(ir);var OE=Nm,Yf=function(t){return function(r){return function(e){var n=hp(function(p){return function(_){return function(){var d=$r(t)();return _(e(IE(sr(d))))(),p(r)(function(w){return PE(Zr(w)(d))})()}}}),u=Qf(function(p){return p})(n),i=Ca(Qf(function(p){return p})(u));return i}}};var NE=function(t){return function(r){var e=nf(t)(r),n=Qf(function(i){return i})(e),u=Ca(Qf(function(i){return i})(n));return u}},CA=function(t){return function(r){return sn(OE)(function(e){return sn(NE(LE(e.value1)(RE(t))))(function(n){return r(new T(e.value0,n))})})}};var f_=v(cn),UE=Ou(wt),TA=P(ir),BE=P(Er),WE={reflectType:function(){return"~"}},xA=Gt(ae),HE=g(Bt),qE=Pa(Ia),GE=jr(),zE=X(Zn),VE=Dr();var Ku={pursxToElement:function(t){return function(r){return function(e){return{cache:xa,element:new ie(function(n){return function(u){return f_}})}}}}},c_=function(t){return t.pursxToElement},mn=function(){return St.value}(),p_=function(t){var r=function(e){return e instanceof ie?e.value0:function(n){return function(u){return f_}}};return r(t)},XE=function(t){var r=Ta(t);return function(e){var n=Ta(e);return function(){return function(){return function(u){var i=c_(u);return function(p){return function(_){return function(l){var d=function(x){return function(M){return fn(function(R,st){var it=M.ids(),Ft=M.ids();x.raiseId(it)();var Tt=i(Ft)(St.value)(l),ar=p_(Tt.element),ke=R(UE([TA(M.makePursx({id:it,parent:x.parent,cache:Tt.cache,dynFamily:x.dynFamily,pos:x.pos,pxScope:Ft,scope:x.scope,html:r(_),verb:n(p)})),ar(x)(M),Kt(f_)(function(Le){return TA(M.attributeParent({id:it,parent:Le,pos:x.pos,dynFamily:x.dynFamily,ez:!1}))})(x.parent)]),st);return function(){return st(M.deleteFromCache({id:it})),ke()}})}},w=new ie(d);return w}}}}}}}},bn=function(t){var r=XE(t)(WE)()();return function(){return function(){return function(e){return r(e)(St.value)}}}};var Qa=function(){return function(t){var r=c_(t);return function(e){var n=Ta(e);return function(u){var i=Fp(u)();return{pursxToElement:function(p){return function(_){return function(l){var d=r(p)(St.value)(l);return{cache:Ma(n(St.value))(!0)(d.cache),element:new ie(function(w){return function(x){return xA(HE(qE(Af)(function(M){if(M.value instanceof Pn)return x.setProp({id:n(St.value)+("@!%"+p),key:M.key,value:M.value.value0});if(M.value instanceof Ji)return x.setCb({id:n(St.value)+("@!%"+p),key:M.key,value:M.value.value0});if(M.value instanceof Df)return x.unsetAttribute({id:n(St.value)+("@!%"+p),key:M.key});throw new Error("Failed pattern match at Deku.Pursx (line 2487, column 52 - line 2504, column 38): "+[M.value.constructor.name])}))(i(St.value)(l)))(function(){var M=p_(d.element);return M}()(w)(x))}})}}}}}}}}};var jE=function(t){return function(r){return function(e){return Ve({doLogic:function(n){return function(u){return function(i){return u.sendToPos({id:i,pos:n})}}},ids:function(n){return function(u){return u.ids}(GE(n))},disconnectElement:function(n){return function(u){return n.disconnectElement({id:u.id,scope:u.scope,parent:u.parent,scopeEq:zE})}},toElt:function(n){return n}})(t)(r)(VE(e))}}},MA=function(){return function(t){var r=c_(t);return function(e){var n=Ta(e);return function(u){var i=Fp(u)();return{pursxToElement:function(p){return function(_){return function(l){var d=r(p)(St.value)(l);return{cache:Ma(n(St.value))(!1)(d.cache),element:new ie(function(w){return function(x){return xA(jE({parent:new y(n(St.value)+("@!%"+p)),scope:w.scope,raiseId:function(M){return BE(void 0)},pos:w.pos,ez:!1,dynFamily:S.value})(x)(function(M){return M}(i(St.value)(l))))(function(){var M=p_(d.element);return M}()(w)(x))}})}}}}}}}}};var Ya=_n(Pe(Ie)),EA=function(t){return{amount:Ya(-t|0),ring:kt.value}},wA=function(t){return{amount:Ya(t),ring:kt.value}},IA=function(t){return{amount:Ya(-t|0),ring:Dt.value}},PA=function(t){return{amount:Ya(t),ring:Dt.value}},LA=function(t){return{amount:Ya(-t|0),ring:_t.value}},RA=function(t){return{amount:Ya(t),ring:_t.value}};var vo=function(t){return function(){console.log(t)}};var __=function(t){return function(r){return sn(CA(t))(function(e){return sn(Yf(t)(e.value1))(function(n){return r({event:e.value1,ref:n,pusher:e.value0})})})}},Dn=function(t){return t.event},Zf=function(t){return function(r){return t.pusher(r)}},Za=function(t){return t.ref},so=function(t){return function(r){return function(){var n=t.ref();return t.pusher(r(n))()}}};var ew=dr(),nw=ps(ue)(En)(Qn),uw=Ct(mi),aw=g($),iw=_n(Pe(Ie)),ow=Ar(wt)(LD(oo(qf))),fw=ql(lo),cw=_o(JD),pw=_o(lo),lw=function(t){return function(r){return ew(wn(t)(r))}},OA=function(t){var r=vn(ja);return function(){var n=nw(1e3)(uw(aw(function(i){return function(p){return{ring:lw(r)(p),amount:iw(i)}}})(Ff(1)(17)))(Ff(0)(2)))(),u=ow(fw)(n);return so(t)(cw(u))()}},NA=function(t){var r=function(e){return function(){so(t)(pw(e))();var u=Za(t)(),i=uA(u);return i?vo("solved!")():void 0}};return function(e){return function(n){return n==="q"?r(IA(1)):n==="w"?r(PA(1)):n==="t"?r(LA(1)):n==="y"?r(RA(1)):n==="o"?r(EA(1)):n==="p"?r(wA(1)):vo(n)}(a_(e))}};var tc=function(){function t(){}return t.value=new t,t}(),UA=function(){function t(){}return t.value=new t,t}(),iu=function(){function t(){}return t.value=new t,t}();var Qu={append:function(t){return function(r){return t+r}}},Yu={mempty:0,Semigroup0:function(){return Qu}},ti={invert:function(t){return-t},Monoid0:function(){return Yu}},vw=function(t){return t*2*Zi},rc=function(t){return el(t)},sw=function(t){return t/(2*Zi)},mw=function(t){return t*180/Zi},bw=function(t){return t*Zi/180},ec=function(t){return tl(t)},bo=function(t){return function(r){if(r instanceof UA)return t;if(r instanceof tc)return bw(t);if(r instanceof iu)return vw(t);throw new Error("Failed pattern match at Data.Angle (line 23, column 3 - line 26, column 38): "+[r.constructor.name])}},BA=function(t){return function(r){if(r instanceof UA)return t;if(r instanceof tc)return mw(t);if(r instanceof iu)return sw(t);throw new Error("Failed pattern match at Data.Angle (line 30, column 3 - line 33, column 36): "+[r.constructor.name])}},WA=function(t){return function(r){return Zp(t)(r)}};var Nn=function(t){return t.invert};var Zu={append:function(t){return function(r){return{x:t.x+r.x,y:t.y+r.y}}}},s_={mempty:{x:0,y:0},Semigroup0:function(){return Zu}},ri={invert:function(t){return{x:-t.x,y:-t.y}},Monoid0:function(){return s_}},ei=function(t){return WA(t.y)(t.x)};var Dw=Jt($),Aw=B(Zu),kw=Nn(ri),dw=J(Yu),yw=B(Qu),gw=Nn(ti),Sw=_o(lo),$w=function(t){return function(r){return Dw(t)(function(e){return e.ringCenter(r)})}},HA=function(t){return{x:t.clientX,y:t.clientY}},ac=function(t){return function(r){var e=HA(r);return function(){var u=Za(t.drag)();if(u instanceof S)return void 0;if(u instanceof y)return Zf(t.drag)(new y({currentPoint:e,chosen:u.value0.chosen,initialPoint:u.value0.initialPoint,location:u.value0.location}))();throw new Error("Failed pattern match at Gemini.Component.Puzzle.Actions (line 46, column 3 - line 54, column 14): "+[u.constructor.name])}}},ic=function(t){return function(r){var e=HA(r);return Zf(t.drag)(new y({location:nA(t.location),chosen:S.value,initialPoint:e,currentPoint:e}))}},ou=function(t){if(t.location instanceof Wl)return t.location.value0;if(t.location instanceof Hl){if(t.chosen instanceof y&&t.chosen.value0 instanceof XD)return t.location.value0;if(t.chosen instanceof y&&t.chosen.value0 instanceof jD)return t.location.value1;if(t.chosen instanceof S)return t.location.value0;throw new Error("Failed pattern match at Gemini.Component.Puzzle.Actions (line 123, column 7 - line 127, column 24): "+[t.chosen.constructor.name])}throw new Error("Failed pattern match at Gemini.Component.Puzzle.Actions (line 120, column 3 - line 127, column 24): "+[t.location.constructor.name])},hw=function(t){var r=function(e){return function(n){return function(){var i=$w(t.domInfo)(e)(),p=Aw(n)(kw(i));return ei(p)}}};return function(){var n=Za(t.drag)();if(n instanceof S)return dw;if(n instanceof y){var u=ou(n.value0),i=r(u.ring)(n.value0.initialPoint)(),p=r(u.ring)(n.value0.currentPoint)();return yw(p)(gw(i))}throw new Error("Failed pattern match at Gemini.Component.Puzzle.Actions (line 100, column 3 - line 106, column 43): "+[n.constructor.name])}},Cw=function(t){var r=ln(t.Nat0()),e=_n(t);return function(n){var u=BA(n)(iu.value),i=ur(r);return e(Ra(i*u+.5))}},Fw=Cw(Pe(Ie)),ni=function(t){return function(r){return function(){ac(t)(r)();var n=Za(t.drag)();if(n instanceof S)return void 0;if(n instanceof y){var u=hw(t)(),i=ou(n.value0),p=Fw(u),_={amount:p,ring:i.ring};return Zf(t.drag)(S.value)(),so(t.gemini)(Sw(_))()}throw new Error("Failed pattern match at Gemini.Component.Puzzle.Actions (line 71, column 3 - line 79, column 56): "+[n.constructor.name])}}};var ta=window.matchMedia("(pointer: coarse), (hover: none)").matches;var oc=typeof module>"u"?void 0:module.require,k7t=function(){try{return oc===void 0?void 0:oc("util")}catch{return}}();var d7t=function(){var t;if(typeof performance<"u")t=performance;else if(oc)try{t=oc("perf_hooks").performance}catch{}return function(){return(t||Date).now()}}();var Mw=Y_(oa);var ui=function(t){return function(r){return Sa(function(e){return function(){var u=Bi(t)(Mw(r)(e))();return u}})}};var d_=Yo(wt)(Ht),Do=g(Vt),Ew=Jt($),ww=J(Yu),Iw=pt(hr),Pw=le(_e)(hr),Lw=Ln(zn),Rw=X(Ja),Ow=Nn(ri),Nw=B(Zu),Uw=P(he),y_=B(Qu),Bw=Nn(ti),qA=at(_i),Ww=Qo(Ht),VA=Pe(Ie),GA=Jt(Bt),Hw=at(jf),qw=bn({reflectType:function(){return"<div ~diskAttrs~ />"}})()()(Qa()(Ku)({reflectType:function(){return"diskAttrs"}})({reflectSymbol:function(){return"diskAttrs"}})),D_=Gt(ae),Gw=qa(nu),k_=P(ir),A_=g(Bt),zw=io(Ha),Vw=Wr(fA),Xw=vn(za(VA)),zA=uu(nu),jw=Uf(Ha),Jw=vn(ja),Kw=function(t){if(t instanceof Dt)return"left: 14.9%";if(t instanceof kt)return"right: 14.9%";if(t instanceof _t)return"";throw new Error("Failed pattern match at Gemini.Component.Puzzle (line 109, column 3 - line 112, column 21): "+[t.constructor.name])},Qw=function(){return d_(Do(Je)([U(_t.value)(2),U(_t.value)(7)]))}(),Yw=function(){return d_(Do(Je)([U(_t.value)(16),U(_t.value)(11)]))}(),Zw=function(t){return ui(Dn(t.drag))(function(r){return Ew(t.domInfo)(function(e){return{drag:r,domInfo:e}})})},t0=function(t){return function(r){return kr(ww)(Iw(r.drag)(function(e){var n=ou(e);return Pw(Lw(Rw(t)(n.ring)))(function(){var u=Ow(r.domInfo.ringCenter(n.ring)),i=function(){var p=Nw(u);return function(_){return ei(p(_))}}();return Uw(y_(i(e.currentPoint))(Bw(i(e.initialPoint))))})}))}},r0=function(t){var r=43*(1+ec(t)),e=43*(1+rc(t));return"left: "+(qA(r)+("%; top: "+(qA(e)+"%")))},e0=function(){return d_(Do(Je)([U(Dt.value)(2),U(Dt.value)(7),U(kt.value)(16),U(kt.value)(11)]))}(),n0=function(t){var r=ou(t);if(r.ring instanceof Dt)return Yw;if(r.ring instanceof _t)return e0;if(r.ring instanceof kt)return Qw;throw new Error("Failed pattern match at Gemini.Component.Puzzle (line 116, column 3 - line 119, column 32): "+[r.ring.constructor.name])},u0=function(t){return function(r){if(r instanceof S)return!1;if(r instanceof y)return Ww(Je(t))(n0(r.value0));throw new Error("Failed pattern match at Gemini.Component.Puzzle (line 88, column 1 - line 88, column 44): "+[t.constructor.name,r.constructor.name])}},a0=function(t){var r=ln(t.Nat0());return function(e){var n=bo(ur(je(e))/ur(r))(iu.value);return y_(n)(bo(-90)(tc.value))}},i0=a0(VA),o0=function(t){return function(r){var e=i0(t.position),n=Zw(r),u=GA(n)(t0(t.ring)),i=GA(Dn(r.gemini))(function(){var p=Jf(t);return function(_){return Na(Hw(function(l){return l.color}(p(_))))}}());return qw(mn)({diskAttrs:D_(Gw([k_("disk"),i,On(A_(u0(t))(Dn(r.drag)))("hidden")]))(D_(zw(A_(r0)(D_(k_(e))(A_(y_(e))(u)))))(Vw(jl.value)(ju(ic({drag:r.drag,location:t})))))})}},XA=function(t){var r=function(n){return Rt(Do)(Xw)(function(u){var i={ring:n,position:u};return o0(i)(t)})},e=function(n){return Xu([zA("w-full relative"),jw(Kw(n)),k_(kf("ring")(function(){if(n instanceof Dt)return"left";if(n instanceof _t)return"center";if(n instanceof kt)return"right";throw new Error("Failed pattern match at Gemini.Component.Puzzle (line 52, column 13 - line 55, column 35): "+[n.constructor.name])}()))])(r(n))};return Xu([zA("gemini")])(Do(e)(Jw))};var $_=Yo(wt)(Ht),ko=g(Vt),c0=Jt($),p0=J(Yu),l0=pt(hr),_0=le(_e)(hr),v0=Ln(zn),s0=X(Ja),m0=Nn(ri),b0=B(Zu),D0=P(he),KA=B(Qu),A0=Nn(ti),jA=at(_i),k0=Qo(Ht),QA=Pe(Ie),JA=Jt(Bt),d0=at(jf),y0=bn({reflectType:function(){return"<div ~diskAttrs~ />"}})()()(Qa()(Ku)({reflectType:function(){return"diskAttrs"}})({reflectSymbol:function(){return"diskAttrs"}})),g_=Gt(ae),YA=qa(nu),Ao=P(ir),S_=g(Bt),g0=io(Ha),S0=Wr(mA),$0=vn(za(QA)),h0=uu(nu),C0=Uf(Ha),F0=vn(ja),T0=function(t){if(t instanceof Dt)return"";if(t instanceof _t)return"top: -14.9%";if(t instanceof kt)return"top: -29.8%";throw new Error("Failed pattern match at Gemini.Component.Puzzle.Mobile (line 102, column 3 - line 105, column 31): "+[t.constructor.name])},x0=function(){return $_(ko(Je)([U(_t.value)(2),U(_t.value)(7)]))}(),M0=function(){return $_(ko(Je)([U(_t.value)(16),U(_t.value)(11)]))}(),E0=function(t){return ui(Dn(t.drag))(function(r){return c0(t.domInfo)(function(e){return{drag:r,domInfo:e}})})},w0=function(t){return function(r){return kr(p0)(l0(r.drag)(function(e){var n=ou(e);return _0(v0(s0(t)(n.ring)))(function(){var u=m0(r.domInfo.ringCenter(n.ring)),i=function(){var p=b0(u);return function(_){return ei(p(_))}}();return D0(KA(i(e.currentPoint))(A0(i(e.initialPoint))))})}))}},I0=function(t){var r=43*(1+ec(t)),e=43*(1+rc(t));return"left: "+(jA(r)+("%; top: "+(jA(e)+"%")))},P0=function(){return $_(ko(Je)([U(Dt.value)(2),U(Dt.value)(7),U(kt.value)(16),U(kt.value)(11)]))}(),L0=function(t){var r=ou(t);if(r.ring instanceof Dt)return M0;if(r.ring instanceof _t)return P0;if(r.ring instanceof kt)return x0;throw new Error("Failed pattern match at Gemini.Component.Puzzle.Mobile (line 109, column 3 - line 112, column 32): "+[r.ring.constructor.name])},R0=function(t){return function(r){if(r instanceof S)return!1;if(r instanceof y)return k0(Je(t))(L0(r.value0));throw new Error("Failed pattern match at Gemini.Component.Puzzle.Mobile (line 81, column 1 - line 81, column 44): "+[t.constructor.name,r.constructor.name])}},O0=function(t){var r=ln(t.Nat0());return function(e){var n=bo(ur(je(e))/ur(r))(iu.value);return n}},N0=O0(QA),U0=function(t){return function(r){var e=N0(t.position),n=E0(r),u=JA(n)(w0(t.ring)),i=JA(Dn(r.gemini))(function(){var p=Jf(t);return function(_){return Na(d0(function(l){return l.color}(p(_))))}}());return y0(mn)({diskAttrs:g_(YA([Ao("disk"),i,On(S_(R0(t))(Dn(r.drag)))("hidden")]))(g_(g0(S_(I0)(g_(Ao(e))(S_(KA(e))(u)))))(S0(r_.value)(Ka(ic({drag:r.drag,location:t})))))})}},ZA=function(t){var r=function(n){return Rt(ko)($0)(function(u){var i={ring:n,position:u};return U0(i)(t)})},e=function(n){return Xu([h0("h-full w-full relative"),C0(T0(n)),Ao(kf("ring")(function(){if(n instanceof Dt)return"left";if(n instanceof _t)return"center";if(n instanceof kt)return"right";throw new Error("Failed pattern match at Gemini.Component.Puzzle.Mobile (line 45, column 13 - line 48, column 35): "+[n.constructor.name])}()))])(r(n))};return Xu([YA([Ao("gemini"),On(Ao(ta))("mobile")])])(ko(e)(F0))};var rk=()=>({ringRadius:W0(),leftRingCenter:h_('[data-ring="left"]'),centerRingCenter:h_('[data-ring="center"]'),rightRingCenter:h_('[data-ring="right"]')});function h_(t){let e=document.querySelector(t).getBoundingClientRect(),n=e.width,u=e.left,i=e.top,p=n/2;return{x:u+p,y:i+p}}function tk(t){return document.querySelector(t).getBoundingClientRect().width}function W0(){let t=tk("[data-ring]"),r=tk(".disk");return(t-r)/2}var ek=Jt($)(rk)(function(t){return{ringRadius:t.ringRadius,ringCenter:function(r){if(r instanceof Dt)return t.leftRingCenter;if(r instanceof _t)return t.centerRingCenter;if(r instanceof kt)return t.rightRingCenter;throw new Error("Failed pattern match at Gemini.DomInfo (line 30, column 15 - line 33, column 45): "+[r.constructor.name])}}}),nk={ringRadius:0,ringCenter:J(Vn(s_))};var uk=t=>new ResizeObserver(r=>t(r)()),ak=t=>r=>()=>r.observe(t),C_=t=>()=>t.disconnect();var fc=function(){var t=function(){var r=Kf(Du($r(J(Vn($n(Sn)))))),e=uk(function(n){if(n.length===1)return function(){var i=Du(sr(r))();return i(n[0].target)()};throw new Error("Failed pattern match at Resize (line 49, column 15 - line 51, column 30): "+[n.constructor.name])});return{ref:r,ob:e}}();return{event:Sa(function(r){return function(){return Du(Zr(r)(t.ref))(),C_(t.ob)}}),listen:function(r){return function(){C_(t.ob)();var n=Du(sr(t.ref))();return n(r)(),ak(r)(t.ob)()}}}}();var ra=Qa(),cc=MA(),ok=ra(Ku),V0=bn({reflectType:function(){return`
    <a target="_blank" rel="noopener noreferrer" ~linkAttrs~>
        <img ~imgAttrs~ />
        <span ~labelAttrs~>~label~</span>
    </a>
  `}})()()(ra(cc(ra(ok({reflectType:function(){return"linkAttrs"}})({reflectSymbol:function(){return"linkAttrs"}}))({reflectType:function(){return"labelAttrs"}})({reflectSymbol:function(){return"labelAttrs"}}))({reflectType:function(){return"label"}})({reflectSymbol:function(){return"label"}}))({reflectType:function(){return"imgAttrs"}})({reflectSymbol:function(){return"imgAttrs"}})),Ae=Gt(ae),X0=uu(kD),j0=Wr(dD),J0=uu(AD),K0=Wr(bA),Q0=uu(DD),Y0=bn({reflectType:function(){return`
    <div ~headerAttrs~>
      <button class="action-button" ~buttonAttrs~>
        Scramble
      </button>
    </div>
  `}})()()(ra(ok({reflectType:function(){return"headerAttrs"}})({reflectSymbol:function(){return"headerAttrs"}}))({reflectType:function(){return"buttonAttrs"}})({reflectSymbol:function(){return"buttonAttrs"}})),F_=qa(nu),yo=P(ir),Z0=Wr(aA),fk=cc(Ku),ck={reflectType:function(){return"footer"}},pk={reflectSymbol:function(){return"footer"}},lk=fk({reflectType:function(){return"puzzle"}})({reflectSymbol:function(){return"puzzle"}}),_k={reflectType:function(){return"attrs"}},vk={reflectSymbol:function(){return"attrs"}},t1=bn({reflectType:function(){return`
          <div class="w-full h-full fixed" ~attrs~>
            ~puzzle~
          </div>
        `}})()()(ra(lk)(_k)(vk)),ik=Wr(AA),r1=Wr(sA),e1=Wr(vA),n1=Wr(_A),u1=bn({reflectType:function(){return`
          <div ~attrs~>
            <div class="flex flex-col gap-12 items-center">
              ~header~
              ~puzzle~
              ~footer~
            </div>
          </div>
        `}})()()(ra(cc(cc(lk)({reflectType:function(){return"header"}})({reflectSymbol:function(){return"header"}}))(ck)(pk))(_k)(vk)),a1=Jt(Bt),i1=Wr(iA),o1=Wr(pA),f1=Wr(lA),c1=Wr(cA),p1=Wr(oA),l1=function(t){return function(r){return function(e){return V0(mn)({linkAttrs:Ae(X0("flex items-center p-2 underline decoration-sky-500/30"))(j0(Nf.value)(r)),imgAttrs:Ae(J0("h-[20px] m-2"))(K0(e_.value)(t)),labelAttrs:Q0("decoration-sky-500/30"),label:D(e)})}}},_1=function(t){return Y0(mn)({headerAttrs:F_([yo("flex justify-center"),On(yo(ta))("hidden")]),buttonAttrs:Z0(zl.value)(OA(t))})},v1=bn({reflectType:function(){return`
      <div ~footer~>
        <div class="text-2xl">
          <div>Q: Rotate left disk counter clockwise</div>
          <div>W: Rotate left disk clockwise</div>
          <div>T: Rotate center disk counter clockwise</div>
          <div>Y: Rotate center disk clockwise</div>
          <div>O: Rotate right disk counter clockwise</div>
          <div>P: Rotate right disk clockwise</div>
        </div>
        <div class="fixed bottom-0 left-0">
          ~viewSource~
        </div>
      </div>
    `}})()()(ra(fk({reflectType:function(){return"viewSource"}})({reflectSymbol:function(){return"viewSource"}}))(ck)(pk))(mn)({footer:F_([On(yo(ta))("hidden")]),viewSource:l1("./github.png")("https://github.com/CharlesTaylor7/gemini")("View Source")}),sk=sn(__(eA))(function(t){return sn(__(S.value))(function(r){var e=ui(fc.event)(C(ek));return sn(Yf(nk)(e))(function(n){var u={gemini:t,drag:r,domInfo:n};return ta?t1(mn)({attrs:Ae(ik(n_.value)(function(i){return fc.listen(i)}))(Ae(r1(t_.value)(Ka(ac(u))))(Ae(e1(Zl.value)(Ka(ni(u))))(n1(Yl.value)(Ka(ni(u)))))),puzzle:ZA(u)}):u1(mn)({header:_1(t),attrs:Ae(F_([yo("mt-12 fixed w-full h-full flex justify-center"),On(a1(Dn(r))(vi))("cursor-grabbing")]))(Ae(yA)(Ae(kA(yo(0)))(Ae(ik(n_.value)(function(i){return fc.listen(i)}))(Ae(i1(Vl.value)(dA(NA(t))))(Ae(o1(Kl.value)(ju(ac(u))))(Ae(f1(Ql.value)(ju(ni(u))))(Ae(c1(Jl.value)(ju(ni(u))))(p1(Xl.value)(ju(ni(u))))))))))),puzzle:XA(u),footer:v1})})})});var mk=bD(sk);mk();})();
//# sourceMappingURL=index.js.map
